// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: tensorflow/compiler/xla/service/hlo.proto

package xla;

public final class Hlo {
  private Hlo() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistryLite registry) {
  }

  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistry registry) {
    registerAllExtensions(
        (com.google.protobuf.ExtensionRegistryLite) registry);
  }
  public interface HloInstructionProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HloInstructionProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>string name = 1;</code>
     */
    java.lang.String getName();
    /**
     * <code>string name = 1;</code>
     */
    com.google.protobuf.ByteString
        getNameBytes();

    /**
     * <code>string opcode = 2;</code>
     */
    java.lang.String getOpcode();
    /**
     * <code>string opcode = 2;</code>
     */
    com.google.protobuf.ByteString
        getOpcodeBytes();

    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    boolean hasShape();
    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    xla.XlaData.Shape getShape();
    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    xla.XlaData.ShapeOrBuilder getShapeOrBuilder();

    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    boolean hasMetadata();
    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    xla.XlaData.OpMetadata getMetadata();
    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    xla.XlaData.OpMetadataOrBuilder getMetadataOrBuilder();

    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    boolean hasLiteral();
    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    xla.XlaData.LiteralProto getLiteral();
    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    xla.XlaData.LiteralProtoOrBuilder getLiteralOrBuilder();

    /**
     * <pre>
     * Parameter number is only present for kParameter.
     * </pre>
     *
     * <code>int64 parameter_number = 9;</code>
     */
    long getParameterNumber();

    /**
     * <pre>
     * Fusion state, only present for kFusion.
     * </pre>
     *
     * <code>string fusion_kind = 11;</code>
     */
    java.lang.String getFusionKind();
    /**
     * <pre>
     * Fusion state, only present for kFusion.
     * </pre>
     *
     * <code>string fusion_kind = 11;</code>
     */
    com.google.protobuf.ByteString
        getFusionKindBytes();

    /**
     * <pre>
     * Index for kGetTupleElement.
     * </pre>
     *
     * <code>int64 tuple_index = 13;</code>
     */
    long getTupleIndex();

    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    java.util.List<java.lang.Long> getDimensionsList();
    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    int getDimensionsCount();
    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    long getDimensions(int index);

    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    boolean hasWindow();
    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    xla.XlaData.Window getWindow();
    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    xla.XlaData.WindowOrBuilder getWindowOrBuilder();

    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    boolean hasConvolutionDimensionNumbers();
    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    xla.XlaData.ConvolutionDimensionNumbers getConvolutionDimensionNumbers();
    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    xla.XlaData.ConvolutionDimensionNumbersOrBuilder getConvolutionDimensionNumbersOrBuilder();

    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions> 
        getSliceDimensionsList();
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    xla.Hlo.HloInstructionProto.SliceDimensions getSliceDimensions(int index);
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    int getSliceDimensionsCount();
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    java.util.List<? extends xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder> 
        getSliceDimensionsOrBuilderList();
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder getSliceDimensionsOrBuilder(
        int index);

    /**
     * <pre>
     * The bit sizes for a reduce-precision operation.
     * </pre>
     *
     * <code>int32 exponent_bits = 18;</code>
     */
    int getExponentBits();

    /**
     * <code>int32 mantissa_bits = 19;</code>
     */
    int getMantissaBits();

    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    java.util.List<java.lang.Long> getDynamicSliceSizesList();
    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    int getDynamicSliceSizesCount();
    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    long getDynamicSliceSizes(int index);

    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    boolean hasPaddingConfig();
    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    xla.XlaData.PaddingConfig getPaddingConfig();
    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    xla.XlaData.PaddingConfigOrBuilder getPaddingConfigOrBuilder();

    /**
     * <pre>
     * Outfeed configuration information, only present for kOutfeed.
     * </pre>
     *
     * <code>bytes outfeed_config = 22;</code>
     */
    com.google.protobuf.ByteString getOutfeedConfig();

    /**
     * <pre>
     * The distribution requested for random number generation.
     * Only present for kRng.
     * </pre>
     *
     * <code>.xla.RandomDistribution distribution = 23;</code>
     */
    int getDistributionValue();
    /**
     * <pre>
     * The distribution requested for random number generation.
     * Only present for kRng.
     * </pre>
     *
     * <code>.xla.RandomDistribution distribution = 23;</code>
     */
    xla.XlaData.RandomDistribution getDistribution();

    /**
     * <pre>
     * A small float number added to the variance to avoid divide-by-zero error.
     * Only present for kBatchNormTraining.
     * </pre>
     *
     * <code>float epsilon = 24;</code>
     */
    float getEpsilon();

    /**
     * <pre>
     * An integer value representing the index of the feature dimension.
     * Only present for kBatchNormTraining.
     * </pre>
     *
     * <code>int64 feature_index = 25;</code>
     */
    long getFeatureIndex();

    /**
     * <pre>
     * Represents a unique identifier for each Send/Recv instruction pair.
     * Only present for kSend or kRecv.
     * </pre>
     *
     * <code>int64 channel_id = 26;</code>
     */
    long getChannelId();

    /**
     * <pre>
     * The string representation of the infeed configuration.
     * </pre>
     *
     * <code>bytes infeed_config = 27;</code>
     */
    com.google.protobuf.ByteString getInfeedConfig();

    /**
     * <pre>
     * Name of a global symbol to call, only present for kCustomCall.
     * </pre>
     *
     * <code>string custom_call_target = 28;</code>
     */
    java.lang.String getCustomCallTarget();
    /**
     * <pre>
     * Name of a global symbol to call, only present for kCustomCall.
     * </pre>
     *
     * <code>string custom_call_target = 28;</code>
     */
    com.google.protobuf.ByteString
        getCustomCallTargetBytes();

    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    boolean hasOutfeedShape();
    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    xla.XlaData.Shape getOutfeedShape();
    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    xla.XlaData.ShapeOrBuilder getOutfeedShapeOrBuilder();

    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    boolean hasDotDimensionNumbers();
    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    xla.XlaData.DotDimensionNumbers getDotDimensionNumbers();
    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    xla.XlaData.DotDimensionNumbersOrBuilder getDotDimensionNumbersOrBuilder();

    /**
     * <pre>
     * FFT type (FFT, IFFT, etc).
     * </pre>
     *
     * <code>.xla.FftType fft_type = 31;</code>
     */
    int getFftTypeValue();
    /**
     * <pre>
     * FFT type (FFT, IFFT, etc).
     * </pre>
     *
     * <code>.xla.FftType fft_type = 31;</code>
     */
    xla.XlaData.FftType getFftType();

    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    java.util.List<java.lang.Long> getFftLengthList();
    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    int getFftLengthCount();
    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    long getFftLength(int index);

    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    boolean hasGatherDimensionNumbers();
    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    xla.XlaData.GatherDimensionNumbers getGatherDimensionNumbers();
    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    xla.XlaData.GatherDimensionNumbersOrBuilder getGatherDimensionNumbersOrBuilder();

    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    java.util.List<java.lang.Long> getGatherWindowBoundsList();
    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    int getGatherWindowBoundsCount();
    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    long getGatherWindowBounds(int index);

    /**
     * <pre>
     * The id of this instruction.
     * </pre>
     *
     * <code>int64 id = 35;</code>
     */
    long getId();

    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    java.util.List<java.lang.Long> getOperandIdsList();
    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    int getOperandIdsCount();
    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    long getOperandIds(int index);

    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    java.util.List<java.lang.Long> getControlPredecessorIdsList();
    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    int getControlPredecessorIdsCount();
    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    long getControlPredecessorIds(int index);

    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    java.util.List<java.lang.Long> getCalledComputationIdsList();
    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    int getCalledComputationIdsCount();
    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    long getCalledComputationIds(int index);

    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    boolean hasSharding();
    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    xla.XlaData.OpSharding getSharding();
    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    xla.XlaData.OpShardingOrBuilder getShardingOrBuilder();
  }
  /**
   * <pre>
   * Serialization of HloInstruction.
   * </pre>
   *
   * Protobuf type {@code xla.HloInstructionProto}
   */
  public  static final class HloInstructionProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HloInstructionProto)
      HloInstructionProtoOrBuilder {
    // Use HloInstructionProto.newBuilder() to construct.
    private HloInstructionProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HloInstructionProto() {
      name_ = "";
      opcode_ = "";
      parameterNumber_ = 0L;
      fusionKind_ = "";
      tupleIndex_ = 0L;
      dimensions_ = java.util.Collections.emptyList();
      sliceDimensions_ = java.util.Collections.emptyList();
      exponentBits_ = 0;
      mantissaBits_ = 0;
      dynamicSliceSizes_ = java.util.Collections.emptyList();
      outfeedConfig_ = com.google.protobuf.ByteString.EMPTY;
      distribution_ = 0;
      epsilon_ = 0F;
      featureIndex_ = 0L;
      channelId_ = 0L;
      infeedConfig_ = com.google.protobuf.ByteString.EMPTY;
      customCallTarget_ = "";
      fftType_ = 0;
      fftLength_ = java.util.Collections.emptyList();
      gatherWindowBounds_ = java.util.Collections.emptyList();
      id_ = 0L;
      operandIds_ = java.util.Collections.emptyList();
      controlPredecessorIds_ = java.util.Collections.emptyList();
      calledComputationIds_ = java.util.Collections.emptyList();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HloInstructionProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      int mutable_bitField1_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              java.lang.String s = input.readStringRequireUtf8();

              name_ = s;
              break;
            }
            case 18: {
              java.lang.String s = input.readStringRequireUtf8();

              opcode_ = s;
              break;
            }
            case 26: {
              xla.XlaData.Shape.Builder subBuilder = null;
              if (shape_ != null) {
                subBuilder = shape_.toBuilder();
              }
              shape_ = input.readMessage(xla.XlaData.Shape.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(shape_);
                shape_ = subBuilder.buildPartial();
              }

              break;
            }
            case 58: {
              xla.XlaData.OpMetadata.Builder subBuilder = null;
              if (metadata_ != null) {
                subBuilder = metadata_.toBuilder();
              }
              metadata_ = input.readMessage(xla.XlaData.OpMetadata.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(metadata_);
                metadata_ = subBuilder.buildPartial();
              }

              break;
            }
            case 66: {
              xla.XlaData.LiteralProto.Builder subBuilder = null;
              if (literal_ != null) {
                subBuilder = literal_.toBuilder();
              }
              literal_ = input.readMessage(xla.XlaData.LiteralProto.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(literal_);
                literal_ = subBuilder.buildPartial();
              }

              break;
            }
            case 72: {

              parameterNumber_ = input.readInt64();
              break;
            }
            case 90: {
              java.lang.String s = input.readStringRequireUtf8();

              fusionKind_ = s;
              break;
            }
            case 104: {

              tupleIndex_ = input.readInt64();
              break;
            }
            case 112: {
              if (!((mutable_bitField0_ & 0x00000100) == 0x00000100)) {
                dimensions_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00000100;
              }
              dimensions_.add(input.readInt64());
              break;
            }
            case 114: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x00000100) == 0x00000100) && input.getBytesUntilLimit() > 0) {
                dimensions_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00000100;
              }
              while (input.getBytesUntilLimit() > 0) {
                dimensions_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 122: {
              xla.XlaData.Window.Builder subBuilder = null;
              if (window_ != null) {
                subBuilder = window_.toBuilder();
              }
              window_ = input.readMessage(xla.XlaData.Window.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(window_);
                window_ = subBuilder.buildPartial();
              }

              break;
            }
            case 130: {
              xla.XlaData.ConvolutionDimensionNumbers.Builder subBuilder = null;
              if (convolutionDimensionNumbers_ != null) {
                subBuilder = convolutionDimensionNumbers_.toBuilder();
              }
              convolutionDimensionNumbers_ = input.readMessage(xla.XlaData.ConvolutionDimensionNumbers.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(convolutionDimensionNumbers_);
                convolutionDimensionNumbers_ = subBuilder.buildPartial();
              }

              break;
            }
            case 138: {
              if (!((mutable_bitField0_ & 0x00000800) == 0x00000800)) {
                sliceDimensions_ = new java.util.ArrayList<xla.Hlo.HloInstructionProto.SliceDimensions>();
                mutable_bitField0_ |= 0x00000800;
              }
              sliceDimensions_.add(
                  input.readMessage(xla.Hlo.HloInstructionProto.SliceDimensions.parser(), extensionRegistry));
              break;
            }
            case 144: {

              exponentBits_ = input.readInt32();
              break;
            }
            case 152: {

              mantissaBits_ = input.readInt32();
              break;
            }
            case 160: {
              if (!((mutable_bitField0_ & 0x00004000) == 0x00004000)) {
                dynamicSliceSizes_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00004000;
              }
              dynamicSliceSizes_.add(input.readInt64());
              break;
            }
            case 162: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x00004000) == 0x00004000) && input.getBytesUntilLimit() > 0) {
                dynamicSliceSizes_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00004000;
              }
              while (input.getBytesUntilLimit() > 0) {
                dynamicSliceSizes_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 170: {
              xla.XlaData.PaddingConfig.Builder subBuilder = null;
              if (paddingConfig_ != null) {
                subBuilder = paddingConfig_.toBuilder();
              }
              paddingConfig_ = input.readMessage(xla.XlaData.PaddingConfig.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(paddingConfig_);
                paddingConfig_ = subBuilder.buildPartial();
              }

              break;
            }
            case 178: {

              outfeedConfig_ = input.readBytes();
              break;
            }
            case 184: {
              int rawValue = input.readEnum();

              distribution_ = rawValue;
              break;
            }
            case 197: {

              epsilon_ = input.readFloat();
              break;
            }
            case 200: {

              featureIndex_ = input.readInt64();
              break;
            }
            case 208: {

              channelId_ = input.readInt64();
              break;
            }
            case 218: {

              infeedConfig_ = input.readBytes();
              break;
            }
            case 226: {
              java.lang.String s = input.readStringRequireUtf8();

              customCallTarget_ = s;
              break;
            }
            case 234: {
              xla.XlaData.Shape.Builder subBuilder = null;
              if (outfeedShape_ != null) {
                subBuilder = outfeedShape_.toBuilder();
              }
              outfeedShape_ = input.readMessage(xla.XlaData.Shape.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(outfeedShape_);
                outfeedShape_ = subBuilder.buildPartial();
              }

              break;
            }
            case 242: {
              xla.XlaData.DotDimensionNumbers.Builder subBuilder = null;
              if (dotDimensionNumbers_ != null) {
                subBuilder = dotDimensionNumbers_.toBuilder();
              }
              dotDimensionNumbers_ = input.readMessage(xla.XlaData.DotDimensionNumbers.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(dotDimensionNumbers_);
                dotDimensionNumbers_ = subBuilder.buildPartial();
              }

              break;
            }
            case 248: {
              int rawValue = input.readEnum();

              fftType_ = rawValue;
              break;
            }
            case 256: {
              if (!((mutable_bitField0_ & 0x04000000) == 0x04000000)) {
                fftLength_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x04000000;
              }
              fftLength_.add(input.readInt64());
              break;
            }
            case 258: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x04000000) == 0x04000000) && input.getBytesUntilLimit() > 0) {
                fftLength_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x04000000;
              }
              while (input.getBytesUntilLimit() > 0) {
                fftLength_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 266: {
              xla.XlaData.GatherDimensionNumbers.Builder subBuilder = null;
              if (gatherDimensionNumbers_ != null) {
                subBuilder = gatherDimensionNumbers_.toBuilder();
              }
              gatherDimensionNumbers_ = input.readMessage(xla.XlaData.GatherDimensionNumbers.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(gatherDimensionNumbers_);
                gatherDimensionNumbers_ = subBuilder.buildPartial();
              }

              break;
            }
            case 272: {
              if (!((mutable_bitField0_ & 0x10000000) == 0x10000000)) {
                gatherWindowBounds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x10000000;
              }
              gatherWindowBounds_.add(input.readInt64());
              break;
            }
            case 274: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x10000000) == 0x10000000) && input.getBytesUntilLimit() > 0) {
                gatherWindowBounds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x10000000;
              }
              while (input.getBytesUntilLimit() > 0) {
                gatherWindowBounds_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 280: {

              id_ = input.readInt64();
              break;
            }
            case 288: {
              if (!((mutable_bitField0_ & 0x40000000) == 0x40000000)) {
                operandIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x40000000;
              }
              operandIds_.add(input.readInt64());
              break;
            }
            case 290: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x40000000) == 0x40000000) && input.getBytesUntilLimit() > 0) {
                operandIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x40000000;
              }
              while (input.getBytesUntilLimit() > 0) {
                operandIds_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 296: {
              if (!((mutable_bitField0_ & 0x80000000) == 0x80000000)) {
                controlPredecessorIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x80000000;
              }
              controlPredecessorIds_.add(input.readInt64());
              break;
            }
            case 298: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x80000000) == 0x80000000) && input.getBytesUntilLimit() > 0) {
                controlPredecessorIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x80000000;
              }
              while (input.getBytesUntilLimit() > 0) {
                controlPredecessorIds_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 304: {
              if (!((mutable_bitField1_ & 0x00000001) == 0x00000001)) {
                calledComputationIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField1_ |= 0x00000001;
              }
              calledComputationIds_.add(input.readInt64());
              break;
            }
            case 306: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField1_ & 0x00000001) == 0x00000001) && input.getBytesUntilLimit() > 0) {
                calledComputationIds_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField1_ |= 0x00000001;
              }
              while (input.getBytesUntilLimit() > 0) {
                calledComputationIds_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
            case 322: {
              xla.XlaData.OpSharding.Builder subBuilder = null;
              if (sharding_ != null) {
                subBuilder = sharding_.toBuilder();
              }
              sharding_ = input.readMessage(xla.XlaData.OpSharding.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(sharding_);
                sharding_ = subBuilder.buildPartial();
              }

              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000100) == 0x00000100)) {
          dimensions_ = java.util.Collections.unmodifiableList(dimensions_);
        }
        if (((mutable_bitField0_ & 0x00000800) == 0x00000800)) {
          sliceDimensions_ = java.util.Collections.unmodifiableList(sliceDimensions_);
        }
        if (((mutable_bitField0_ & 0x00004000) == 0x00004000)) {
          dynamicSliceSizes_ = java.util.Collections.unmodifiableList(dynamicSliceSizes_);
        }
        if (((mutable_bitField0_ & 0x04000000) == 0x04000000)) {
          fftLength_ = java.util.Collections.unmodifiableList(fftLength_);
        }
        if (((mutable_bitField0_ & 0x10000000) == 0x10000000)) {
          gatherWindowBounds_ = java.util.Collections.unmodifiableList(gatherWindowBounds_);
        }
        if (((mutable_bitField0_ & 0x40000000) == 0x40000000)) {
          operandIds_ = java.util.Collections.unmodifiableList(operandIds_);
        }
        if (((mutable_bitField0_ & 0x80000000) == 0x80000000)) {
          controlPredecessorIds_ = java.util.Collections.unmodifiableList(controlPredecessorIds_);
        }
        if (((mutable_bitField1_ & 0x00000001) == 0x00000001)) {
          calledComputationIds_ = java.util.Collections.unmodifiableList(calledComputationIds_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HloInstructionProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HloInstructionProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HloInstructionProto.class, xla.Hlo.HloInstructionProto.Builder.class);
    }

    public interface SliceDimensionsOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.HloInstructionProto.SliceDimensions)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>int64 start = 1;</code>
       */
      long getStart();

      /**
       * <code>int64 limit = 2;</code>
       */
      long getLimit();

      /**
       * <code>int64 stride = 3;</code>
       */
      long getStride();
    }
    /**
     * <pre>
     * Describes the [begin, end) index range and stride for slices.
     * </pre>
     *
     * Protobuf type {@code xla.HloInstructionProto.SliceDimensions}
     */
    public  static final class SliceDimensions extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.HloInstructionProto.SliceDimensions)
        SliceDimensionsOrBuilder {
      // Use SliceDimensions.newBuilder() to construct.
      private SliceDimensions(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private SliceDimensions() {
        start_ = 0L;
        limit_ = 0L;
        stride_ = 0L;
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private SliceDimensions(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 8: {

                start_ = input.readInt64();
                break;
              }
              case 16: {

                limit_ = input.readInt64();
                break;
              }
              case 24: {

                stride_ = input.readInt64();
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloInstructionProto_SliceDimensions_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloInstructionProto_SliceDimensions_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloInstructionProto.SliceDimensions.class, xla.Hlo.HloInstructionProto.SliceDimensions.Builder.class);
      }

      public static final int START_FIELD_NUMBER = 1;
      private long start_;
      /**
       * <code>int64 start = 1;</code>
       */
      public long getStart() {
        return start_;
      }

      public static final int LIMIT_FIELD_NUMBER = 2;
      private long limit_;
      /**
       * <code>int64 limit = 2;</code>
       */
      public long getLimit() {
        return limit_;
      }

      public static final int STRIDE_FIELD_NUMBER = 3;
      private long stride_;
      /**
       * <code>int64 stride = 3;</code>
       */
      public long getStride() {
        return stride_;
      }

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (start_ != 0L) {
          output.writeInt64(1, start_);
        }
        if (limit_ != 0L) {
          output.writeInt64(2, limit_);
        }
        if (stride_ != 0L) {
          output.writeInt64(3, stride_);
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (start_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(1, start_);
        }
        if (limit_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(2, limit_);
        }
        if (stride_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(3, stride_);
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.HloInstructionProto.SliceDimensions)) {
          return super.equals(obj);
        }
        xla.Hlo.HloInstructionProto.SliceDimensions other = (xla.Hlo.HloInstructionProto.SliceDimensions) obj;

        boolean result = true;
        result = result && (getStart()
            == other.getStart());
        result = result && (getLimit()
            == other.getLimit());
        result = result && (getStride()
            == other.getStride());
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + START_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getStart());
        hash = (37 * hash) + LIMIT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getLimit());
        hash = (37 * hash) + STRIDE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getStride());
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloInstructionProto.SliceDimensions parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.HloInstructionProto.SliceDimensions prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * Describes the [begin, end) index range and stride for slices.
       * </pre>
       *
       * Protobuf type {@code xla.HloInstructionProto.SliceDimensions}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.HloInstructionProto.SliceDimensions)
          xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_HloInstructionProto_SliceDimensions_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_HloInstructionProto_SliceDimensions_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.HloInstructionProto.SliceDimensions.class, xla.Hlo.HloInstructionProto.SliceDimensions.Builder.class);
        }

        // Construct using xla.Hlo.HloInstructionProto.SliceDimensions.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          start_ = 0L;

          limit_ = 0L;

          stride_ = 0L;

          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_HloInstructionProto_SliceDimensions_descriptor;
        }

        public xla.Hlo.HloInstructionProto.SliceDimensions getDefaultInstanceForType() {
          return xla.Hlo.HloInstructionProto.SliceDimensions.getDefaultInstance();
        }

        public xla.Hlo.HloInstructionProto.SliceDimensions build() {
          xla.Hlo.HloInstructionProto.SliceDimensions result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.HloInstructionProto.SliceDimensions buildPartial() {
          xla.Hlo.HloInstructionProto.SliceDimensions result = new xla.Hlo.HloInstructionProto.SliceDimensions(this);
          result.start_ = start_;
          result.limit_ = limit_;
          result.stride_ = stride_;
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.HloInstructionProto.SliceDimensions) {
            return mergeFrom((xla.Hlo.HloInstructionProto.SliceDimensions)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.HloInstructionProto.SliceDimensions other) {
          if (other == xla.Hlo.HloInstructionProto.SliceDimensions.getDefaultInstance()) return this;
          if (other.getStart() != 0L) {
            setStart(other.getStart());
          }
          if (other.getLimit() != 0L) {
            setLimit(other.getLimit());
          }
          if (other.getStride() != 0L) {
            setStride(other.getStride());
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.HloInstructionProto.SliceDimensions parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.HloInstructionProto.SliceDimensions) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private long start_ ;
        /**
         * <code>int64 start = 1;</code>
         */
        public long getStart() {
          return start_;
        }
        /**
         * <code>int64 start = 1;</code>
         */
        public Builder setStart(long value) {
          
          start_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 start = 1;</code>
         */
        public Builder clearStart() {
          
          start_ = 0L;
          onChanged();
          return this;
        }

        private long limit_ ;
        /**
         * <code>int64 limit = 2;</code>
         */
        public long getLimit() {
          return limit_;
        }
        /**
         * <code>int64 limit = 2;</code>
         */
        public Builder setLimit(long value) {
          
          limit_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 limit = 2;</code>
         */
        public Builder clearLimit() {
          
          limit_ = 0L;
          onChanged();
          return this;
        }

        private long stride_ ;
        /**
         * <code>int64 stride = 3;</code>
         */
        public long getStride() {
          return stride_;
        }
        /**
         * <code>int64 stride = 3;</code>
         */
        public Builder setStride(long value) {
          
          stride_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 stride = 3;</code>
         */
        public Builder clearStride() {
          
          stride_ = 0L;
          onChanged();
          return this;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.HloInstructionProto.SliceDimensions)
      }

      // @@protoc_insertion_point(class_scope:xla.HloInstructionProto.SliceDimensions)
      private static final xla.Hlo.HloInstructionProto.SliceDimensions DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.HloInstructionProto.SliceDimensions();
      }

      public static xla.Hlo.HloInstructionProto.SliceDimensions getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<SliceDimensions>
          PARSER = new com.google.protobuf.AbstractParser<SliceDimensions>() {
        public SliceDimensions parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new SliceDimensions(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<SliceDimensions> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<SliceDimensions> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.HloInstructionProto.SliceDimensions getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    private int bitField0_;
    public static final int NAME_FIELD_NUMBER = 1;
    private volatile java.lang.Object name_;
    /**
     * <code>string name = 1;</code>
     */
    public java.lang.String getName() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        name_ = s;
        return s;
      }
    }
    /**
     * <code>string name = 1;</code>
     */
    public com.google.protobuf.ByteString
        getNameBytes() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        name_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int OPCODE_FIELD_NUMBER = 2;
    private volatile java.lang.Object opcode_;
    /**
     * <code>string opcode = 2;</code>
     */
    public java.lang.String getOpcode() {
      java.lang.Object ref = opcode_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        opcode_ = s;
        return s;
      }
    }
    /**
     * <code>string opcode = 2;</code>
     */
    public com.google.protobuf.ByteString
        getOpcodeBytes() {
      java.lang.Object ref = opcode_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        opcode_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int SHAPE_FIELD_NUMBER = 3;
    private xla.XlaData.Shape shape_;
    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    public boolean hasShape() {
      return shape_ != null;
    }
    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    public xla.XlaData.Shape getShape() {
      return shape_ == null ? xla.XlaData.Shape.getDefaultInstance() : shape_;
    }
    /**
     * <code>.xla.Shape shape = 3;</code>
     */
    public xla.XlaData.ShapeOrBuilder getShapeOrBuilder() {
      return getShape();
    }

    public static final int METADATA_FIELD_NUMBER = 7;
    private xla.XlaData.OpMetadata metadata_;
    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    public boolean hasMetadata() {
      return metadata_ != null;
    }
    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    public xla.XlaData.OpMetadata getMetadata() {
      return metadata_ == null ? xla.XlaData.OpMetadata.getDefaultInstance() : metadata_;
    }
    /**
     * <code>.xla.OpMetadata metadata = 7;</code>
     */
    public xla.XlaData.OpMetadataOrBuilder getMetadataOrBuilder() {
      return getMetadata();
    }

    public static final int LITERAL_FIELD_NUMBER = 8;
    private xla.XlaData.LiteralProto literal_;
    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    public boolean hasLiteral() {
      return literal_ != null;
    }
    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    public xla.XlaData.LiteralProto getLiteral() {
      return literal_ == null ? xla.XlaData.LiteralProto.getDefaultInstance() : literal_;
    }
    /**
     * <pre>
     * Literal, only present for kConstant.
     * </pre>
     *
     * <code>.xla.LiteralProto literal = 8;</code>
     */
    public xla.XlaData.LiteralProtoOrBuilder getLiteralOrBuilder() {
      return getLiteral();
    }

    public static final int PARAMETER_NUMBER_FIELD_NUMBER = 9;
    private long parameterNumber_;
    /**
     * <pre>
     * Parameter number is only present for kParameter.
     * </pre>
     *
     * <code>int64 parameter_number = 9;</code>
     */
    public long getParameterNumber() {
      return parameterNumber_;
    }

    public static final int FUSION_KIND_FIELD_NUMBER = 11;
    private volatile java.lang.Object fusionKind_;
    /**
     * <pre>
     * Fusion state, only present for kFusion.
     * </pre>
     *
     * <code>string fusion_kind = 11;</code>
     */
    public java.lang.String getFusionKind() {
      java.lang.Object ref = fusionKind_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        fusionKind_ = s;
        return s;
      }
    }
    /**
     * <pre>
     * Fusion state, only present for kFusion.
     * </pre>
     *
     * <code>string fusion_kind = 11;</code>
     */
    public com.google.protobuf.ByteString
        getFusionKindBytes() {
      java.lang.Object ref = fusionKind_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        fusionKind_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int TUPLE_INDEX_FIELD_NUMBER = 13;
    private long tupleIndex_;
    /**
     * <pre>
     * Index for kGetTupleElement.
     * </pre>
     *
     * <code>int64 tuple_index = 13;</code>
     */
    public long getTupleIndex() {
      return tupleIndex_;
    }

    public static final int DIMENSIONS_FIELD_NUMBER = 14;
    private java.util.List<java.lang.Long> dimensions_;
    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    public java.util.List<java.lang.Long>
        getDimensionsList() {
      return dimensions_;
    }
    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    public int getDimensionsCount() {
      return dimensions_.size();
    }
    /**
     * <pre>
     * Dimensions present for some operations that require reshaping or
     * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
     * </pre>
     *
     * <code>repeated int64 dimensions = 14;</code>
     */
    public long getDimensions(int index) {
      return dimensions_.get(index);
    }
    private int dimensionsMemoizedSerializedSize = -1;

    public static final int WINDOW_FIELD_NUMBER = 15;
    private xla.XlaData.Window window_;
    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    public boolean hasWindow() {
      return window_ != null;
    }
    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    public xla.XlaData.Window getWindow() {
      return window_ == null ? xla.XlaData.Window.getDefaultInstance() : window_;
    }
    /**
     * <pre>
     * Describes the window in a windowed operation such as convolution.
     * </pre>
     *
     * <code>.xla.Window window = 15;</code>
     */
    public xla.XlaData.WindowOrBuilder getWindowOrBuilder() {
      return getWindow();
    }

    public static final int CONVOLUTION_DIMENSION_NUMBERS_FIELD_NUMBER = 16;
    private xla.XlaData.ConvolutionDimensionNumbers convolutionDimensionNumbers_;
    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    public boolean hasConvolutionDimensionNumbers() {
      return convolutionDimensionNumbers_ != null;
    }
    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    public xla.XlaData.ConvolutionDimensionNumbers getConvolutionDimensionNumbers() {
      return convolutionDimensionNumbers_ == null ? xla.XlaData.ConvolutionDimensionNumbers.getDefaultInstance() : convolutionDimensionNumbers_;
    }
    /**
     * <pre>
     * Describes the dimension numbers used for a convolution.
     * </pre>
     *
     * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
     */
    public xla.XlaData.ConvolutionDimensionNumbersOrBuilder getConvolutionDimensionNumbersOrBuilder() {
      return getConvolutionDimensionNumbers();
    }

    public static final int SLICE_DIMENSIONS_FIELD_NUMBER = 17;
    private java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions> sliceDimensions_;
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    public java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions> getSliceDimensionsList() {
      return sliceDimensions_;
    }
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    public java.util.List<? extends xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder> 
        getSliceDimensionsOrBuilderList() {
      return sliceDimensions_;
    }
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    public int getSliceDimensionsCount() {
      return sliceDimensions_.size();
    }
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    public xla.Hlo.HloInstructionProto.SliceDimensions getSliceDimensions(int index) {
      return sliceDimensions_.get(index);
    }
    /**
     * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
     */
    public xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder getSliceDimensionsOrBuilder(
        int index) {
      return sliceDimensions_.get(index);
    }

    public static final int EXPONENT_BITS_FIELD_NUMBER = 18;
    private int exponentBits_;
    /**
     * <pre>
     * The bit sizes for a reduce-precision operation.
     * </pre>
     *
     * <code>int32 exponent_bits = 18;</code>
     */
    public int getExponentBits() {
      return exponentBits_;
    }

    public static final int MANTISSA_BITS_FIELD_NUMBER = 19;
    private int mantissaBits_;
    /**
     * <code>int32 mantissa_bits = 19;</code>
     */
    public int getMantissaBits() {
      return mantissaBits_;
    }

    public static final int DYNAMIC_SLICE_SIZES_FIELD_NUMBER = 20;
    private java.util.List<java.lang.Long> dynamicSliceSizes_;
    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    public java.util.List<java.lang.Long>
        getDynamicSliceSizesList() {
      return dynamicSliceSizes_;
    }
    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    public int getDynamicSliceSizesCount() {
      return dynamicSliceSizes_.size();
    }
    /**
     * <pre>
     * Describes the [start, start + size) range size for a dynamic slice
     * ('start' is specified dynamically in the second operand of the operation).
     * </pre>
     *
     * <code>repeated int64 dynamic_slice_sizes = 20;</code>
     */
    public long getDynamicSliceSizes(int index) {
      return dynamicSliceSizes_.get(index);
    }
    private int dynamicSliceSizesMemoizedSerializedSize = -1;

    public static final int PADDING_CONFIG_FIELD_NUMBER = 21;
    private xla.XlaData.PaddingConfig paddingConfig_;
    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    public boolean hasPaddingConfig() {
      return paddingConfig_ != null;
    }
    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    public xla.XlaData.PaddingConfig getPaddingConfig() {
      return paddingConfig_ == null ? xla.XlaData.PaddingConfig.getDefaultInstance() : paddingConfig_;
    }
    /**
     * <pre>
     * The padding configuration that describes the edge padding and interior
     * padding of this pad instruction. Only set for pad instructions.
     * </pre>
     *
     * <code>.xla.PaddingConfig padding_config = 21;</code>
     */
    public xla.XlaData.PaddingConfigOrBuilder getPaddingConfigOrBuilder() {
      return getPaddingConfig();
    }

    public static final int OUTFEED_CONFIG_FIELD_NUMBER = 22;
    private com.google.protobuf.ByteString outfeedConfig_;
    /**
     * <pre>
     * Outfeed configuration information, only present for kOutfeed.
     * </pre>
     *
     * <code>bytes outfeed_config = 22;</code>
     */
    public com.google.protobuf.ByteString getOutfeedConfig() {
      return outfeedConfig_;
    }

    public static final int DISTRIBUTION_FIELD_NUMBER = 23;
    private int distribution_;
    /**
     * <pre>
     * The distribution requested for random number generation.
     * Only present for kRng.
     * </pre>
     *
     * <code>.xla.RandomDistribution distribution = 23;</code>
     */
    public int getDistributionValue() {
      return distribution_;
    }
    /**
     * <pre>
     * The distribution requested for random number generation.
     * Only present for kRng.
     * </pre>
     *
     * <code>.xla.RandomDistribution distribution = 23;</code>
     */
    public xla.XlaData.RandomDistribution getDistribution() {
      xla.XlaData.RandomDistribution result = xla.XlaData.RandomDistribution.valueOf(distribution_);
      return result == null ? xla.XlaData.RandomDistribution.UNRECOGNIZED : result;
    }

    public static final int EPSILON_FIELD_NUMBER = 24;
    private float epsilon_;
    /**
     * <pre>
     * A small float number added to the variance to avoid divide-by-zero error.
     * Only present for kBatchNormTraining.
     * </pre>
     *
     * <code>float epsilon = 24;</code>
     */
    public float getEpsilon() {
      return epsilon_;
    }

    public static final int FEATURE_INDEX_FIELD_NUMBER = 25;
    private long featureIndex_;
    /**
     * <pre>
     * An integer value representing the index of the feature dimension.
     * Only present for kBatchNormTraining.
     * </pre>
     *
     * <code>int64 feature_index = 25;</code>
     */
    public long getFeatureIndex() {
      return featureIndex_;
    }

    public static final int CHANNEL_ID_FIELD_NUMBER = 26;
    private long channelId_;
    /**
     * <pre>
     * Represents a unique identifier for each Send/Recv instruction pair.
     * Only present for kSend or kRecv.
     * </pre>
     *
     * <code>int64 channel_id = 26;</code>
     */
    public long getChannelId() {
      return channelId_;
    }

    public static final int INFEED_CONFIG_FIELD_NUMBER = 27;
    private com.google.protobuf.ByteString infeedConfig_;
    /**
     * <pre>
     * The string representation of the infeed configuration.
     * </pre>
     *
     * <code>bytes infeed_config = 27;</code>
     */
    public com.google.protobuf.ByteString getInfeedConfig() {
      return infeedConfig_;
    }

    public static final int CUSTOM_CALL_TARGET_FIELD_NUMBER = 28;
    private volatile java.lang.Object customCallTarget_;
    /**
     * <pre>
     * Name of a global symbol to call, only present for kCustomCall.
     * </pre>
     *
     * <code>string custom_call_target = 28;</code>
     */
    public java.lang.String getCustomCallTarget() {
      java.lang.Object ref = customCallTarget_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        customCallTarget_ = s;
        return s;
      }
    }
    /**
     * <pre>
     * Name of a global symbol to call, only present for kCustomCall.
     * </pre>
     *
     * <code>string custom_call_target = 28;</code>
     */
    public com.google.protobuf.ByteString
        getCustomCallTargetBytes() {
      java.lang.Object ref = customCallTarget_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        customCallTarget_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int OUTFEED_SHAPE_FIELD_NUMBER = 29;
    private xla.XlaData.Shape outfeedShape_;
    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    public boolean hasOutfeedShape() {
      return outfeedShape_ != null;
    }
    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    public xla.XlaData.Shape getOutfeedShape() {
      return outfeedShape_ == null ? xla.XlaData.Shape.getDefaultInstance() : outfeedShape_;
    }
    /**
     * <pre>
     * Shape of outfeed request.
     * </pre>
     *
     * <code>.xla.Shape outfeed_shape = 29;</code>
     */
    public xla.XlaData.ShapeOrBuilder getOutfeedShapeOrBuilder() {
      return getOutfeedShape();
    }

    public static final int DOT_DIMENSION_NUMBERS_FIELD_NUMBER = 30;
    private xla.XlaData.DotDimensionNumbers dotDimensionNumbers_;
    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    public boolean hasDotDimensionNumbers() {
      return dotDimensionNumbers_ != null;
    }
    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    public xla.XlaData.DotDimensionNumbers getDotDimensionNumbers() {
      return dotDimensionNumbers_ == null ? xla.XlaData.DotDimensionNumbers.getDefaultInstance() : dotDimensionNumbers_;
    }
    /**
     * <pre>
     * Describes the dimension numbers used for a dot operation
     * </pre>
     *
     * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
     */
    public xla.XlaData.DotDimensionNumbersOrBuilder getDotDimensionNumbersOrBuilder() {
      return getDotDimensionNumbers();
    }

    public static final int FFT_TYPE_FIELD_NUMBER = 31;
    private int fftType_;
    /**
     * <pre>
     * FFT type (FFT, IFFT, etc).
     * </pre>
     *
     * <code>.xla.FftType fft_type = 31;</code>
     */
    public int getFftTypeValue() {
      return fftType_;
    }
    /**
     * <pre>
     * FFT type (FFT, IFFT, etc).
     * </pre>
     *
     * <code>.xla.FftType fft_type = 31;</code>
     */
    public xla.XlaData.FftType getFftType() {
      xla.XlaData.FftType result = xla.XlaData.FftType.valueOf(fftType_);
      return result == null ? xla.XlaData.FftType.UNRECOGNIZED : result;
    }

    public static final int FFT_LENGTH_FIELD_NUMBER = 32;
    private java.util.List<java.lang.Long> fftLength_;
    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    public java.util.List<java.lang.Long>
        getFftLengthList() {
      return fftLength_;
    }
    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    public int getFftLengthCount() {
      return fftLength_.size();
    }
    /**
     * <pre>
     * FFT length.
     * </pre>
     *
     * <code>repeated int64 fft_length = 32;</code>
     */
    public long getFftLength(int index) {
      return fftLength_.get(index);
    }
    private int fftLengthMemoizedSerializedSize = -1;

    public static final int GATHER_DIMENSION_NUMBERS_FIELD_NUMBER = 33;
    private xla.XlaData.GatherDimensionNumbers gatherDimensionNumbers_;
    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    public boolean hasGatherDimensionNumbers() {
      return gatherDimensionNumbers_ != null;
    }
    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    public xla.XlaData.GatherDimensionNumbers getGatherDimensionNumbers() {
      return gatherDimensionNumbers_ == null ? xla.XlaData.GatherDimensionNumbers.getDefaultInstance() : gatherDimensionNumbers_;
    }
    /**
     * <pre>
     * Gather dimension numbers.
     * </pre>
     *
     * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
     */
    public xla.XlaData.GatherDimensionNumbersOrBuilder getGatherDimensionNumbersOrBuilder() {
      return getGatherDimensionNumbers();
    }

    public static final int GATHER_WINDOW_BOUNDS_FIELD_NUMBER = 34;
    private java.util.List<java.lang.Long> gatherWindowBounds_;
    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    public java.util.List<java.lang.Long>
        getGatherWindowBoundsList() {
      return gatherWindowBounds_;
    }
    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    public int getGatherWindowBoundsCount() {
      return gatherWindowBounds_.size();
    }
    /**
     * <code>repeated int64 gather_window_bounds = 34;</code>
     */
    public long getGatherWindowBounds(int index) {
      return gatherWindowBounds_.get(index);
    }
    private int gatherWindowBoundsMemoizedSerializedSize = -1;

    public static final int ID_FIELD_NUMBER = 35;
    private long id_;
    /**
     * <pre>
     * The id of this instruction.
     * </pre>
     *
     * <code>int64 id = 35;</code>
     */
    public long getId() {
      return id_;
    }

    public static final int OPERAND_IDS_FIELD_NUMBER = 36;
    private java.util.List<java.lang.Long> operandIds_;
    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    public java.util.List<java.lang.Long>
        getOperandIdsList() {
      return operandIds_;
    }
    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    public int getOperandIdsCount() {
      return operandIds_.size();
    }
    /**
     * <code>repeated int64 operand_ids = 36;</code>
     */
    public long getOperandIds(int index) {
      return operandIds_.get(index);
    }
    private int operandIdsMemoizedSerializedSize = -1;

    public static final int CONTROL_PREDECESSOR_IDS_FIELD_NUMBER = 37;
    private java.util.List<java.lang.Long> controlPredecessorIds_;
    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    public java.util.List<java.lang.Long>
        getControlPredecessorIdsList() {
      return controlPredecessorIds_;
    }
    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    public int getControlPredecessorIdsCount() {
      return controlPredecessorIds_.size();
    }
    /**
     * <code>repeated int64 control_predecessor_ids = 37;</code>
     */
    public long getControlPredecessorIds(int index) {
      return controlPredecessorIds_.get(index);
    }
    private int controlPredecessorIdsMemoizedSerializedSize = -1;

    public static final int CALLED_COMPUTATION_IDS_FIELD_NUMBER = 38;
    private java.util.List<java.lang.Long> calledComputationIds_;
    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    public java.util.List<java.lang.Long>
        getCalledComputationIdsList() {
      return calledComputationIds_;
    }
    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    public int getCalledComputationIdsCount() {
      return calledComputationIds_.size();
    }
    /**
     * <code>repeated int64 called_computation_ids = 38;</code>
     */
    public long getCalledComputationIds(int index) {
      return calledComputationIds_.get(index);
    }
    private int calledComputationIdsMemoizedSerializedSize = -1;

    public static final int SHARDING_FIELD_NUMBER = 40;
    private xla.XlaData.OpSharding sharding_;
    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    public boolean hasSharding() {
      return sharding_ != null;
    }
    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    public xla.XlaData.OpSharding getSharding() {
      return sharding_ == null ? xla.XlaData.OpSharding.getDefaultInstance() : sharding_;
    }
    /**
     * <code>.xla.OpSharding sharding = 40;</code>
     */
    public xla.XlaData.OpShardingOrBuilder getShardingOrBuilder() {
      return getSharding();
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (!getNameBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, name_);
      }
      if (!getOpcodeBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 2, opcode_);
      }
      if (shape_ != null) {
        output.writeMessage(3, getShape());
      }
      if (metadata_ != null) {
        output.writeMessage(7, getMetadata());
      }
      if (literal_ != null) {
        output.writeMessage(8, getLiteral());
      }
      if (parameterNumber_ != 0L) {
        output.writeInt64(9, parameterNumber_);
      }
      if (!getFusionKindBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 11, fusionKind_);
      }
      if (tupleIndex_ != 0L) {
        output.writeInt64(13, tupleIndex_);
      }
      if (getDimensionsList().size() > 0) {
        output.writeUInt32NoTag(114);
        output.writeUInt32NoTag(dimensionsMemoizedSerializedSize);
      }
      for (int i = 0; i < dimensions_.size(); i++) {
        output.writeInt64NoTag(dimensions_.get(i));
      }
      if (window_ != null) {
        output.writeMessage(15, getWindow());
      }
      if (convolutionDimensionNumbers_ != null) {
        output.writeMessage(16, getConvolutionDimensionNumbers());
      }
      for (int i = 0; i < sliceDimensions_.size(); i++) {
        output.writeMessage(17, sliceDimensions_.get(i));
      }
      if (exponentBits_ != 0) {
        output.writeInt32(18, exponentBits_);
      }
      if (mantissaBits_ != 0) {
        output.writeInt32(19, mantissaBits_);
      }
      if (getDynamicSliceSizesList().size() > 0) {
        output.writeUInt32NoTag(162);
        output.writeUInt32NoTag(dynamicSliceSizesMemoizedSerializedSize);
      }
      for (int i = 0; i < dynamicSliceSizes_.size(); i++) {
        output.writeInt64NoTag(dynamicSliceSizes_.get(i));
      }
      if (paddingConfig_ != null) {
        output.writeMessage(21, getPaddingConfig());
      }
      if (!outfeedConfig_.isEmpty()) {
        output.writeBytes(22, outfeedConfig_);
      }
      if (distribution_ != xla.XlaData.RandomDistribution.RNG_INVALID.getNumber()) {
        output.writeEnum(23, distribution_);
      }
      if (epsilon_ != 0F) {
        output.writeFloat(24, epsilon_);
      }
      if (featureIndex_ != 0L) {
        output.writeInt64(25, featureIndex_);
      }
      if (channelId_ != 0L) {
        output.writeInt64(26, channelId_);
      }
      if (!infeedConfig_.isEmpty()) {
        output.writeBytes(27, infeedConfig_);
      }
      if (!getCustomCallTargetBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 28, customCallTarget_);
      }
      if (outfeedShape_ != null) {
        output.writeMessage(29, getOutfeedShape());
      }
      if (dotDimensionNumbers_ != null) {
        output.writeMessage(30, getDotDimensionNumbers());
      }
      if (fftType_ != xla.XlaData.FftType.FFT.getNumber()) {
        output.writeEnum(31, fftType_);
      }
      if (getFftLengthList().size() > 0) {
        output.writeUInt32NoTag(258);
        output.writeUInt32NoTag(fftLengthMemoizedSerializedSize);
      }
      for (int i = 0; i < fftLength_.size(); i++) {
        output.writeInt64NoTag(fftLength_.get(i));
      }
      if (gatherDimensionNumbers_ != null) {
        output.writeMessage(33, getGatherDimensionNumbers());
      }
      if (getGatherWindowBoundsList().size() > 0) {
        output.writeUInt32NoTag(274);
        output.writeUInt32NoTag(gatherWindowBoundsMemoizedSerializedSize);
      }
      for (int i = 0; i < gatherWindowBounds_.size(); i++) {
        output.writeInt64NoTag(gatherWindowBounds_.get(i));
      }
      if (id_ != 0L) {
        output.writeInt64(35, id_);
      }
      if (getOperandIdsList().size() > 0) {
        output.writeUInt32NoTag(290);
        output.writeUInt32NoTag(operandIdsMemoizedSerializedSize);
      }
      for (int i = 0; i < operandIds_.size(); i++) {
        output.writeInt64NoTag(operandIds_.get(i));
      }
      if (getControlPredecessorIdsList().size() > 0) {
        output.writeUInt32NoTag(298);
        output.writeUInt32NoTag(controlPredecessorIdsMemoizedSerializedSize);
      }
      for (int i = 0; i < controlPredecessorIds_.size(); i++) {
        output.writeInt64NoTag(controlPredecessorIds_.get(i));
      }
      if (getCalledComputationIdsList().size() > 0) {
        output.writeUInt32NoTag(306);
        output.writeUInt32NoTag(calledComputationIdsMemoizedSerializedSize);
      }
      for (int i = 0; i < calledComputationIds_.size(); i++) {
        output.writeInt64NoTag(calledComputationIds_.get(i));
      }
      if (sharding_ != null) {
        output.writeMessage(40, getSharding());
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (!getNameBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, name_);
      }
      if (!getOpcodeBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(2, opcode_);
      }
      if (shape_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, getShape());
      }
      if (metadata_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(7, getMetadata());
      }
      if (literal_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(8, getLiteral());
      }
      if (parameterNumber_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(9, parameterNumber_);
      }
      if (!getFusionKindBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(11, fusionKind_);
      }
      if (tupleIndex_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(13, tupleIndex_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < dimensions_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(dimensions_.get(i));
        }
        size += dataSize;
        if (!getDimensionsList().isEmpty()) {
          size += 1;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        dimensionsMemoizedSerializedSize = dataSize;
      }
      if (window_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(15, getWindow());
      }
      if (convolutionDimensionNumbers_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(16, getConvolutionDimensionNumbers());
      }
      for (int i = 0; i < sliceDimensions_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(17, sliceDimensions_.get(i));
      }
      if (exponentBits_ != 0) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(18, exponentBits_);
      }
      if (mantissaBits_ != 0) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(19, mantissaBits_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < dynamicSliceSizes_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(dynamicSliceSizes_.get(i));
        }
        size += dataSize;
        if (!getDynamicSliceSizesList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        dynamicSliceSizesMemoizedSerializedSize = dataSize;
      }
      if (paddingConfig_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(21, getPaddingConfig());
      }
      if (!outfeedConfig_.isEmpty()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(22, outfeedConfig_);
      }
      if (distribution_ != xla.XlaData.RandomDistribution.RNG_INVALID.getNumber()) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(23, distribution_);
      }
      if (epsilon_ != 0F) {
        size += com.google.protobuf.CodedOutputStream
          .computeFloatSize(24, epsilon_);
      }
      if (featureIndex_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(25, featureIndex_);
      }
      if (channelId_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(26, channelId_);
      }
      if (!infeedConfig_.isEmpty()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(27, infeedConfig_);
      }
      if (!getCustomCallTargetBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(28, customCallTarget_);
      }
      if (outfeedShape_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(29, getOutfeedShape());
      }
      if (dotDimensionNumbers_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(30, getDotDimensionNumbers());
      }
      if (fftType_ != xla.XlaData.FftType.FFT.getNumber()) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(31, fftType_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < fftLength_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(fftLength_.get(i));
        }
        size += dataSize;
        if (!getFftLengthList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        fftLengthMemoizedSerializedSize = dataSize;
      }
      if (gatherDimensionNumbers_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(33, getGatherDimensionNumbers());
      }
      {
        int dataSize = 0;
        for (int i = 0; i < gatherWindowBounds_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(gatherWindowBounds_.get(i));
        }
        size += dataSize;
        if (!getGatherWindowBoundsList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        gatherWindowBoundsMemoizedSerializedSize = dataSize;
      }
      if (id_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(35, id_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < operandIds_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(operandIds_.get(i));
        }
        size += dataSize;
        if (!getOperandIdsList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        operandIdsMemoizedSerializedSize = dataSize;
      }
      {
        int dataSize = 0;
        for (int i = 0; i < controlPredecessorIds_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(controlPredecessorIds_.get(i));
        }
        size += dataSize;
        if (!getControlPredecessorIdsList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        controlPredecessorIdsMemoizedSerializedSize = dataSize;
      }
      {
        int dataSize = 0;
        for (int i = 0; i < calledComputationIds_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(calledComputationIds_.get(i));
        }
        size += dataSize;
        if (!getCalledComputationIdsList().isEmpty()) {
          size += 2;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        calledComputationIdsMemoizedSerializedSize = dataSize;
      }
      if (sharding_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(40, getSharding());
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HloInstructionProto)) {
        return super.equals(obj);
      }
      xla.Hlo.HloInstructionProto other = (xla.Hlo.HloInstructionProto) obj;

      boolean result = true;
      result = result && getName()
          .equals(other.getName());
      result = result && getOpcode()
          .equals(other.getOpcode());
      result = result && (hasShape() == other.hasShape());
      if (hasShape()) {
        result = result && getShape()
            .equals(other.getShape());
      }
      result = result && (hasMetadata() == other.hasMetadata());
      if (hasMetadata()) {
        result = result && getMetadata()
            .equals(other.getMetadata());
      }
      result = result && (hasLiteral() == other.hasLiteral());
      if (hasLiteral()) {
        result = result && getLiteral()
            .equals(other.getLiteral());
      }
      result = result && (getParameterNumber()
          == other.getParameterNumber());
      result = result && getFusionKind()
          .equals(other.getFusionKind());
      result = result && (getTupleIndex()
          == other.getTupleIndex());
      result = result && getDimensionsList()
          .equals(other.getDimensionsList());
      result = result && (hasWindow() == other.hasWindow());
      if (hasWindow()) {
        result = result && getWindow()
            .equals(other.getWindow());
      }
      result = result && (hasConvolutionDimensionNumbers() == other.hasConvolutionDimensionNumbers());
      if (hasConvolutionDimensionNumbers()) {
        result = result && getConvolutionDimensionNumbers()
            .equals(other.getConvolutionDimensionNumbers());
      }
      result = result && getSliceDimensionsList()
          .equals(other.getSliceDimensionsList());
      result = result && (getExponentBits()
          == other.getExponentBits());
      result = result && (getMantissaBits()
          == other.getMantissaBits());
      result = result && getDynamicSliceSizesList()
          .equals(other.getDynamicSliceSizesList());
      result = result && (hasPaddingConfig() == other.hasPaddingConfig());
      if (hasPaddingConfig()) {
        result = result && getPaddingConfig()
            .equals(other.getPaddingConfig());
      }
      result = result && getOutfeedConfig()
          .equals(other.getOutfeedConfig());
      result = result && distribution_ == other.distribution_;
      result = result && (
          java.lang.Float.floatToIntBits(getEpsilon())
          == java.lang.Float.floatToIntBits(
              other.getEpsilon()));
      result = result && (getFeatureIndex()
          == other.getFeatureIndex());
      result = result && (getChannelId()
          == other.getChannelId());
      result = result && getInfeedConfig()
          .equals(other.getInfeedConfig());
      result = result && getCustomCallTarget()
          .equals(other.getCustomCallTarget());
      result = result && (hasOutfeedShape() == other.hasOutfeedShape());
      if (hasOutfeedShape()) {
        result = result && getOutfeedShape()
            .equals(other.getOutfeedShape());
      }
      result = result && (hasDotDimensionNumbers() == other.hasDotDimensionNumbers());
      if (hasDotDimensionNumbers()) {
        result = result && getDotDimensionNumbers()
            .equals(other.getDotDimensionNumbers());
      }
      result = result && fftType_ == other.fftType_;
      result = result && getFftLengthList()
          .equals(other.getFftLengthList());
      result = result && (hasGatherDimensionNumbers() == other.hasGatherDimensionNumbers());
      if (hasGatherDimensionNumbers()) {
        result = result && getGatherDimensionNumbers()
            .equals(other.getGatherDimensionNumbers());
      }
      result = result && getGatherWindowBoundsList()
          .equals(other.getGatherWindowBoundsList());
      result = result && (getId()
          == other.getId());
      result = result && getOperandIdsList()
          .equals(other.getOperandIdsList());
      result = result && getControlPredecessorIdsList()
          .equals(other.getControlPredecessorIdsList());
      result = result && getCalledComputationIdsList()
          .equals(other.getCalledComputationIdsList());
      result = result && (hasSharding() == other.hasSharding());
      if (hasSharding()) {
        result = result && getSharding()
            .equals(other.getSharding());
      }
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + NAME_FIELD_NUMBER;
      hash = (53 * hash) + getName().hashCode();
      hash = (37 * hash) + OPCODE_FIELD_NUMBER;
      hash = (53 * hash) + getOpcode().hashCode();
      if (hasShape()) {
        hash = (37 * hash) + SHAPE_FIELD_NUMBER;
        hash = (53 * hash) + getShape().hashCode();
      }
      if (hasMetadata()) {
        hash = (37 * hash) + METADATA_FIELD_NUMBER;
        hash = (53 * hash) + getMetadata().hashCode();
      }
      if (hasLiteral()) {
        hash = (37 * hash) + LITERAL_FIELD_NUMBER;
        hash = (53 * hash) + getLiteral().hashCode();
      }
      hash = (37 * hash) + PARAMETER_NUMBER_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getParameterNumber());
      hash = (37 * hash) + FUSION_KIND_FIELD_NUMBER;
      hash = (53 * hash) + getFusionKind().hashCode();
      hash = (37 * hash) + TUPLE_INDEX_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getTupleIndex());
      if (getDimensionsCount() > 0) {
        hash = (37 * hash) + DIMENSIONS_FIELD_NUMBER;
        hash = (53 * hash) + getDimensionsList().hashCode();
      }
      if (hasWindow()) {
        hash = (37 * hash) + WINDOW_FIELD_NUMBER;
        hash = (53 * hash) + getWindow().hashCode();
      }
      if (hasConvolutionDimensionNumbers()) {
        hash = (37 * hash) + CONVOLUTION_DIMENSION_NUMBERS_FIELD_NUMBER;
        hash = (53 * hash) + getConvolutionDimensionNumbers().hashCode();
      }
      if (getSliceDimensionsCount() > 0) {
        hash = (37 * hash) + SLICE_DIMENSIONS_FIELD_NUMBER;
        hash = (53 * hash) + getSliceDimensionsList().hashCode();
      }
      hash = (37 * hash) + EXPONENT_BITS_FIELD_NUMBER;
      hash = (53 * hash) + getExponentBits();
      hash = (37 * hash) + MANTISSA_BITS_FIELD_NUMBER;
      hash = (53 * hash) + getMantissaBits();
      if (getDynamicSliceSizesCount() > 0) {
        hash = (37 * hash) + DYNAMIC_SLICE_SIZES_FIELD_NUMBER;
        hash = (53 * hash) + getDynamicSliceSizesList().hashCode();
      }
      if (hasPaddingConfig()) {
        hash = (37 * hash) + PADDING_CONFIG_FIELD_NUMBER;
        hash = (53 * hash) + getPaddingConfig().hashCode();
      }
      hash = (37 * hash) + OUTFEED_CONFIG_FIELD_NUMBER;
      hash = (53 * hash) + getOutfeedConfig().hashCode();
      hash = (37 * hash) + DISTRIBUTION_FIELD_NUMBER;
      hash = (53 * hash) + distribution_;
      hash = (37 * hash) + EPSILON_FIELD_NUMBER;
      hash = (53 * hash) + java.lang.Float.floatToIntBits(
          getEpsilon());
      hash = (37 * hash) + FEATURE_INDEX_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getFeatureIndex());
      hash = (37 * hash) + CHANNEL_ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getChannelId());
      hash = (37 * hash) + INFEED_CONFIG_FIELD_NUMBER;
      hash = (53 * hash) + getInfeedConfig().hashCode();
      hash = (37 * hash) + CUSTOM_CALL_TARGET_FIELD_NUMBER;
      hash = (53 * hash) + getCustomCallTarget().hashCode();
      if (hasOutfeedShape()) {
        hash = (37 * hash) + OUTFEED_SHAPE_FIELD_NUMBER;
        hash = (53 * hash) + getOutfeedShape().hashCode();
      }
      if (hasDotDimensionNumbers()) {
        hash = (37 * hash) + DOT_DIMENSION_NUMBERS_FIELD_NUMBER;
        hash = (53 * hash) + getDotDimensionNumbers().hashCode();
      }
      hash = (37 * hash) + FFT_TYPE_FIELD_NUMBER;
      hash = (53 * hash) + fftType_;
      if (getFftLengthCount() > 0) {
        hash = (37 * hash) + FFT_LENGTH_FIELD_NUMBER;
        hash = (53 * hash) + getFftLengthList().hashCode();
      }
      if (hasGatherDimensionNumbers()) {
        hash = (37 * hash) + GATHER_DIMENSION_NUMBERS_FIELD_NUMBER;
        hash = (53 * hash) + getGatherDimensionNumbers().hashCode();
      }
      if (getGatherWindowBoundsCount() > 0) {
        hash = (37 * hash) + GATHER_WINDOW_BOUNDS_FIELD_NUMBER;
        hash = (53 * hash) + getGatherWindowBoundsList().hashCode();
      }
      hash = (37 * hash) + ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getId());
      if (getOperandIdsCount() > 0) {
        hash = (37 * hash) + OPERAND_IDS_FIELD_NUMBER;
        hash = (53 * hash) + getOperandIdsList().hashCode();
      }
      if (getControlPredecessorIdsCount() > 0) {
        hash = (37 * hash) + CONTROL_PREDECESSOR_IDS_FIELD_NUMBER;
        hash = (53 * hash) + getControlPredecessorIdsList().hashCode();
      }
      if (getCalledComputationIdsCount() > 0) {
        hash = (37 * hash) + CALLED_COMPUTATION_IDS_FIELD_NUMBER;
        hash = (53 * hash) + getCalledComputationIdsList().hashCode();
      }
      if (hasSharding()) {
        hash = (37 * hash) + SHARDING_FIELD_NUMBER;
        hash = (53 * hash) + getSharding().hashCode();
      }
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HloInstructionProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloInstructionProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloInstructionProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloInstructionProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HloInstructionProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of HloInstruction.
     * </pre>
     *
     * Protobuf type {@code xla.HloInstructionProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HloInstructionProto)
        xla.Hlo.HloInstructionProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloInstructionProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloInstructionProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloInstructionProto.class, xla.Hlo.HloInstructionProto.Builder.class);
      }

      // Construct using xla.Hlo.HloInstructionProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getSliceDimensionsFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        name_ = "";

        opcode_ = "";

        if (shapeBuilder_ == null) {
          shape_ = null;
        } else {
          shape_ = null;
          shapeBuilder_ = null;
        }
        if (metadataBuilder_ == null) {
          metadata_ = null;
        } else {
          metadata_ = null;
          metadataBuilder_ = null;
        }
        if (literalBuilder_ == null) {
          literal_ = null;
        } else {
          literal_ = null;
          literalBuilder_ = null;
        }
        parameterNumber_ = 0L;

        fusionKind_ = "";

        tupleIndex_ = 0L;

        dimensions_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00000100);
        if (windowBuilder_ == null) {
          window_ = null;
        } else {
          window_ = null;
          windowBuilder_ = null;
        }
        if (convolutionDimensionNumbersBuilder_ == null) {
          convolutionDimensionNumbers_ = null;
        } else {
          convolutionDimensionNumbers_ = null;
          convolutionDimensionNumbersBuilder_ = null;
        }
        if (sliceDimensionsBuilder_ == null) {
          sliceDimensions_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000800);
        } else {
          sliceDimensionsBuilder_.clear();
        }
        exponentBits_ = 0;

        mantissaBits_ = 0;

        dynamicSliceSizes_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00004000);
        if (paddingConfigBuilder_ == null) {
          paddingConfig_ = null;
        } else {
          paddingConfig_ = null;
          paddingConfigBuilder_ = null;
        }
        outfeedConfig_ = com.google.protobuf.ByteString.EMPTY;

        distribution_ = 0;

        epsilon_ = 0F;

        featureIndex_ = 0L;

        channelId_ = 0L;

        infeedConfig_ = com.google.protobuf.ByteString.EMPTY;

        customCallTarget_ = "";

        if (outfeedShapeBuilder_ == null) {
          outfeedShape_ = null;
        } else {
          outfeedShape_ = null;
          outfeedShapeBuilder_ = null;
        }
        if (dotDimensionNumbersBuilder_ == null) {
          dotDimensionNumbers_ = null;
        } else {
          dotDimensionNumbers_ = null;
          dotDimensionNumbersBuilder_ = null;
        }
        fftType_ = 0;

        fftLength_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x04000000);
        if (gatherDimensionNumbersBuilder_ == null) {
          gatherDimensionNumbers_ = null;
        } else {
          gatherDimensionNumbers_ = null;
          gatherDimensionNumbersBuilder_ = null;
        }
        gatherWindowBounds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x10000000);
        id_ = 0L;

        operandIds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x40000000);
        controlPredecessorIds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x80000000);
        calledComputationIds_ = java.util.Collections.emptyList();
        bitField1_ = (bitField1_ & ~0x00000001);
        if (shardingBuilder_ == null) {
          sharding_ = null;
        } else {
          sharding_ = null;
          shardingBuilder_ = null;
        }
        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HloInstructionProto_descriptor;
      }

      public xla.Hlo.HloInstructionProto getDefaultInstanceForType() {
        return xla.Hlo.HloInstructionProto.getDefaultInstance();
      }

      public xla.Hlo.HloInstructionProto build() {
        xla.Hlo.HloInstructionProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HloInstructionProto buildPartial() {
        xla.Hlo.HloInstructionProto result = new xla.Hlo.HloInstructionProto(this);
        int from_bitField0_ = bitField0_;
        int from_bitField1_ = bitField1_;
        int to_bitField0_ = 0;
        result.name_ = name_;
        result.opcode_ = opcode_;
        if (shapeBuilder_ == null) {
          result.shape_ = shape_;
        } else {
          result.shape_ = shapeBuilder_.build();
        }
        if (metadataBuilder_ == null) {
          result.metadata_ = metadata_;
        } else {
          result.metadata_ = metadataBuilder_.build();
        }
        if (literalBuilder_ == null) {
          result.literal_ = literal_;
        } else {
          result.literal_ = literalBuilder_.build();
        }
        result.parameterNumber_ = parameterNumber_;
        result.fusionKind_ = fusionKind_;
        result.tupleIndex_ = tupleIndex_;
        if (((bitField0_ & 0x00000100) == 0x00000100)) {
          dimensions_ = java.util.Collections.unmodifiableList(dimensions_);
          bitField0_ = (bitField0_ & ~0x00000100);
        }
        result.dimensions_ = dimensions_;
        if (windowBuilder_ == null) {
          result.window_ = window_;
        } else {
          result.window_ = windowBuilder_.build();
        }
        if (convolutionDimensionNumbersBuilder_ == null) {
          result.convolutionDimensionNumbers_ = convolutionDimensionNumbers_;
        } else {
          result.convolutionDimensionNumbers_ = convolutionDimensionNumbersBuilder_.build();
        }
        if (sliceDimensionsBuilder_ == null) {
          if (((bitField0_ & 0x00000800) == 0x00000800)) {
            sliceDimensions_ = java.util.Collections.unmodifiableList(sliceDimensions_);
            bitField0_ = (bitField0_ & ~0x00000800);
          }
          result.sliceDimensions_ = sliceDimensions_;
        } else {
          result.sliceDimensions_ = sliceDimensionsBuilder_.build();
        }
        result.exponentBits_ = exponentBits_;
        result.mantissaBits_ = mantissaBits_;
        if (((bitField0_ & 0x00004000) == 0x00004000)) {
          dynamicSliceSizes_ = java.util.Collections.unmodifiableList(dynamicSliceSizes_);
          bitField0_ = (bitField0_ & ~0x00004000);
        }
        result.dynamicSliceSizes_ = dynamicSliceSizes_;
        if (paddingConfigBuilder_ == null) {
          result.paddingConfig_ = paddingConfig_;
        } else {
          result.paddingConfig_ = paddingConfigBuilder_.build();
        }
        result.outfeedConfig_ = outfeedConfig_;
        result.distribution_ = distribution_;
        result.epsilon_ = epsilon_;
        result.featureIndex_ = featureIndex_;
        result.channelId_ = channelId_;
        result.infeedConfig_ = infeedConfig_;
        result.customCallTarget_ = customCallTarget_;
        if (outfeedShapeBuilder_ == null) {
          result.outfeedShape_ = outfeedShape_;
        } else {
          result.outfeedShape_ = outfeedShapeBuilder_.build();
        }
        if (dotDimensionNumbersBuilder_ == null) {
          result.dotDimensionNumbers_ = dotDimensionNumbers_;
        } else {
          result.dotDimensionNumbers_ = dotDimensionNumbersBuilder_.build();
        }
        result.fftType_ = fftType_;
        if (((bitField0_ & 0x04000000) == 0x04000000)) {
          fftLength_ = java.util.Collections.unmodifiableList(fftLength_);
          bitField0_ = (bitField0_ & ~0x04000000);
        }
        result.fftLength_ = fftLength_;
        if (gatherDimensionNumbersBuilder_ == null) {
          result.gatherDimensionNumbers_ = gatherDimensionNumbers_;
        } else {
          result.gatherDimensionNumbers_ = gatherDimensionNumbersBuilder_.build();
        }
        if (((bitField0_ & 0x10000000) == 0x10000000)) {
          gatherWindowBounds_ = java.util.Collections.unmodifiableList(gatherWindowBounds_);
          bitField0_ = (bitField0_ & ~0x10000000);
        }
        result.gatherWindowBounds_ = gatherWindowBounds_;
        result.id_ = id_;
        if (((bitField0_ & 0x40000000) == 0x40000000)) {
          operandIds_ = java.util.Collections.unmodifiableList(operandIds_);
          bitField0_ = (bitField0_ & ~0x40000000);
        }
        result.operandIds_ = operandIds_;
        if (((bitField0_ & 0x80000000) == 0x80000000)) {
          controlPredecessorIds_ = java.util.Collections.unmodifiableList(controlPredecessorIds_);
          bitField0_ = (bitField0_ & ~0x80000000);
        }
        result.controlPredecessorIds_ = controlPredecessorIds_;
        if (((bitField1_ & 0x00000001) == 0x00000001)) {
          calledComputationIds_ = java.util.Collections.unmodifiableList(calledComputationIds_);
          bitField1_ = (bitField1_ & ~0x00000001);
        }
        result.calledComputationIds_ = calledComputationIds_;
        if (shardingBuilder_ == null) {
          result.sharding_ = sharding_;
        } else {
          result.sharding_ = shardingBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HloInstructionProto) {
          return mergeFrom((xla.Hlo.HloInstructionProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HloInstructionProto other) {
        if (other == xla.Hlo.HloInstructionProto.getDefaultInstance()) return this;
        if (!other.getName().isEmpty()) {
          name_ = other.name_;
          onChanged();
        }
        if (!other.getOpcode().isEmpty()) {
          opcode_ = other.opcode_;
          onChanged();
        }
        if (other.hasShape()) {
          mergeShape(other.getShape());
        }
        if (other.hasMetadata()) {
          mergeMetadata(other.getMetadata());
        }
        if (other.hasLiteral()) {
          mergeLiteral(other.getLiteral());
        }
        if (other.getParameterNumber() != 0L) {
          setParameterNumber(other.getParameterNumber());
        }
        if (!other.getFusionKind().isEmpty()) {
          fusionKind_ = other.fusionKind_;
          onChanged();
        }
        if (other.getTupleIndex() != 0L) {
          setTupleIndex(other.getTupleIndex());
        }
        if (!other.dimensions_.isEmpty()) {
          if (dimensions_.isEmpty()) {
            dimensions_ = other.dimensions_;
            bitField0_ = (bitField0_ & ~0x00000100);
          } else {
            ensureDimensionsIsMutable();
            dimensions_.addAll(other.dimensions_);
          }
          onChanged();
        }
        if (other.hasWindow()) {
          mergeWindow(other.getWindow());
        }
        if (other.hasConvolutionDimensionNumbers()) {
          mergeConvolutionDimensionNumbers(other.getConvolutionDimensionNumbers());
        }
        if (sliceDimensionsBuilder_ == null) {
          if (!other.sliceDimensions_.isEmpty()) {
            if (sliceDimensions_.isEmpty()) {
              sliceDimensions_ = other.sliceDimensions_;
              bitField0_ = (bitField0_ & ~0x00000800);
            } else {
              ensureSliceDimensionsIsMutable();
              sliceDimensions_.addAll(other.sliceDimensions_);
            }
            onChanged();
          }
        } else {
          if (!other.sliceDimensions_.isEmpty()) {
            if (sliceDimensionsBuilder_.isEmpty()) {
              sliceDimensionsBuilder_.dispose();
              sliceDimensionsBuilder_ = null;
              sliceDimensions_ = other.sliceDimensions_;
              bitField0_ = (bitField0_ & ~0x00000800);
              sliceDimensionsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getSliceDimensionsFieldBuilder() : null;
            } else {
              sliceDimensionsBuilder_.addAllMessages(other.sliceDimensions_);
            }
          }
        }
        if (other.getExponentBits() != 0) {
          setExponentBits(other.getExponentBits());
        }
        if (other.getMantissaBits() != 0) {
          setMantissaBits(other.getMantissaBits());
        }
        if (!other.dynamicSliceSizes_.isEmpty()) {
          if (dynamicSliceSizes_.isEmpty()) {
            dynamicSliceSizes_ = other.dynamicSliceSizes_;
            bitField0_ = (bitField0_ & ~0x00004000);
          } else {
            ensureDynamicSliceSizesIsMutable();
            dynamicSliceSizes_.addAll(other.dynamicSliceSizes_);
          }
          onChanged();
        }
        if (other.hasPaddingConfig()) {
          mergePaddingConfig(other.getPaddingConfig());
        }
        if (other.getOutfeedConfig() != com.google.protobuf.ByteString.EMPTY) {
          setOutfeedConfig(other.getOutfeedConfig());
        }
        if (other.distribution_ != 0) {
          setDistributionValue(other.getDistributionValue());
        }
        if (other.getEpsilon() != 0F) {
          setEpsilon(other.getEpsilon());
        }
        if (other.getFeatureIndex() != 0L) {
          setFeatureIndex(other.getFeatureIndex());
        }
        if (other.getChannelId() != 0L) {
          setChannelId(other.getChannelId());
        }
        if (other.getInfeedConfig() != com.google.protobuf.ByteString.EMPTY) {
          setInfeedConfig(other.getInfeedConfig());
        }
        if (!other.getCustomCallTarget().isEmpty()) {
          customCallTarget_ = other.customCallTarget_;
          onChanged();
        }
        if (other.hasOutfeedShape()) {
          mergeOutfeedShape(other.getOutfeedShape());
        }
        if (other.hasDotDimensionNumbers()) {
          mergeDotDimensionNumbers(other.getDotDimensionNumbers());
        }
        if (other.fftType_ != 0) {
          setFftTypeValue(other.getFftTypeValue());
        }
        if (!other.fftLength_.isEmpty()) {
          if (fftLength_.isEmpty()) {
            fftLength_ = other.fftLength_;
            bitField0_ = (bitField0_ & ~0x04000000);
          } else {
            ensureFftLengthIsMutable();
            fftLength_.addAll(other.fftLength_);
          }
          onChanged();
        }
        if (other.hasGatherDimensionNumbers()) {
          mergeGatherDimensionNumbers(other.getGatherDimensionNumbers());
        }
        if (!other.gatherWindowBounds_.isEmpty()) {
          if (gatherWindowBounds_.isEmpty()) {
            gatherWindowBounds_ = other.gatherWindowBounds_;
            bitField0_ = (bitField0_ & ~0x10000000);
          } else {
            ensureGatherWindowBoundsIsMutable();
            gatherWindowBounds_.addAll(other.gatherWindowBounds_);
          }
          onChanged();
        }
        if (other.getId() != 0L) {
          setId(other.getId());
        }
        if (!other.operandIds_.isEmpty()) {
          if (operandIds_.isEmpty()) {
            operandIds_ = other.operandIds_;
            bitField0_ = (bitField0_ & ~0x40000000);
          } else {
            ensureOperandIdsIsMutable();
            operandIds_.addAll(other.operandIds_);
          }
          onChanged();
        }
        if (!other.controlPredecessorIds_.isEmpty()) {
          if (controlPredecessorIds_.isEmpty()) {
            controlPredecessorIds_ = other.controlPredecessorIds_;
            bitField0_ = (bitField0_ & ~0x80000000);
          } else {
            ensureControlPredecessorIdsIsMutable();
            controlPredecessorIds_.addAll(other.controlPredecessorIds_);
          }
          onChanged();
        }
        if (!other.calledComputationIds_.isEmpty()) {
          if (calledComputationIds_.isEmpty()) {
            calledComputationIds_ = other.calledComputationIds_;
            bitField1_ = (bitField1_ & ~0x00000001);
          } else {
            ensureCalledComputationIdsIsMutable();
            calledComputationIds_.addAll(other.calledComputationIds_);
          }
          onChanged();
        }
        if (other.hasSharding()) {
          mergeSharding(other.getSharding());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HloInstructionProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HloInstructionProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;
      private int bitField1_;

      private java.lang.Object name_ = "";
      /**
       * <code>string name = 1;</code>
       */
      public java.lang.String getName() {
        java.lang.Object ref = name_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          name_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public com.google.protobuf.ByteString
          getNameBytes() {
        java.lang.Object ref = name_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          name_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        name_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder clearName() {
        
        name_ = getDefaultInstance().getName();
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        name_ = value;
        onChanged();
        return this;
      }

      private java.lang.Object opcode_ = "";
      /**
       * <code>string opcode = 2;</code>
       */
      public java.lang.String getOpcode() {
        java.lang.Object ref = opcode_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          opcode_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string opcode = 2;</code>
       */
      public com.google.protobuf.ByteString
          getOpcodeBytes() {
        java.lang.Object ref = opcode_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          opcode_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string opcode = 2;</code>
       */
      public Builder setOpcode(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        opcode_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string opcode = 2;</code>
       */
      public Builder clearOpcode() {
        
        opcode_ = getDefaultInstance().getOpcode();
        onChanged();
        return this;
      }
      /**
       * <code>string opcode = 2;</code>
       */
      public Builder setOpcodeBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        opcode_ = value;
        onChanged();
        return this;
      }

      private xla.XlaData.Shape shape_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder> shapeBuilder_;
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public boolean hasShape() {
        return shapeBuilder_ != null || shape_ != null;
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public xla.XlaData.Shape getShape() {
        if (shapeBuilder_ == null) {
          return shape_ == null ? xla.XlaData.Shape.getDefaultInstance() : shape_;
        } else {
          return shapeBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public Builder setShape(xla.XlaData.Shape value) {
        if (shapeBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          shape_ = value;
          onChanged();
        } else {
          shapeBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public Builder setShape(
          xla.XlaData.Shape.Builder builderForValue) {
        if (shapeBuilder_ == null) {
          shape_ = builderForValue.build();
          onChanged();
        } else {
          shapeBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public Builder mergeShape(xla.XlaData.Shape value) {
        if (shapeBuilder_ == null) {
          if (shape_ != null) {
            shape_ =
              xla.XlaData.Shape.newBuilder(shape_).mergeFrom(value).buildPartial();
          } else {
            shape_ = value;
          }
          onChanged();
        } else {
          shapeBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public Builder clearShape() {
        if (shapeBuilder_ == null) {
          shape_ = null;
          onChanged();
        } else {
          shape_ = null;
          shapeBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public xla.XlaData.Shape.Builder getShapeBuilder() {
        
        onChanged();
        return getShapeFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      public xla.XlaData.ShapeOrBuilder getShapeOrBuilder() {
        if (shapeBuilder_ != null) {
          return shapeBuilder_.getMessageOrBuilder();
        } else {
          return shape_ == null ?
              xla.XlaData.Shape.getDefaultInstance() : shape_;
        }
      }
      /**
       * <code>.xla.Shape shape = 3;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder> 
          getShapeFieldBuilder() {
        if (shapeBuilder_ == null) {
          shapeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder>(
                  getShape(),
                  getParentForChildren(),
                  isClean());
          shape_ = null;
        }
        return shapeBuilder_;
      }

      private xla.XlaData.OpMetadata metadata_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.OpMetadata, xla.XlaData.OpMetadata.Builder, xla.XlaData.OpMetadataOrBuilder> metadataBuilder_;
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public boolean hasMetadata() {
        return metadataBuilder_ != null || metadata_ != null;
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public xla.XlaData.OpMetadata getMetadata() {
        if (metadataBuilder_ == null) {
          return metadata_ == null ? xla.XlaData.OpMetadata.getDefaultInstance() : metadata_;
        } else {
          return metadataBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public Builder setMetadata(xla.XlaData.OpMetadata value) {
        if (metadataBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          metadata_ = value;
          onChanged();
        } else {
          metadataBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public Builder setMetadata(
          xla.XlaData.OpMetadata.Builder builderForValue) {
        if (metadataBuilder_ == null) {
          metadata_ = builderForValue.build();
          onChanged();
        } else {
          metadataBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public Builder mergeMetadata(xla.XlaData.OpMetadata value) {
        if (metadataBuilder_ == null) {
          if (metadata_ != null) {
            metadata_ =
              xla.XlaData.OpMetadata.newBuilder(metadata_).mergeFrom(value).buildPartial();
          } else {
            metadata_ = value;
          }
          onChanged();
        } else {
          metadataBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public Builder clearMetadata() {
        if (metadataBuilder_ == null) {
          metadata_ = null;
          onChanged();
        } else {
          metadata_ = null;
          metadataBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public xla.XlaData.OpMetadata.Builder getMetadataBuilder() {
        
        onChanged();
        return getMetadataFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      public xla.XlaData.OpMetadataOrBuilder getMetadataOrBuilder() {
        if (metadataBuilder_ != null) {
          return metadataBuilder_.getMessageOrBuilder();
        } else {
          return metadata_ == null ?
              xla.XlaData.OpMetadata.getDefaultInstance() : metadata_;
        }
      }
      /**
       * <code>.xla.OpMetadata metadata = 7;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.OpMetadata, xla.XlaData.OpMetadata.Builder, xla.XlaData.OpMetadataOrBuilder> 
          getMetadataFieldBuilder() {
        if (metadataBuilder_ == null) {
          metadataBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.OpMetadata, xla.XlaData.OpMetadata.Builder, xla.XlaData.OpMetadataOrBuilder>(
                  getMetadata(),
                  getParentForChildren(),
                  isClean());
          metadata_ = null;
        }
        return metadataBuilder_;
      }

      private xla.XlaData.LiteralProto literal_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.LiteralProto, xla.XlaData.LiteralProto.Builder, xla.XlaData.LiteralProtoOrBuilder> literalBuilder_;
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public boolean hasLiteral() {
        return literalBuilder_ != null || literal_ != null;
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public xla.XlaData.LiteralProto getLiteral() {
        if (literalBuilder_ == null) {
          return literal_ == null ? xla.XlaData.LiteralProto.getDefaultInstance() : literal_;
        } else {
          return literalBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public Builder setLiteral(xla.XlaData.LiteralProto value) {
        if (literalBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          literal_ = value;
          onChanged();
        } else {
          literalBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public Builder setLiteral(
          xla.XlaData.LiteralProto.Builder builderForValue) {
        if (literalBuilder_ == null) {
          literal_ = builderForValue.build();
          onChanged();
        } else {
          literalBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public Builder mergeLiteral(xla.XlaData.LiteralProto value) {
        if (literalBuilder_ == null) {
          if (literal_ != null) {
            literal_ =
              xla.XlaData.LiteralProto.newBuilder(literal_).mergeFrom(value).buildPartial();
          } else {
            literal_ = value;
          }
          onChanged();
        } else {
          literalBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public Builder clearLiteral() {
        if (literalBuilder_ == null) {
          literal_ = null;
          onChanged();
        } else {
          literal_ = null;
          literalBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public xla.XlaData.LiteralProto.Builder getLiteralBuilder() {
        
        onChanged();
        return getLiteralFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      public xla.XlaData.LiteralProtoOrBuilder getLiteralOrBuilder() {
        if (literalBuilder_ != null) {
          return literalBuilder_.getMessageOrBuilder();
        } else {
          return literal_ == null ?
              xla.XlaData.LiteralProto.getDefaultInstance() : literal_;
        }
      }
      /**
       * <pre>
       * Literal, only present for kConstant.
       * </pre>
       *
       * <code>.xla.LiteralProto literal = 8;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.LiteralProto, xla.XlaData.LiteralProto.Builder, xla.XlaData.LiteralProtoOrBuilder> 
          getLiteralFieldBuilder() {
        if (literalBuilder_ == null) {
          literalBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.LiteralProto, xla.XlaData.LiteralProto.Builder, xla.XlaData.LiteralProtoOrBuilder>(
                  getLiteral(),
                  getParentForChildren(),
                  isClean());
          literal_ = null;
        }
        return literalBuilder_;
      }

      private long parameterNumber_ ;
      /**
       * <pre>
       * Parameter number is only present for kParameter.
       * </pre>
       *
       * <code>int64 parameter_number = 9;</code>
       */
      public long getParameterNumber() {
        return parameterNumber_;
      }
      /**
       * <pre>
       * Parameter number is only present for kParameter.
       * </pre>
       *
       * <code>int64 parameter_number = 9;</code>
       */
      public Builder setParameterNumber(long value) {
        
        parameterNumber_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Parameter number is only present for kParameter.
       * </pre>
       *
       * <code>int64 parameter_number = 9;</code>
       */
      public Builder clearParameterNumber() {
        
        parameterNumber_ = 0L;
        onChanged();
        return this;
      }

      private java.lang.Object fusionKind_ = "";
      /**
       * <pre>
       * Fusion state, only present for kFusion.
       * </pre>
       *
       * <code>string fusion_kind = 11;</code>
       */
      public java.lang.String getFusionKind() {
        java.lang.Object ref = fusionKind_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          fusionKind_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * Fusion state, only present for kFusion.
       * </pre>
       *
       * <code>string fusion_kind = 11;</code>
       */
      public com.google.protobuf.ByteString
          getFusionKindBytes() {
        java.lang.Object ref = fusionKind_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          fusionKind_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * Fusion state, only present for kFusion.
       * </pre>
       *
       * <code>string fusion_kind = 11;</code>
       */
      public Builder setFusionKind(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        fusionKind_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Fusion state, only present for kFusion.
       * </pre>
       *
       * <code>string fusion_kind = 11;</code>
       */
      public Builder clearFusionKind() {
        
        fusionKind_ = getDefaultInstance().getFusionKind();
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Fusion state, only present for kFusion.
       * </pre>
       *
       * <code>string fusion_kind = 11;</code>
       */
      public Builder setFusionKindBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        fusionKind_ = value;
        onChanged();
        return this;
      }

      private long tupleIndex_ ;
      /**
       * <pre>
       * Index for kGetTupleElement.
       * </pre>
       *
       * <code>int64 tuple_index = 13;</code>
       */
      public long getTupleIndex() {
        return tupleIndex_;
      }
      /**
       * <pre>
       * Index for kGetTupleElement.
       * </pre>
       *
       * <code>int64 tuple_index = 13;</code>
       */
      public Builder setTupleIndex(long value) {
        
        tupleIndex_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Index for kGetTupleElement.
       * </pre>
       *
       * <code>int64 tuple_index = 13;</code>
       */
      public Builder clearTupleIndex() {
        
        tupleIndex_ = 0L;
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> dimensions_ = java.util.Collections.emptyList();
      private void ensureDimensionsIsMutable() {
        if (!((bitField0_ & 0x00000100) == 0x00000100)) {
          dimensions_ = new java.util.ArrayList<java.lang.Long>(dimensions_);
          bitField0_ |= 0x00000100;
         }
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public java.util.List<java.lang.Long>
          getDimensionsList() {
        return java.util.Collections.unmodifiableList(dimensions_);
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public int getDimensionsCount() {
        return dimensions_.size();
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public long getDimensions(int index) {
        return dimensions_.get(index);
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public Builder setDimensions(
          int index, long value) {
        ensureDimensionsIsMutable();
        dimensions_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public Builder addDimensions(long value) {
        ensureDimensionsIsMutable();
        dimensions_.add(value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public Builder addAllDimensions(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureDimensionsIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, dimensions_);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Dimensions present for some operations that require reshaping or
       * broadcasting, including Reshape, Reduce, ReduceWindow, and Reverse.
       * </pre>
       *
       * <code>repeated int64 dimensions = 14;</code>
       */
      public Builder clearDimensions() {
        dimensions_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00000100);
        onChanged();
        return this;
      }

      private xla.XlaData.Window window_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Window, xla.XlaData.Window.Builder, xla.XlaData.WindowOrBuilder> windowBuilder_;
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public boolean hasWindow() {
        return windowBuilder_ != null || window_ != null;
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public xla.XlaData.Window getWindow() {
        if (windowBuilder_ == null) {
          return window_ == null ? xla.XlaData.Window.getDefaultInstance() : window_;
        } else {
          return windowBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public Builder setWindow(xla.XlaData.Window value) {
        if (windowBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          window_ = value;
          onChanged();
        } else {
          windowBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public Builder setWindow(
          xla.XlaData.Window.Builder builderForValue) {
        if (windowBuilder_ == null) {
          window_ = builderForValue.build();
          onChanged();
        } else {
          windowBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public Builder mergeWindow(xla.XlaData.Window value) {
        if (windowBuilder_ == null) {
          if (window_ != null) {
            window_ =
              xla.XlaData.Window.newBuilder(window_).mergeFrom(value).buildPartial();
          } else {
            window_ = value;
          }
          onChanged();
        } else {
          windowBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public Builder clearWindow() {
        if (windowBuilder_ == null) {
          window_ = null;
          onChanged();
        } else {
          window_ = null;
          windowBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public xla.XlaData.Window.Builder getWindowBuilder() {
        
        onChanged();
        return getWindowFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      public xla.XlaData.WindowOrBuilder getWindowOrBuilder() {
        if (windowBuilder_ != null) {
          return windowBuilder_.getMessageOrBuilder();
        } else {
          return window_ == null ?
              xla.XlaData.Window.getDefaultInstance() : window_;
        }
      }
      /**
       * <pre>
       * Describes the window in a windowed operation such as convolution.
       * </pre>
       *
       * <code>.xla.Window window = 15;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Window, xla.XlaData.Window.Builder, xla.XlaData.WindowOrBuilder> 
          getWindowFieldBuilder() {
        if (windowBuilder_ == null) {
          windowBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.Window, xla.XlaData.Window.Builder, xla.XlaData.WindowOrBuilder>(
                  getWindow(),
                  getParentForChildren(),
                  isClean());
          window_ = null;
        }
        return windowBuilder_;
      }

      private xla.XlaData.ConvolutionDimensionNumbers convolutionDimensionNumbers_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ConvolutionDimensionNumbers, xla.XlaData.ConvolutionDimensionNumbers.Builder, xla.XlaData.ConvolutionDimensionNumbersOrBuilder> convolutionDimensionNumbersBuilder_;
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public boolean hasConvolutionDimensionNumbers() {
        return convolutionDimensionNumbersBuilder_ != null || convolutionDimensionNumbers_ != null;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public xla.XlaData.ConvolutionDimensionNumbers getConvolutionDimensionNumbers() {
        if (convolutionDimensionNumbersBuilder_ == null) {
          return convolutionDimensionNumbers_ == null ? xla.XlaData.ConvolutionDimensionNumbers.getDefaultInstance() : convolutionDimensionNumbers_;
        } else {
          return convolutionDimensionNumbersBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public Builder setConvolutionDimensionNumbers(xla.XlaData.ConvolutionDimensionNumbers value) {
        if (convolutionDimensionNumbersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          convolutionDimensionNumbers_ = value;
          onChanged();
        } else {
          convolutionDimensionNumbersBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public Builder setConvolutionDimensionNumbers(
          xla.XlaData.ConvolutionDimensionNumbers.Builder builderForValue) {
        if (convolutionDimensionNumbersBuilder_ == null) {
          convolutionDimensionNumbers_ = builderForValue.build();
          onChanged();
        } else {
          convolutionDimensionNumbersBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public Builder mergeConvolutionDimensionNumbers(xla.XlaData.ConvolutionDimensionNumbers value) {
        if (convolutionDimensionNumbersBuilder_ == null) {
          if (convolutionDimensionNumbers_ != null) {
            convolutionDimensionNumbers_ =
              xla.XlaData.ConvolutionDimensionNumbers.newBuilder(convolutionDimensionNumbers_).mergeFrom(value).buildPartial();
          } else {
            convolutionDimensionNumbers_ = value;
          }
          onChanged();
        } else {
          convolutionDimensionNumbersBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public Builder clearConvolutionDimensionNumbers() {
        if (convolutionDimensionNumbersBuilder_ == null) {
          convolutionDimensionNumbers_ = null;
          onChanged();
        } else {
          convolutionDimensionNumbers_ = null;
          convolutionDimensionNumbersBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public xla.XlaData.ConvolutionDimensionNumbers.Builder getConvolutionDimensionNumbersBuilder() {
        
        onChanged();
        return getConvolutionDimensionNumbersFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      public xla.XlaData.ConvolutionDimensionNumbersOrBuilder getConvolutionDimensionNumbersOrBuilder() {
        if (convolutionDimensionNumbersBuilder_ != null) {
          return convolutionDimensionNumbersBuilder_.getMessageOrBuilder();
        } else {
          return convolutionDimensionNumbers_ == null ?
              xla.XlaData.ConvolutionDimensionNumbers.getDefaultInstance() : convolutionDimensionNumbers_;
        }
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a convolution.
       * </pre>
       *
       * <code>.xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ConvolutionDimensionNumbers, xla.XlaData.ConvolutionDimensionNumbers.Builder, xla.XlaData.ConvolutionDimensionNumbersOrBuilder> 
          getConvolutionDimensionNumbersFieldBuilder() {
        if (convolutionDimensionNumbersBuilder_ == null) {
          convolutionDimensionNumbersBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.ConvolutionDimensionNumbers, xla.XlaData.ConvolutionDimensionNumbers.Builder, xla.XlaData.ConvolutionDimensionNumbersOrBuilder>(
                  getConvolutionDimensionNumbers(),
                  getParentForChildren(),
                  isClean());
          convolutionDimensionNumbers_ = null;
        }
        return convolutionDimensionNumbersBuilder_;
      }

      private java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions> sliceDimensions_ =
        java.util.Collections.emptyList();
      private void ensureSliceDimensionsIsMutable() {
        if (!((bitField0_ & 0x00000800) == 0x00000800)) {
          sliceDimensions_ = new java.util.ArrayList<xla.Hlo.HloInstructionProto.SliceDimensions>(sliceDimensions_);
          bitField0_ |= 0x00000800;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloInstructionProto.SliceDimensions, xla.Hlo.HloInstructionProto.SliceDimensions.Builder, xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder> sliceDimensionsBuilder_;

      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions> getSliceDimensionsList() {
        if (sliceDimensionsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(sliceDimensions_);
        } else {
          return sliceDimensionsBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public int getSliceDimensionsCount() {
        if (sliceDimensionsBuilder_ == null) {
          return sliceDimensions_.size();
        } else {
          return sliceDimensionsBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public xla.Hlo.HloInstructionProto.SliceDimensions getSliceDimensions(int index) {
        if (sliceDimensionsBuilder_ == null) {
          return sliceDimensions_.get(index);
        } else {
          return sliceDimensionsBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder setSliceDimensions(
          int index, xla.Hlo.HloInstructionProto.SliceDimensions value) {
        if (sliceDimensionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.set(index, value);
          onChanged();
        } else {
          sliceDimensionsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder setSliceDimensions(
          int index, xla.Hlo.HloInstructionProto.SliceDimensions.Builder builderForValue) {
        if (sliceDimensionsBuilder_ == null) {
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.set(index, builderForValue.build());
          onChanged();
        } else {
          sliceDimensionsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder addSliceDimensions(xla.Hlo.HloInstructionProto.SliceDimensions value) {
        if (sliceDimensionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.add(value);
          onChanged();
        } else {
          sliceDimensionsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder addSliceDimensions(
          int index, xla.Hlo.HloInstructionProto.SliceDimensions value) {
        if (sliceDimensionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.add(index, value);
          onChanged();
        } else {
          sliceDimensionsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder addSliceDimensions(
          xla.Hlo.HloInstructionProto.SliceDimensions.Builder builderForValue) {
        if (sliceDimensionsBuilder_ == null) {
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.add(builderForValue.build());
          onChanged();
        } else {
          sliceDimensionsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder addSliceDimensions(
          int index, xla.Hlo.HloInstructionProto.SliceDimensions.Builder builderForValue) {
        if (sliceDimensionsBuilder_ == null) {
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.add(index, builderForValue.build());
          onChanged();
        } else {
          sliceDimensionsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder addAllSliceDimensions(
          java.lang.Iterable<? extends xla.Hlo.HloInstructionProto.SliceDimensions> values) {
        if (sliceDimensionsBuilder_ == null) {
          ensureSliceDimensionsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, sliceDimensions_);
          onChanged();
        } else {
          sliceDimensionsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder clearSliceDimensions() {
        if (sliceDimensionsBuilder_ == null) {
          sliceDimensions_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000800);
          onChanged();
        } else {
          sliceDimensionsBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public Builder removeSliceDimensions(int index) {
        if (sliceDimensionsBuilder_ == null) {
          ensureSliceDimensionsIsMutable();
          sliceDimensions_.remove(index);
          onChanged();
        } else {
          sliceDimensionsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public xla.Hlo.HloInstructionProto.SliceDimensions.Builder getSliceDimensionsBuilder(
          int index) {
        return getSliceDimensionsFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder getSliceDimensionsOrBuilder(
          int index) {
        if (sliceDimensionsBuilder_ == null) {
          return sliceDimensions_.get(index);  } else {
          return sliceDimensionsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public java.util.List<? extends xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder> 
           getSliceDimensionsOrBuilderList() {
        if (sliceDimensionsBuilder_ != null) {
          return sliceDimensionsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(sliceDimensions_);
        }
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public xla.Hlo.HloInstructionProto.SliceDimensions.Builder addSliceDimensionsBuilder() {
        return getSliceDimensionsFieldBuilder().addBuilder(
            xla.Hlo.HloInstructionProto.SliceDimensions.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public xla.Hlo.HloInstructionProto.SliceDimensions.Builder addSliceDimensionsBuilder(
          int index) {
        return getSliceDimensionsFieldBuilder().addBuilder(
            index, xla.Hlo.HloInstructionProto.SliceDimensions.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;</code>
       */
      public java.util.List<xla.Hlo.HloInstructionProto.SliceDimensions.Builder> 
           getSliceDimensionsBuilderList() {
        return getSliceDimensionsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloInstructionProto.SliceDimensions, xla.Hlo.HloInstructionProto.SliceDimensions.Builder, xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder> 
          getSliceDimensionsFieldBuilder() {
        if (sliceDimensionsBuilder_ == null) {
          sliceDimensionsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HloInstructionProto.SliceDimensions, xla.Hlo.HloInstructionProto.SliceDimensions.Builder, xla.Hlo.HloInstructionProto.SliceDimensionsOrBuilder>(
                  sliceDimensions_,
                  ((bitField0_ & 0x00000800) == 0x00000800),
                  getParentForChildren(),
                  isClean());
          sliceDimensions_ = null;
        }
        return sliceDimensionsBuilder_;
      }

      private int exponentBits_ ;
      /**
       * <pre>
       * The bit sizes for a reduce-precision operation.
       * </pre>
       *
       * <code>int32 exponent_bits = 18;</code>
       */
      public int getExponentBits() {
        return exponentBits_;
      }
      /**
       * <pre>
       * The bit sizes for a reduce-precision operation.
       * </pre>
       *
       * <code>int32 exponent_bits = 18;</code>
       */
      public Builder setExponentBits(int value) {
        
        exponentBits_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The bit sizes for a reduce-precision operation.
       * </pre>
       *
       * <code>int32 exponent_bits = 18;</code>
       */
      public Builder clearExponentBits() {
        
        exponentBits_ = 0;
        onChanged();
        return this;
      }

      private int mantissaBits_ ;
      /**
       * <code>int32 mantissa_bits = 19;</code>
       */
      public int getMantissaBits() {
        return mantissaBits_;
      }
      /**
       * <code>int32 mantissa_bits = 19;</code>
       */
      public Builder setMantissaBits(int value) {
        
        mantissaBits_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int32 mantissa_bits = 19;</code>
       */
      public Builder clearMantissaBits() {
        
        mantissaBits_ = 0;
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> dynamicSliceSizes_ = java.util.Collections.emptyList();
      private void ensureDynamicSliceSizesIsMutable() {
        if (!((bitField0_ & 0x00004000) == 0x00004000)) {
          dynamicSliceSizes_ = new java.util.ArrayList<java.lang.Long>(dynamicSliceSizes_);
          bitField0_ |= 0x00004000;
         }
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public java.util.List<java.lang.Long>
          getDynamicSliceSizesList() {
        return java.util.Collections.unmodifiableList(dynamicSliceSizes_);
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public int getDynamicSliceSizesCount() {
        return dynamicSliceSizes_.size();
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public long getDynamicSliceSizes(int index) {
        return dynamicSliceSizes_.get(index);
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public Builder setDynamicSliceSizes(
          int index, long value) {
        ensureDynamicSliceSizesIsMutable();
        dynamicSliceSizes_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public Builder addDynamicSliceSizes(long value) {
        ensureDynamicSliceSizesIsMutable();
        dynamicSliceSizes_.add(value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public Builder addAllDynamicSliceSizes(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureDynamicSliceSizesIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, dynamicSliceSizes_);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Describes the [start, start + size) range size for a dynamic slice
       * ('start' is specified dynamically in the second operand of the operation).
       * </pre>
       *
       * <code>repeated int64 dynamic_slice_sizes = 20;</code>
       */
      public Builder clearDynamicSliceSizes() {
        dynamicSliceSizes_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00004000);
        onChanged();
        return this;
      }

      private xla.XlaData.PaddingConfig paddingConfig_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.PaddingConfig, xla.XlaData.PaddingConfig.Builder, xla.XlaData.PaddingConfigOrBuilder> paddingConfigBuilder_;
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public boolean hasPaddingConfig() {
        return paddingConfigBuilder_ != null || paddingConfig_ != null;
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public xla.XlaData.PaddingConfig getPaddingConfig() {
        if (paddingConfigBuilder_ == null) {
          return paddingConfig_ == null ? xla.XlaData.PaddingConfig.getDefaultInstance() : paddingConfig_;
        } else {
          return paddingConfigBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public Builder setPaddingConfig(xla.XlaData.PaddingConfig value) {
        if (paddingConfigBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          paddingConfig_ = value;
          onChanged();
        } else {
          paddingConfigBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public Builder setPaddingConfig(
          xla.XlaData.PaddingConfig.Builder builderForValue) {
        if (paddingConfigBuilder_ == null) {
          paddingConfig_ = builderForValue.build();
          onChanged();
        } else {
          paddingConfigBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public Builder mergePaddingConfig(xla.XlaData.PaddingConfig value) {
        if (paddingConfigBuilder_ == null) {
          if (paddingConfig_ != null) {
            paddingConfig_ =
              xla.XlaData.PaddingConfig.newBuilder(paddingConfig_).mergeFrom(value).buildPartial();
          } else {
            paddingConfig_ = value;
          }
          onChanged();
        } else {
          paddingConfigBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public Builder clearPaddingConfig() {
        if (paddingConfigBuilder_ == null) {
          paddingConfig_ = null;
          onChanged();
        } else {
          paddingConfig_ = null;
          paddingConfigBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public xla.XlaData.PaddingConfig.Builder getPaddingConfigBuilder() {
        
        onChanged();
        return getPaddingConfigFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      public xla.XlaData.PaddingConfigOrBuilder getPaddingConfigOrBuilder() {
        if (paddingConfigBuilder_ != null) {
          return paddingConfigBuilder_.getMessageOrBuilder();
        } else {
          return paddingConfig_ == null ?
              xla.XlaData.PaddingConfig.getDefaultInstance() : paddingConfig_;
        }
      }
      /**
       * <pre>
       * The padding configuration that describes the edge padding and interior
       * padding of this pad instruction. Only set for pad instructions.
       * </pre>
       *
       * <code>.xla.PaddingConfig padding_config = 21;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.PaddingConfig, xla.XlaData.PaddingConfig.Builder, xla.XlaData.PaddingConfigOrBuilder> 
          getPaddingConfigFieldBuilder() {
        if (paddingConfigBuilder_ == null) {
          paddingConfigBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.PaddingConfig, xla.XlaData.PaddingConfig.Builder, xla.XlaData.PaddingConfigOrBuilder>(
                  getPaddingConfig(),
                  getParentForChildren(),
                  isClean());
          paddingConfig_ = null;
        }
        return paddingConfigBuilder_;
      }

      private com.google.protobuf.ByteString outfeedConfig_ = com.google.protobuf.ByteString.EMPTY;
      /**
       * <pre>
       * Outfeed configuration information, only present for kOutfeed.
       * </pre>
       *
       * <code>bytes outfeed_config = 22;</code>
       */
      public com.google.protobuf.ByteString getOutfeedConfig() {
        return outfeedConfig_;
      }
      /**
       * <pre>
       * Outfeed configuration information, only present for kOutfeed.
       * </pre>
       *
       * <code>bytes outfeed_config = 22;</code>
       */
      public Builder setOutfeedConfig(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        outfeedConfig_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Outfeed configuration information, only present for kOutfeed.
       * </pre>
       *
       * <code>bytes outfeed_config = 22;</code>
       */
      public Builder clearOutfeedConfig() {
        
        outfeedConfig_ = getDefaultInstance().getOutfeedConfig();
        onChanged();
        return this;
      }

      private int distribution_ = 0;
      /**
       * <pre>
       * The distribution requested for random number generation.
       * Only present for kRng.
       * </pre>
       *
       * <code>.xla.RandomDistribution distribution = 23;</code>
       */
      public int getDistributionValue() {
        return distribution_;
      }
      /**
       * <pre>
       * The distribution requested for random number generation.
       * Only present for kRng.
       * </pre>
       *
       * <code>.xla.RandomDistribution distribution = 23;</code>
       */
      public Builder setDistributionValue(int value) {
        distribution_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The distribution requested for random number generation.
       * Only present for kRng.
       * </pre>
       *
       * <code>.xla.RandomDistribution distribution = 23;</code>
       */
      public xla.XlaData.RandomDistribution getDistribution() {
        xla.XlaData.RandomDistribution result = xla.XlaData.RandomDistribution.valueOf(distribution_);
        return result == null ? xla.XlaData.RandomDistribution.UNRECOGNIZED : result;
      }
      /**
       * <pre>
       * The distribution requested for random number generation.
       * Only present for kRng.
       * </pre>
       *
       * <code>.xla.RandomDistribution distribution = 23;</code>
       */
      public Builder setDistribution(xla.XlaData.RandomDistribution value) {
        if (value == null) {
          throw new NullPointerException();
        }
        
        distribution_ = value.getNumber();
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The distribution requested for random number generation.
       * Only present for kRng.
       * </pre>
       *
       * <code>.xla.RandomDistribution distribution = 23;</code>
       */
      public Builder clearDistribution() {
        
        distribution_ = 0;
        onChanged();
        return this;
      }

      private float epsilon_ ;
      /**
       * <pre>
       * A small float number added to the variance to avoid divide-by-zero error.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>float epsilon = 24;</code>
       */
      public float getEpsilon() {
        return epsilon_;
      }
      /**
       * <pre>
       * A small float number added to the variance to avoid divide-by-zero error.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>float epsilon = 24;</code>
       */
      public Builder setEpsilon(float value) {
        
        epsilon_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * A small float number added to the variance to avoid divide-by-zero error.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>float epsilon = 24;</code>
       */
      public Builder clearEpsilon() {
        
        epsilon_ = 0F;
        onChanged();
        return this;
      }

      private long featureIndex_ ;
      /**
       * <pre>
       * An integer value representing the index of the feature dimension.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>int64 feature_index = 25;</code>
       */
      public long getFeatureIndex() {
        return featureIndex_;
      }
      /**
       * <pre>
       * An integer value representing the index of the feature dimension.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>int64 feature_index = 25;</code>
       */
      public Builder setFeatureIndex(long value) {
        
        featureIndex_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * An integer value representing the index of the feature dimension.
       * Only present for kBatchNormTraining.
       * </pre>
       *
       * <code>int64 feature_index = 25;</code>
       */
      public Builder clearFeatureIndex() {
        
        featureIndex_ = 0L;
        onChanged();
        return this;
      }

      private long channelId_ ;
      /**
       * <pre>
       * Represents a unique identifier for each Send/Recv instruction pair.
       * Only present for kSend or kRecv.
       * </pre>
       *
       * <code>int64 channel_id = 26;</code>
       */
      public long getChannelId() {
        return channelId_;
      }
      /**
       * <pre>
       * Represents a unique identifier for each Send/Recv instruction pair.
       * Only present for kSend or kRecv.
       * </pre>
       *
       * <code>int64 channel_id = 26;</code>
       */
      public Builder setChannelId(long value) {
        
        channelId_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Represents a unique identifier for each Send/Recv instruction pair.
       * Only present for kSend or kRecv.
       * </pre>
       *
       * <code>int64 channel_id = 26;</code>
       */
      public Builder clearChannelId() {
        
        channelId_ = 0L;
        onChanged();
        return this;
      }

      private com.google.protobuf.ByteString infeedConfig_ = com.google.protobuf.ByteString.EMPTY;
      /**
       * <pre>
       * The string representation of the infeed configuration.
       * </pre>
       *
       * <code>bytes infeed_config = 27;</code>
       */
      public com.google.protobuf.ByteString getInfeedConfig() {
        return infeedConfig_;
      }
      /**
       * <pre>
       * The string representation of the infeed configuration.
       * </pre>
       *
       * <code>bytes infeed_config = 27;</code>
       */
      public Builder setInfeedConfig(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        infeedConfig_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The string representation of the infeed configuration.
       * </pre>
       *
       * <code>bytes infeed_config = 27;</code>
       */
      public Builder clearInfeedConfig() {
        
        infeedConfig_ = getDefaultInstance().getInfeedConfig();
        onChanged();
        return this;
      }

      private java.lang.Object customCallTarget_ = "";
      /**
       * <pre>
       * Name of a global symbol to call, only present for kCustomCall.
       * </pre>
       *
       * <code>string custom_call_target = 28;</code>
       */
      public java.lang.String getCustomCallTarget() {
        java.lang.Object ref = customCallTarget_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          customCallTarget_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * Name of a global symbol to call, only present for kCustomCall.
       * </pre>
       *
       * <code>string custom_call_target = 28;</code>
       */
      public com.google.protobuf.ByteString
          getCustomCallTargetBytes() {
        java.lang.Object ref = customCallTarget_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          customCallTarget_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * Name of a global symbol to call, only present for kCustomCall.
       * </pre>
       *
       * <code>string custom_call_target = 28;</code>
       */
      public Builder setCustomCallTarget(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        customCallTarget_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Name of a global symbol to call, only present for kCustomCall.
       * </pre>
       *
       * <code>string custom_call_target = 28;</code>
       */
      public Builder clearCustomCallTarget() {
        
        customCallTarget_ = getDefaultInstance().getCustomCallTarget();
        onChanged();
        return this;
      }
      /**
       * <pre>
       * Name of a global symbol to call, only present for kCustomCall.
       * </pre>
       *
       * <code>string custom_call_target = 28;</code>
       */
      public Builder setCustomCallTargetBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        customCallTarget_ = value;
        onChanged();
        return this;
      }

      private xla.XlaData.Shape outfeedShape_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder> outfeedShapeBuilder_;
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public boolean hasOutfeedShape() {
        return outfeedShapeBuilder_ != null || outfeedShape_ != null;
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public xla.XlaData.Shape getOutfeedShape() {
        if (outfeedShapeBuilder_ == null) {
          return outfeedShape_ == null ? xla.XlaData.Shape.getDefaultInstance() : outfeedShape_;
        } else {
          return outfeedShapeBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public Builder setOutfeedShape(xla.XlaData.Shape value) {
        if (outfeedShapeBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          outfeedShape_ = value;
          onChanged();
        } else {
          outfeedShapeBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public Builder setOutfeedShape(
          xla.XlaData.Shape.Builder builderForValue) {
        if (outfeedShapeBuilder_ == null) {
          outfeedShape_ = builderForValue.build();
          onChanged();
        } else {
          outfeedShapeBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public Builder mergeOutfeedShape(xla.XlaData.Shape value) {
        if (outfeedShapeBuilder_ == null) {
          if (outfeedShape_ != null) {
            outfeedShape_ =
              xla.XlaData.Shape.newBuilder(outfeedShape_).mergeFrom(value).buildPartial();
          } else {
            outfeedShape_ = value;
          }
          onChanged();
        } else {
          outfeedShapeBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public Builder clearOutfeedShape() {
        if (outfeedShapeBuilder_ == null) {
          outfeedShape_ = null;
          onChanged();
        } else {
          outfeedShape_ = null;
          outfeedShapeBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public xla.XlaData.Shape.Builder getOutfeedShapeBuilder() {
        
        onChanged();
        return getOutfeedShapeFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      public xla.XlaData.ShapeOrBuilder getOutfeedShapeOrBuilder() {
        if (outfeedShapeBuilder_ != null) {
          return outfeedShapeBuilder_.getMessageOrBuilder();
        } else {
          return outfeedShape_ == null ?
              xla.XlaData.Shape.getDefaultInstance() : outfeedShape_;
        }
      }
      /**
       * <pre>
       * Shape of outfeed request.
       * </pre>
       *
       * <code>.xla.Shape outfeed_shape = 29;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder> 
          getOutfeedShapeFieldBuilder() {
        if (outfeedShapeBuilder_ == null) {
          outfeedShapeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.Shape, xla.XlaData.Shape.Builder, xla.XlaData.ShapeOrBuilder>(
                  getOutfeedShape(),
                  getParentForChildren(),
                  isClean());
          outfeedShape_ = null;
        }
        return outfeedShapeBuilder_;
      }

      private xla.XlaData.DotDimensionNumbers dotDimensionNumbers_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.DotDimensionNumbers, xla.XlaData.DotDimensionNumbers.Builder, xla.XlaData.DotDimensionNumbersOrBuilder> dotDimensionNumbersBuilder_;
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public boolean hasDotDimensionNumbers() {
        return dotDimensionNumbersBuilder_ != null || dotDimensionNumbers_ != null;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public xla.XlaData.DotDimensionNumbers getDotDimensionNumbers() {
        if (dotDimensionNumbersBuilder_ == null) {
          return dotDimensionNumbers_ == null ? xla.XlaData.DotDimensionNumbers.getDefaultInstance() : dotDimensionNumbers_;
        } else {
          return dotDimensionNumbersBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public Builder setDotDimensionNumbers(xla.XlaData.DotDimensionNumbers value) {
        if (dotDimensionNumbersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          dotDimensionNumbers_ = value;
          onChanged();
        } else {
          dotDimensionNumbersBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public Builder setDotDimensionNumbers(
          xla.XlaData.DotDimensionNumbers.Builder builderForValue) {
        if (dotDimensionNumbersBuilder_ == null) {
          dotDimensionNumbers_ = builderForValue.build();
          onChanged();
        } else {
          dotDimensionNumbersBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public Builder mergeDotDimensionNumbers(xla.XlaData.DotDimensionNumbers value) {
        if (dotDimensionNumbersBuilder_ == null) {
          if (dotDimensionNumbers_ != null) {
            dotDimensionNumbers_ =
              xla.XlaData.DotDimensionNumbers.newBuilder(dotDimensionNumbers_).mergeFrom(value).buildPartial();
          } else {
            dotDimensionNumbers_ = value;
          }
          onChanged();
        } else {
          dotDimensionNumbersBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public Builder clearDotDimensionNumbers() {
        if (dotDimensionNumbersBuilder_ == null) {
          dotDimensionNumbers_ = null;
          onChanged();
        } else {
          dotDimensionNumbers_ = null;
          dotDimensionNumbersBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public xla.XlaData.DotDimensionNumbers.Builder getDotDimensionNumbersBuilder() {
        
        onChanged();
        return getDotDimensionNumbersFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      public xla.XlaData.DotDimensionNumbersOrBuilder getDotDimensionNumbersOrBuilder() {
        if (dotDimensionNumbersBuilder_ != null) {
          return dotDimensionNumbersBuilder_.getMessageOrBuilder();
        } else {
          return dotDimensionNumbers_ == null ?
              xla.XlaData.DotDimensionNumbers.getDefaultInstance() : dotDimensionNumbers_;
        }
      }
      /**
       * <pre>
       * Describes the dimension numbers used for a dot operation
       * </pre>
       *
       * <code>.xla.DotDimensionNumbers dot_dimension_numbers = 30;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.DotDimensionNumbers, xla.XlaData.DotDimensionNumbers.Builder, xla.XlaData.DotDimensionNumbersOrBuilder> 
          getDotDimensionNumbersFieldBuilder() {
        if (dotDimensionNumbersBuilder_ == null) {
          dotDimensionNumbersBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.DotDimensionNumbers, xla.XlaData.DotDimensionNumbers.Builder, xla.XlaData.DotDimensionNumbersOrBuilder>(
                  getDotDimensionNumbers(),
                  getParentForChildren(),
                  isClean());
          dotDimensionNumbers_ = null;
        }
        return dotDimensionNumbersBuilder_;
      }

      private int fftType_ = 0;
      /**
       * <pre>
       * FFT type (FFT, IFFT, etc).
       * </pre>
       *
       * <code>.xla.FftType fft_type = 31;</code>
       */
      public int getFftTypeValue() {
        return fftType_;
      }
      /**
       * <pre>
       * FFT type (FFT, IFFT, etc).
       * </pre>
       *
       * <code>.xla.FftType fft_type = 31;</code>
       */
      public Builder setFftTypeValue(int value) {
        fftType_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * FFT type (FFT, IFFT, etc).
       * </pre>
       *
       * <code>.xla.FftType fft_type = 31;</code>
       */
      public xla.XlaData.FftType getFftType() {
        xla.XlaData.FftType result = xla.XlaData.FftType.valueOf(fftType_);
        return result == null ? xla.XlaData.FftType.UNRECOGNIZED : result;
      }
      /**
       * <pre>
       * FFT type (FFT, IFFT, etc).
       * </pre>
       *
       * <code>.xla.FftType fft_type = 31;</code>
       */
      public Builder setFftType(xla.XlaData.FftType value) {
        if (value == null) {
          throw new NullPointerException();
        }
        
        fftType_ = value.getNumber();
        onChanged();
        return this;
      }
      /**
       * <pre>
       * FFT type (FFT, IFFT, etc).
       * </pre>
       *
       * <code>.xla.FftType fft_type = 31;</code>
       */
      public Builder clearFftType() {
        
        fftType_ = 0;
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> fftLength_ = java.util.Collections.emptyList();
      private void ensureFftLengthIsMutable() {
        if (!((bitField0_ & 0x04000000) == 0x04000000)) {
          fftLength_ = new java.util.ArrayList<java.lang.Long>(fftLength_);
          bitField0_ |= 0x04000000;
         }
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public java.util.List<java.lang.Long>
          getFftLengthList() {
        return java.util.Collections.unmodifiableList(fftLength_);
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public int getFftLengthCount() {
        return fftLength_.size();
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public long getFftLength(int index) {
        return fftLength_.get(index);
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public Builder setFftLength(
          int index, long value) {
        ensureFftLengthIsMutable();
        fftLength_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public Builder addFftLength(long value) {
        ensureFftLengthIsMutable();
        fftLength_.add(value);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public Builder addAllFftLength(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureFftLengthIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, fftLength_);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * FFT length.
       * </pre>
       *
       * <code>repeated int64 fft_length = 32;</code>
       */
      public Builder clearFftLength() {
        fftLength_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x04000000);
        onChanged();
        return this;
      }

      private xla.XlaData.GatherDimensionNumbers gatherDimensionNumbers_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.GatherDimensionNumbers, xla.XlaData.GatherDimensionNumbers.Builder, xla.XlaData.GatherDimensionNumbersOrBuilder> gatherDimensionNumbersBuilder_;
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public boolean hasGatherDimensionNumbers() {
        return gatherDimensionNumbersBuilder_ != null || gatherDimensionNumbers_ != null;
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public xla.XlaData.GatherDimensionNumbers getGatherDimensionNumbers() {
        if (gatherDimensionNumbersBuilder_ == null) {
          return gatherDimensionNumbers_ == null ? xla.XlaData.GatherDimensionNumbers.getDefaultInstance() : gatherDimensionNumbers_;
        } else {
          return gatherDimensionNumbersBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public Builder setGatherDimensionNumbers(xla.XlaData.GatherDimensionNumbers value) {
        if (gatherDimensionNumbersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          gatherDimensionNumbers_ = value;
          onChanged();
        } else {
          gatherDimensionNumbersBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public Builder setGatherDimensionNumbers(
          xla.XlaData.GatherDimensionNumbers.Builder builderForValue) {
        if (gatherDimensionNumbersBuilder_ == null) {
          gatherDimensionNumbers_ = builderForValue.build();
          onChanged();
        } else {
          gatherDimensionNumbersBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public Builder mergeGatherDimensionNumbers(xla.XlaData.GatherDimensionNumbers value) {
        if (gatherDimensionNumbersBuilder_ == null) {
          if (gatherDimensionNumbers_ != null) {
            gatherDimensionNumbers_ =
              xla.XlaData.GatherDimensionNumbers.newBuilder(gatherDimensionNumbers_).mergeFrom(value).buildPartial();
          } else {
            gatherDimensionNumbers_ = value;
          }
          onChanged();
        } else {
          gatherDimensionNumbersBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public Builder clearGatherDimensionNumbers() {
        if (gatherDimensionNumbersBuilder_ == null) {
          gatherDimensionNumbers_ = null;
          onChanged();
        } else {
          gatherDimensionNumbers_ = null;
          gatherDimensionNumbersBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public xla.XlaData.GatherDimensionNumbers.Builder getGatherDimensionNumbersBuilder() {
        
        onChanged();
        return getGatherDimensionNumbersFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      public xla.XlaData.GatherDimensionNumbersOrBuilder getGatherDimensionNumbersOrBuilder() {
        if (gatherDimensionNumbersBuilder_ != null) {
          return gatherDimensionNumbersBuilder_.getMessageOrBuilder();
        } else {
          return gatherDimensionNumbers_ == null ?
              xla.XlaData.GatherDimensionNumbers.getDefaultInstance() : gatherDimensionNumbers_;
        }
      }
      /**
       * <pre>
       * Gather dimension numbers.
       * </pre>
       *
       * <code>.xla.GatherDimensionNumbers gather_dimension_numbers = 33;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.GatherDimensionNumbers, xla.XlaData.GatherDimensionNumbers.Builder, xla.XlaData.GatherDimensionNumbersOrBuilder> 
          getGatherDimensionNumbersFieldBuilder() {
        if (gatherDimensionNumbersBuilder_ == null) {
          gatherDimensionNumbersBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.GatherDimensionNumbers, xla.XlaData.GatherDimensionNumbers.Builder, xla.XlaData.GatherDimensionNumbersOrBuilder>(
                  getGatherDimensionNumbers(),
                  getParentForChildren(),
                  isClean());
          gatherDimensionNumbers_ = null;
        }
        return gatherDimensionNumbersBuilder_;
      }

      private java.util.List<java.lang.Long> gatherWindowBounds_ = java.util.Collections.emptyList();
      private void ensureGatherWindowBoundsIsMutable() {
        if (!((bitField0_ & 0x10000000) == 0x10000000)) {
          gatherWindowBounds_ = new java.util.ArrayList<java.lang.Long>(gatherWindowBounds_);
          bitField0_ |= 0x10000000;
         }
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public java.util.List<java.lang.Long>
          getGatherWindowBoundsList() {
        return java.util.Collections.unmodifiableList(gatherWindowBounds_);
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public int getGatherWindowBoundsCount() {
        return gatherWindowBounds_.size();
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public long getGatherWindowBounds(int index) {
        return gatherWindowBounds_.get(index);
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public Builder setGatherWindowBounds(
          int index, long value) {
        ensureGatherWindowBoundsIsMutable();
        gatherWindowBounds_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public Builder addGatherWindowBounds(long value) {
        ensureGatherWindowBoundsIsMutable();
        gatherWindowBounds_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public Builder addAllGatherWindowBounds(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureGatherWindowBoundsIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, gatherWindowBounds_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 gather_window_bounds = 34;</code>
       */
      public Builder clearGatherWindowBounds() {
        gatherWindowBounds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x10000000);
        onChanged();
        return this;
      }

      private long id_ ;
      /**
       * <pre>
       * The id of this instruction.
       * </pre>
       *
       * <code>int64 id = 35;</code>
       */
      public long getId() {
        return id_;
      }
      /**
       * <pre>
       * The id of this instruction.
       * </pre>
       *
       * <code>int64 id = 35;</code>
       */
      public Builder setId(long value) {
        
        id_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The id of this instruction.
       * </pre>
       *
       * <code>int64 id = 35;</code>
       */
      public Builder clearId() {
        
        id_ = 0L;
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> operandIds_ = java.util.Collections.emptyList();
      private void ensureOperandIdsIsMutable() {
        if (!((bitField0_ & 0x40000000) == 0x40000000)) {
          operandIds_ = new java.util.ArrayList<java.lang.Long>(operandIds_);
          bitField0_ |= 0x40000000;
         }
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public java.util.List<java.lang.Long>
          getOperandIdsList() {
        return java.util.Collections.unmodifiableList(operandIds_);
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public int getOperandIdsCount() {
        return operandIds_.size();
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public long getOperandIds(int index) {
        return operandIds_.get(index);
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public Builder setOperandIds(
          int index, long value) {
        ensureOperandIdsIsMutable();
        operandIds_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public Builder addOperandIds(long value) {
        ensureOperandIdsIsMutable();
        operandIds_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public Builder addAllOperandIds(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureOperandIdsIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, operandIds_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 operand_ids = 36;</code>
       */
      public Builder clearOperandIds() {
        operandIds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x40000000);
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> controlPredecessorIds_ = java.util.Collections.emptyList();
      private void ensureControlPredecessorIdsIsMutable() {
        if (!((bitField0_ & 0x80000000) == 0x80000000)) {
          controlPredecessorIds_ = new java.util.ArrayList<java.lang.Long>(controlPredecessorIds_);
          bitField0_ |= 0x80000000;
         }
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public java.util.List<java.lang.Long>
          getControlPredecessorIdsList() {
        return java.util.Collections.unmodifiableList(controlPredecessorIds_);
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public int getControlPredecessorIdsCount() {
        return controlPredecessorIds_.size();
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public long getControlPredecessorIds(int index) {
        return controlPredecessorIds_.get(index);
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public Builder setControlPredecessorIds(
          int index, long value) {
        ensureControlPredecessorIdsIsMutable();
        controlPredecessorIds_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public Builder addControlPredecessorIds(long value) {
        ensureControlPredecessorIdsIsMutable();
        controlPredecessorIds_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public Builder addAllControlPredecessorIds(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureControlPredecessorIdsIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, controlPredecessorIds_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 control_predecessor_ids = 37;</code>
       */
      public Builder clearControlPredecessorIds() {
        controlPredecessorIds_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x80000000);
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> calledComputationIds_ = java.util.Collections.emptyList();
      private void ensureCalledComputationIdsIsMutable() {
        if (!((bitField1_ & 0x00000001) == 0x00000001)) {
          calledComputationIds_ = new java.util.ArrayList<java.lang.Long>(calledComputationIds_);
          bitField1_ |= 0x00000001;
         }
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public java.util.List<java.lang.Long>
          getCalledComputationIdsList() {
        return java.util.Collections.unmodifiableList(calledComputationIds_);
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public int getCalledComputationIdsCount() {
        return calledComputationIds_.size();
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public long getCalledComputationIds(int index) {
        return calledComputationIds_.get(index);
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public Builder setCalledComputationIds(
          int index, long value) {
        ensureCalledComputationIdsIsMutable();
        calledComputationIds_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public Builder addCalledComputationIds(long value) {
        ensureCalledComputationIdsIsMutable();
        calledComputationIds_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public Builder addAllCalledComputationIds(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureCalledComputationIdsIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, calledComputationIds_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 called_computation_ids = 38;</code>
       */
      public Builder clearCalledComputationIds() {
        calledComputationIds_ = java.util.Collections.emptyList();
        bitField1_ = (bitField1_ & ~0x00000001);
        onChanged();
        return this;
      }

      private xla.XlaData.OpSharding sharding_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.OpSharding, xla.XlaData.OpSharding.Builder, xla.XlaData.OpShardingOrBuilder> shardingBuilder_;
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public boolean hasSharding() {
        return shardingBuilder_ != null || sharding_ != null;
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public xla.XlaData.OpSharding getSharding() {
        if (shardingBuilder_ == null) {
          return sharding_ == null ? xla.XlaData.OpSharding.getDefaultInstance() : sharding_;
        } else {
          return shardingBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public Builder setSharding(xla.XlaData.OpSharding value) {
        if (shardingBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          sharding_ = value;
          onChanged();
        } else {
          shardingBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public Builder setSharding(
          xla.XlaData.OpSharding.Builder builderForValue) {
        if (shardingBuilder_ == null) {
          sharding_ = builderForValue.build();
          onChanged();
        } else {
          shardingBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public Builder mergeSharding(xla.XlaData.OpSharding value) {
        if (shardingBuilder_ == null) {
          if (sharding_ != null) {
            sharding_ =
              xla.XlaData.OpSharding.newBuilder(sharding_).mergeFrom(value).buildPartial();
          } else {
            sharding_ = value;
          }
          onChanged();
        } else {
          shardingBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public Builder clearSharding() {
        if (shardingBuilder_ == null) {
          sharding_ = null;
          onChanged();
        } else {
          sharding_ = null;
          shardingBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public xla.XlaData.OpSharding.Builder getShardingBuilder() {
        
        onChanged();
        return getShardingFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      public xla.XlaData.OpShardingOrBuilder getShardingOrBuilder() {
        if (shardingBuilder_ != null) {
          return shardingBuilder_.getMessageOrBuilder();
        } else {
          return sharding_ == null ?
              xla.XlaData.OpSharding.getDefaultInstance() : sharding_;
        }
      }
      /**
       * <code>.xla.OpSharding sharding = 40;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.OpSharding, xla.XlaData.OpSharding.Builder, xla.XlaData.OpShardingOrBuilder> 
          getShardingFieldBuilder() {
        if (shardingBuilder_ == null) {
          shardingBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.OpSharding, xla.XlaData.OpSharding.Builder, xla.XlaData.OpShardingOrBuilder>(
                  getSharding(),
                  getParentForChildren(),
                  isClean());
          sharding_ = null;
        }
        return shardingBuilder_;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HloInstructionProto)
    }

    // @@protoc_insertion_point(class_scope:xla.HloInstructionProto)
    private static final xla.Hlo.HloInstructionProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HloInstructionProto();
    }

    public static xla.Hlo.HloInstructionProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HloInstructionProto>
        PARSER = new com.google.protobuf.AbstractParser<HloInstructionProto>() {
      public HloInstructionProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HloInstructionProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HloInstructionProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HloInstructionProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HloInstructionProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface HloComputationProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HloComputationProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>string name = 1;</code>
     */
    java.lang.String getName();
    /**
     * <code>string name = 1;</code>
     */
    com.google.protobuf.ByteString
        getNameBytes();

    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    java.util.List<xla.Hlo.HloInstructionProto> 
        getInstructionsList();
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    xla.Hlo.HloInstructionProto getInstructions(int index);
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    int getInstructionsCount();
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    java.util.List<? extends xla.Hlo.HloInstructionProtoOrBuilder> 
        getInstructionsOrBuilderList();
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    xla.Hlo.HloInstructionProtoOrBuilder getInstructionsOrBuilder(
        int index);

    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    boolean hasProgramShape();
    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    xla.XlaData.ProgramShape getProgramShape();
    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder();

    /**
     * <pre>
     * The id of this computation.
     * </pre>
     *
     * <code>int64 id = 5;</code>
     */
    long getId();

    /**
     * <pre>
     * The id of the root of the computation.
     * </pre>
     *
     * <code>int64 root_id = 6;</code>
     */
    long getRootId();
  }
  /**
   * <pre>
   * Serialization of HloComputation.
   * </pre>
   *
   * Protobuf type {@code xla.HloComputationProto}
   */
  public  static final class HloComputationProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HloComputationProto)
      HloComputationProtoOrBuilder {
    // Use HloComputationProto.newBuilder() to construct.
    private HloComputationProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HloComputationProto() {
      name_ = "";
      instructions_ = java.util.Collections.emptyList();
      id_ = 0L;
      rootId_ = 0L;
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HloComputationProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              java.lang.String s = input.readStringRequireUtf8();

              name_ = s;
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                instructions_ = new java.util.ArrayList<xla.Hlo.HloInstructionProto>();
                mutable_bitField0_ |= 0x00000002;
              }
              instructions_.add(
                  input.readMessage(xla.Hlo.HloInstructionProto.parser(), extensionRegistry));
              break;
            }
            case 34: {
              xla.XlaData.ProgramShape.Builder subBuilder = null;
              if (programShape_ != null) {
                subBuilder = programShape_.toBuilder();
              }
              programShape_ = input.readMessage(xla.XlaData.ProgramShape.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(programShape_);
                programShape_ = subBuilder.buildPartial();
              }

              break;
            }
            case 40: {

              id_ = input.readInt64();
              break;
            }
            case 48: {

              rootId_ = input.readInt64();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          instructions_ = java.util.Collections.unmodifiableList(instructions_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HloComputationProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HloComputationProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HloComputationProto.class, xla.Hlo.HloComputationProto.Builder.class);
    }

    private int bitField0_;
    public static final int NAME_FIELD_NUMBER = 1;
    private volatile java.lang.Object name_;
    /**
     * <code>string name = 1;</code>
     */
    public java.lang.String getName() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        name_ = s;
        return s;
      }
    }
    /**
     * <code>string name = 1;</code>
     */
    public com.google.protobuf.ByteString
        getNameBytes() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        name_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int INSTRUCTIONS_FIELD_NUMBER = 2;
    private java.util.List<xla.Hlo.HloInstructionProto> instructions_;
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    public java.util.List<xla.Hlo.HloInstructionProto> getInstructionsList() {
      return instructions_;
    }
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    public java.util.List<? extends xla.Hlo.HloInstructionProtoOrBuilder> 
        getInstructionsOrBuilderList() {
      return instructions_;
    }
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    public int getInstructionsCount() {
      return instructions_.size();
    }
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    public xla.Hlo.HloInstructionProto getInstructions(int index) {
      return instructions_.get(index);
    }
    /**
     * <pre>
     * The array of instructions is always in a valid dependency order, where
     * operands appear before their users.
     * </pre>
     *
     * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
     */
    public xla.Hlo.HloInstructionProtoOrBuilder getInstructionsOrBuilder(
        int index) {
      return instructions_.get(index);
    }

    public static final int PROGRAM_SHAPE_FIELD_NUMBER = 4;
    private xla.XlaData.ProgramShape programShape_;
    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public boolean hasProgramShape() {
      return programShape_ != null;
    }
    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public xla.XlaData.ProgramShape getProgramShape() {
      return programShape_ == null ? xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
    }
    /**
     * <pre>
     * The program shape (with layout) of this computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder() {
      return getProgramShape();
    }

    public static final int ID_FIELD_NUMBER = 5;
    private long id_;
    /**
     * <pre>
     * The id of this computation.
     * </pre>
     *
     * <code>int64 id = 5;</code>
     */
    public long getId() {
      return id_;
    }

    public static final int ROOT_ID_FIELD_NUMBER = 6;
    private long rootId_;
    /**
     * <pre>
     * The id of the root of the computation.
     * </pre>
     *
     * <code>int64 root_id = 6;</code>
     */
    public long getRootId() {
      return rootId_;
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (!getNameBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, name_);
      }
      for (int i = 0; i < instructions_.size(); i++) {
        output.writeMessage(2, instructions_.get(i));
      }
      if (programShape_ != null) {
        output.writeMessage(4, getProgramShape());
      }
      if (id_ != 0L) {
        output.writeInt64(5, id_);
      }
      if (rootId_ != 0L) {
        output.writeInt64(6, rootId_);
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (!getNameBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, name_);
      }
      for (int i = 0; i < instructions_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, instructions_.get(i));
      }
      if (programShape_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, getProgramShape());
      }
      if (id_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(5, id_);
      }
      if (rootId_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(6, rootId_);
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HloComputationProto)) {
        return super.equals(obj);
      }
      xla.Hlo.HloComputationProto other = (xla.Hlo.HloComputationProto) obj;

      boolean result = true;
      result = result && getName()
          .equals(other.getName());
      result = result && getInstructionsList()
          .equals(other.getInstructionsList());
      result = result && (hasProgramShape() == other.hasProgramShape());
      if (hasProgramShape()) {
        result = result && getProgramShape()
            .equals(other.getProgramShape());
      }
      result = result && (getId()
          == other.getId());
      result = result && (getRootId()
          == other.getRootId());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + NAME_FIELD_NUMBER;
      hash = (53 * hash) + getName().hashCode();
      if (getInstructionsCount() > 0) {
        hash = (37 * hash) + INSTRUCTIONS_FIELD_NUMBER;
        hash = (53 * hash) + getInstructionsList().hashCode();
      }
      if (hasProgramShape()) {
        hash = (37 * hash) + PROGRAM_SHAPE_FIELD_NUMBER;
        hash = (53 * hash) + getProgramShape().hashCode();
      }
      hash = (37 * hash) + ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getId());
      hash = (37 * hash) + ROOT_ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getRootId());
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HloComputationProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloComputationProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloComputationProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloComputationProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloComputationProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloComputationProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloComputationProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloComputationProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloComputationProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloComputationProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HloComputationProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of HloComputation.
     * </pre>
     *
     * Protobuf type {@code xla.HloComputationProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HloComputationProto)
        xla.Hlo.HloComputationProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloComputationProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloComputationProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloComputationProto.class, xla.Hlo.HloComputationProto.Builder.class);
      }

      // Construct using xla.Hlo.HloComputationProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getInstructionsFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        name_ = "";

        if (instructionsBuilder_ == null) {
          instructions_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
        } else {
          instructionsBuilder_.clear();
        }
        if (programShapeBuilder_ == null) {
          programShape_ = null;
        } else {
          programShape_ = null;
          programShapeBuilder_ = null;
        }
        id_ = 0L;

        rootId_ = 0L;

        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HloComputationProto_descriptor;
      }

      public xla.Hlo.HloComputationProto getDefaultInstanceForType() {
        return xla.Hlo.HloComputationProto.getDefaultInstance();
      }

      public xla.Hlo.HloComputationProto build() {
        xla.Hlo.HloComputationProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HloComputationProto buildPartial() {
        xla.Hlo.HloComputationProto result = new xla.Hlo.HloComputationProto(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        result.name_ = name_;
        if (instructionsBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            instructions_ = java.util.Collections.unmodifiableList(instructions_);
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.instructions_ = instructions_;
        } else {
          result.instructions_ = instructionsBuilder_.build();
        }
        if (programShapeBuilder_ == null) {
          result.programShape_ = programShape_;
        } else {
          result.programShape_ = programShapeBuilder_.build();
        }
        result.id_ = id_;
        result.rootId_ = rootId_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HloComputationProto) {
          return mergeFrom((xla.Hlo.HloComputationProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HloComputationProto other) {
        if (other == xla.Hlo.HloComputationProto.getDefaultInstance()) return this;
        if (!other.getName().isEmpty()) {
          name_ = other.name_;
          onChanged();
        }
        if (instructionsBuilder_ == null) {
          if (!other.instructions_.isEmpty()) {
            if (instructions_.isEmpty()) {
              instructions_ = other.instructions_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureInstructionsIsMutable();
              instructions_.addAll(other.instructions_);
            }
            onChanged();
          }
        } else {
          if (!other.instructions_.isEmpty()) {
            if (instructionsBuilder_.isEmpty()) {
              instructionsBuilder_.dispose();
              instructionsBuilder_ = null;
              instructions_ = other.instructions_;
              bitField0_ = (bitField0_ & ~0x00000002);
              instructionsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getInstructionsFieldBuilder() : null;
            } else {
              instructionsBuilder_.addAllMessages(other.instructions_);
            }
          }
        }
        if (other.hasProgramShape()) {
          mergeProgramShape(other.getProgramShape());
        }
        if (other.getId() != 0L) {
          setId(other.getId());
        }
        if (other.getRootId() != 0L) {
          setRootId(other.getRootId());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HloComputationProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HloComputationProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private java.lang.Object name_ = "";
      /**
       * <code>string name = 1;</code>
       */
      public java.lang.String getName() {
        java.lang.Object ref = name_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          name_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public com.google.protobuf.ByteString
          getNameBytes() {
        java.lang.Object ref = name_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          name_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        name_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder clearName() {
        
        name_ = getDefaultInstance().getName();
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        name_ = value;
        onChanged();
        return this;
      }

      private java.util.List<xla.Hlo.HloInstructionProto> instructions_ =
        java.util.Collections.emptyList();
      private void ensureInstructionsIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          instructions_ = new java.util.ArrayList<xla.Hlo.HloInstructionProto>(instructions_);
          bitField0_ |= 0x00000002;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloInstructionProto, xla.Hlo.HloInstructionProto.Builder, xla.Hlo.HloInstructionProtoOrBuilder> instructionsBuilder_;

      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public java.util.List<xla.Hlo.HloInstructionProto> getInstructionsList() {
        if (instructionsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(instructions_);
        } else {
          return instructionsBuilder_.getMessageList();
        }
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public int getInstructionsCount() {
        if (instructionsBuilder_ == null) {
          return instructions_.size();
        } else {
          return instructionsBuilder_.getCount();
        }
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public xla.Hlo.HloInstructionProto getInstructions(int index) {
        if (instructionsBuilder_ == null) {
          return instructions_.get(index);
        } else {
          return instructionsBuilder_.getMessage(index);
        }
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder setInstructions(
          int index, xla.Hlo.HloInstructionProto value) {
        if (instructionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureInstructionsIsMutable();
          instructions_.set(index, value);
          onChanged();
        } else {
          instructionsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder setInstructions(
          int index, xla.Hlo.HloInstructionProto.Builder builderForValue) {
        if (instructionsBuilder_ == null) {
          ensureInstructionsIsMutable();
          instructions_.set(index, builderForValue.build());
          onChanged();
        } else {
          instructionsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder addInstructions(xla.Hlo.HloInstructionProto value) {
        if (instructionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureInstructionsIsMutable();
          instructions_.add(value);
          onChanged();
        } else {
          instructionsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder addInstructions(
          int index, xla.Hlo.HloInstructionProto value) {
        if (instructionsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureInstructionsIsMutable();
          instructions_.add(index, value);
          onChanged();
        } else {
          instructionsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder addInstructions(
          xla.Hlo.HloInstructionProto.Builder builderForValue) {
        if (instructionsBuilder_ == null) {
          ensureInstructionsIsMutable();
          instructions_.add(builderForValue.build());
          onChanged();
        } else {
          instructionsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder addInstructions(
          int index, xla.Hlo.HloInstructionProto.Builder builderForValue) {
        if (instructionsBuilder_ == null) {
          ensureInstructionsIsMutable();
          instructions_.add(index, builderForValue.build());
          onChanged();
        } else {
          instructionsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder addAllInstructions(
          java.lang.Iterable<? extends xla.Hlo.HloInstructionProto> values) {
        if (instructionsBuilder_ == null) {
          ensureInstructionsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, instructions_);
          onChanged();
        } else {
          instructionsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder clearInstructions() {
        if (instructionsBuilder_ == null) {
          instructions_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
        } else {
          instructionsBuilder_.clear();
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public Builder removeInstructions(int index) {
        if (instructionsBuilder_ == null) {
          ensureInstructionsIsMutable();
          instructions_.remove(index);
          onChanged();
        } else {
          instructionsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public xla.Hlo.HloInstructionProto.Builder getInstructionsBuilder(
          int index) {
        return getInstructionsFieldBuilder().getBuilder(index);
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public xla.Hlo.HloInstructionProtoOrBuilder getInstructionsOrBuilder(
          int index) {
        if (instructionsBuilder_ == null) {
          return instructions_.get(index);  } else {
          return instructionsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public java.util.List<? extends xla.Hlo.HloInstructionProtoOrBuilder> 
           getInstructionsOrBuilderList() {
        if (instructionsBuilder_ != null) {
          return instructionsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(instructions_);
        }
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public xla.Hlo.HloInstructionProto.Builder addInstructionsBuilder() {
        return getInstructionsFieldBuilder().addBuilder(
            xla.Hlo.HloInstructionProto.getDefaultInstance());
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public xla.Hlo.HloInstructionProto.Builder addInstructionsBuilder(
          int index) {
        return getInstructionsFieldBuilder().addBuilder(
            index, xla.Hlo.HloInstructionProto.getDefaultInstance());
      }
      /**
       * <pre>
       * The array of instructions is always in a valid dependency order, where
       * operands appear before their users.
       * </pre>
       *
       * <code>repeated .xla.HloInstructionProto instructions = 2;</code>
       */
      public java.util.List<xla.Hlo.HloInstructionProto.Builder> 
           getInstructionsBuilderList() {
        return getInstructionsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloInstructionProto, xla.Hlo.HloInstructionProto.Builder, xla.Hlo.HloInstructionProtoOrBuilder> 
          getInstructionsFieldBuilder() {
        if (instructionsBuilder_ == null) {
          instructionsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HloInstructionProto, xla.Hlo.HloInstructionProto.Builder, xla.Hlo.HloInstructionProtoOrBuilder>(
                  instructions_,
                  ((bitField0_ & 0x00000002) == 0x00000002),
                  getParentForChildren(),
                  isClean());
          instructions_ = null;
        }
        return instructionsBuilder_;
      }

      private xla.XlaData.ProgramShape programShape_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder> programShapeBuilder_;
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public boolean hasProgramShape() {
        return programShapeBuilder_ != null || programShape_ != null;
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShape getProgramShape() {
        if (programShapeBuilder_ == null) {
          return programShape_ == null ? xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
        } else {
          return programShapeBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder setProgramShape(xla.XlaData.ProgramShape value) {
        if (programShapeBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          programShape_ = value;
          onChanged();
        } else {
          programShapeBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder setProgramShape(
          xla.XlaData.ProgramShape.Builder builderForValue) {
        if (programShapeBuilder_ == null) {
          programShape_ = builderForValue.build();
          onChanged();
        } else {
          programShapeBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder mergeProgramShape(xla.XlaData.ProgramShape value) {
        if (programShapeBuilder_ == null) {
          if (programShape_ != null) {
            programShape_ =
              xla.XlaData.ProgramShape.newBuilder(programShape_).mergeFrom(value).buildPartial();
          } else {
            programShape_ = value;
          }
          onChanged();
        } else {
          programShapeBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder clearProgramShape() {
        if (programShapeBuilder_ == null) {
          programShape_ = null;
          onChanged();
        } else {
          programShape_ = null;
          programShapeBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShape.Builder getProgramShapeBuilder() {
        
        onChanged();
        return getProgramShapeFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder() {
        if (programShapeBuilder_ != null) {
          return programShapeBuilder_.getMessageOrBuilder();
        } else {
          return programShape_ == null ?
              xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
        }
      }
      /**
       * <pre>
       * The program shape (with layout) of this computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder> 
          getProgramShapeFieldBuilder() {
        if (programShapeBuilder_ == null) {
          programShapeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder>(
                  getProgramShape(),
                  getParentForChildren(),
                  isClean());
          programShape_ = null;
        }
        return programShapeBuilder_;
      }

      private long id_ ;
      /**
       * <pre>
       * The id of this computation.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public long getId() {
        return id_;
      }
      /**
       * <pre>
       * The id of this computation.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public Builder setId(long value) {
        
        id_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The id of this computation.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public Builder clearId() {
        
        id_ = 0L;
        onChanged();
        return this;
      }

      private long rootId_ ;
      /**
       * <pre>
       * The id of the root of the computation.
       * </pre>
       *
       * <code>int64 root_id = 6;</code>
       */
      public long getRootId() {
        return rootId_;
      }
      /**
       * <pre>
       * The id of the root of the computation.
       * </pre>
       *
       * <code>int64 root_id = 6;</code>
       */
      public Builder setRootId(long value) {
        
        rootId_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The id of the root of the computation.
       * </pre>
       *
       * <code>int64 root_id = 6;</code>
       */
      public Builder clearRootId() {
        
        rootId_ = 0L;
        onChanged();
        return this;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HloComputationProto)
    }

    // @@protoc_insertion_point(class_scope:xla.HloComputationProto)
    private static final xla.Hlo.HloComputationProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HloComputationProto();
    }

    public static xla.Hlo.HloComputationProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HloComputationProto>
        PARSER = new com.google.protobuf.AbstractParser<HloComputationProto>() {
      public HloComputationProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HloComputationProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HloComputationProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HloComputationProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HloComputationProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface HloModuleProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HloModuleProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>string name = 1;</code>
     */
    java.lang.String getName();
    /**
     * <code>string name = 1;</code>
     */
    com.google.protobuf.ByteString
        getNameBytes();

    /**
     * <code>string entry_computation_name = 2;</code>
     */
    java.lang.String getEntryComputationName();
    /**
     * <code>string entry_computation_name = 2;</code>
     */
    com.google.protobuf.ByteString
        getEntryComputationNameBytes();

    /**
     * <code>int64 entry_computation_id = 6;</code>
     */
    long getEntryComputationId();

    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    java.util.List<xla.Hlo.HloComputationProto> 
        getComputationsList();
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    xla.Hlo.HloComputationProto getComputations(int index);
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    int getComputationsCount();
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    java.util.List<? extends xla.Hlo.HloComputationProtoOrBuilder> 
        getComputationsOrBuilderList();
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    xla.Hlo.HloComputationProtoOrBuilder getComputationsOrBuilder(
        int index);

    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    boolean hasProgramShape();
    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    xla.XlaData.ProgramShape getProgramShape();
    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder();

    /**
     * <pre>
     * The id of this module.
     * </pre>
     *
     * <code>int64 id = 5;</code>
     */
    long getId();
  }
  /**
   * <pre>
   * Serialization of HloModule.
   * </pre>
   *
   * Protobuf type {@code xla.HloModuleProto}
   */
  public  static final class HloModuleProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HloModuleProto)
      HloModuleProtoOrBuilder {
    // Use HloModuleProto.newBuilder() to construct.
    private HloModuleProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HloModuleProto() {
      name_ = "";
      entryComputationName_ = "";
      entryComputationId_ = 0L;
      computations_ = java.util.Collections.emptyList();
      id_ = 0L;
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HloModuleProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              java.lang.String s = input.readStringRequireUtf8();

              name_ = s;
              break;
            }
            case 18: {
              java.lang.String s = input.readStringRequireUtf8();

              entryComputationName_ = s;
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
                computations_ = new java.util.ArrayList<xla.Hlo.HloComputationProto>();
                mutable_bitField0_ |= 0x00000008;
              }
              computations_.add(
                  input.readMessage(xla.Hlo.HloComputationProto.parser(), extensionRegistry));
              break;
            }
            case 34: {
              xla.XlaData.ProgramShape.Builder subBuilder = null;
              if (programShape_ != null) {
                subBuilder = programShape_.toBuilder();
              }
              programShape_ = input.readMessage(xla.XlaData.ProgramShape.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(programShape_);
                programShape_ = subBuilder.buildPartial();
              }

              break;
            }
            case 40: {

              id_ = input.readInt64();
              break;
            }
            case 48: {

              entryComputationId_ = input.readInt64();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
          computations_ = java.util.Collections.unmodifiableList(computations_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HloModuleProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HloModuleProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HloModuleProto.class, xla.Hlo.HloModuleProto.Builder.class);
    }

    private int bitField0_;
    public static final int NAME_FIELD_NUMBER = 1;
    private volatile java.lang.Object name_;
    /**
     * <code>string name = 1;</code>
     */
    public java.lang.String getName() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        name_ = s;
        return s;
      }
    }
    /**
     * <code>string name = 1;</code>
     */
    public com.google.protobuf.ByteString
        getNameBytes() {
      java.lang.Object ref = name_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        name_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int ENTRY_COMPUTATION_NAME_FIELD_NUMBER = 2;
    private volatile java.lang.Object entryComputationName_;
    /**
     * <code>string entry_computation_name = 2;</code>
     */
    public java.lang.String getEntryComputationName() {
      java.lang.Object ref = entryComputationName_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        entryComputationName_ = s;
        return s;
      }
    }
    /**
     * <code>string entry_computation_name = 2;</code>
     */
    public com.google.protobuf.ByteString
        getEntryComputationNameBytes() {
      java.lang.Object ref = entryComputationName_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        entryComputationName_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int ENTRY_COMPUTATION_ID_FIELD_NUMBER = 6;
    private long entryComputationId_;
    /**
     * <code>int64 entry_computation_id = 6;</code>
     */
    public long getEntryComputationId() {
      return entryComputationId_;
    }

    public static final int COMPUTATIONS_FIELD_NUMBER = 3;
    private java.util.List<xla.Hlo.HloComputationProto> computations_;
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    public java.util.List<xla.Hlo.HloComputationProto> getComputationsList() {
      return computations_;
    }
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    public java.util.List<? extends xla.Hlo.HloComputationProtoOrBuilder> 
        getComputationsOrBuilderList() {
      return computations_;
    }
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    public int getComputationsCount() {
      return computations_.size();
    }
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    public xla.Hlo.HloComputationProto getComputations(int index) {
      return computations_.get(index);
    }
    /**
     * <pre>
     * The array of computations is always in a valid dependency order, where
     * callees appear before their callers.
     * </pre>
     *
     * <code>repeated .xla.HloComputationProto computations = 3;</code>
     */
    public xla.Hlo.HloComputationProtoOrBuilder getComputationsOrBuilder(
        int index) {
      return computations_.get(index);
    }

    public static final int PROGRAM_SHAPE_FIELD_NUMBER = 4;
    private xla.XlaData.ProgramShape programShape_;
    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public boolean hasProgramShape() {
      return programShape_ != null;
    }
    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public xla.XlaData.ProgramShape getProgramShape() {
      return programShape_ == null ? xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
    }
    /**
     * <pre>
     * The program shape (with layout) of the entry computation.
     * </pre>
     *
     * <code>.xla.ProgramShape program_shape = 4;</code>
     */
    public xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder() {
      return getProgramShape();
    }

    public static final int ID_FIELD_NUMBER = 5;
    private long id_;
    /**
     * <pre>
     * The id of this module.
     * </pre>
     *
     * <code>int64 id = 5;</code>
     */
    public long getId() {
      return id_;
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (!getNameBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, name_);
      }
      if (!getEntryComputationNameBytes().isEmpty()) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 2, entryComputationName_);
      }
      for (int i = 0; i < computations_.size(); i++) {
        output.writeMessage(3, computations_.get(i));
      }
      if (programShape_ != null) {
        output.writeMessage(4, getProgramShape());
      }
      if (id_ != 0L) {
        output.writeInt64(5, id_);
      }
      if (entryComputationId_ != 0L) {
        output.writeInt64(6, entryComputationId_);
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (!getNameBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, name_);
      }
      if (!getEntryComputationNameBytes().isEmpty()) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(2, entryComputationName_);
      }
      for (int i = 0; i < computations_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, computations_.get(i));
      }
      if (programShape_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, getProgramShape());
      }
      if (id_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(5, id_);
      }
      if (entryComputationId_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(6, entryComputationId_);
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HloModuleProto)) {
        return super.equals(obj);
      }
      xla.Hlo.HloModuleProto other = (xla.Hlo.HloModuleProto) obj;

      boolean result = true;
      result = result && getName()
          .equals(other.getName());
      result = result && getEntryComputationName()
          .equals(other.getEntryComputationName());
      result = result && (getEntryComputationId()
          == other.getEntryComputationId());
      result = result && getComputationsList()
          .equals(other.getComputationsList());
      result = result && (hasProgramShape() == other.hasProgramShape());
      if (hasProgramShape()) {
        result = result && getProgramShape()
            .equals(other.getProgramShape());
      }
      result = result && (getId()
          == other.getId());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + NAME_FIELD_NUMBER;
      hash = (53 * hash) + getName().hashCode();
      hash = (37 * hash) + ENTRY_COMPUTATION_NAME_FIELD_NUMBER;
      hash = (53 * hash) + getEntryComputationName().hashCode();
      hash = (37 * hash) + ENTRY_COMPUTATION_ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getEntryComputationId());
      if (getComputationsCount() > 0) {
        hash = (37 * hash) + COMPUTATIONS_FIELD_NUMBER;
        hash = (53 * hash) + getComputationsList().hashCode();
      }
      if (hasProgramShape()) {
        hash = (37 * hash) + PROGRAM_SHAPE_FIELD_NUMBER;
        hash = (53 * hash) + getProgramShape().hashCode();
      }
      hash = (37 * hash) + ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getId());
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HloModuleProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloModuleProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloModuleProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloModuleProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloModuleProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloModuleProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloModuleProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloModuleProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloModuleProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloModuleProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HloModuleProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of HloModule.
     * </pre>
     *
     * Protobuf type {@code xla.HloModuleProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HloModuleProto)
        xla.Hlo.HloModuleProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloModuleProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloModuleProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloModuleProto.class, xla.Hlo.HloModuleProto.Builder.class);
      }

      // Construct using xla.Hlo.HloModuleProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getComputationsFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        name_ = "";

        entryComputationName_ = "";

        entryComputationId_ = 0L;

        if (computationsBuilder_ == null) {
          computations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
        } else {
          computationsBuilder_.clear();
        }
        if (programShapeBuilder_ == null) {
          programShape_ = null;
        } else {
          programShape_ = null;
          programShapeBuilder_ = null;
        }
        id_ = 0L;

        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HloModuleProto_descriptor;
      }

      public xla.Hlo.HloModuleProto getDefaultInstanceForType() {
        return xla.Hlo.HloModuleProto.getDefaultInstance();
      }

      public xla.Hlo.HloModuleProto build() {
        xla.Hlo.HloModuleProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HloModuleProto buildPartial() {
        xla.Hlo.HloModuleProto result = new xla.Hlo.HloModuleProto(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        result.name_ = name_;
        result.entryComputationName_ = entryComputationName_;
        result.entryComputationId_ = entryComputationId_;
        if (computationsBuilder_ == null) {
          if (((bitField0_ & 0x00000008) == 0x00000008)) {
            computations_ = java.util.Collections.unmodifiableList(computations_);
            bitField0_ = (bitField0_ & ~0x00000008);
          }
          result.computations_ = computations_;
        } else {
          result.computations_ = computationsBuilder_.build();
        }
        if (programShapeBuilder_ == null) {
          result.programShape_ = programShape_;
        } else {
          result.programShape_ = programShapeBuilder_.build();
        }
        result.id_ = id_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HloModuleProto) {
          return mergeFrom((xla.Hlo.HloModuleProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HloModuleProto other) {
        if (other == xla.Hlo.HloModuleProto.getDefaultInstance()) return this;
        if (!other.getName().isEmpty()) {
          name_ = other.name_;
          onChanged();
        }
        if (!other.getEntryComputationName().isEmpty()) {
          entryComputationName_ = other.entryComputationName_;
          onChanged();
        }
        if (other.getEntryComputationId() != 0L) {
          setEntryComputationId(other.getEntryComputationId());
        }
        if (computationsBuilder_ == null) {
          if (!other.computations_.isEmpty()) {
            if (computations_.isEmpty()) {
              computations_ = other.computations_;
              bitField0_ = (bitField0_ & ~0x00000008);
            } else {
              ensureComputationsIsMutable();
              computations_.addAll(other.computations_);
            }
            onChanged();
          }
        } else {
          if (!other.computations_.isEmpty()) {
            if (computationsBuilder_.isEmpty()) {
              computationsBuilder_.dispose();
              computationsBuilder_ = null;
              computations_ = other.computations_;
              bitField0_ = (bitField0_ & ~0x00000008);
              computationsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getComputationsFieldBuilder() : null;
            } else {
              computationsBuilder_.addAllMessages(other.computations_);
            }
          }
        }
        if (other.hasProgramShape()) {
          mergeProgramShape(other.getProgramShape());
        }
        if (other.getId() != 0L) {
          setId(other.getId());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HloModuleProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HloModuleProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private java.lang.Object name_ = "";
      /**
       * <code>string name = 1;</code>
       */
      public java.lang.String getName() {
        java.lang.Object ref = name_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          name_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public com.google.protobuf.ByteString
          getNameBytes() {
        java.lang.Object ref = name_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          name_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        name_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder clearName() {
        
        name_ = getDefaultInstance().getName();
        onChanged();
        return this;
      }
      /**
       * <code>string name = 1;</code>
       */
      public Builder setNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        name_ = value;
        onChanged();
        return this;
      }

      private java.lang.Object entryComputationName_ = "";
      /**
       * <code>string entry_computation_name = 2;</code>
       */
      public java.lang.String getEntryComputationName() {
        java.lang.Object ref = entryComputationName_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          entryComputationName_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string entry_computation_name = 2;</code>
       */
      public com.google.protobuf.ByteString
          getEntryComputationNameBytes() {
        java.lang.Object ref = entryComputationName_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          entryComputationName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string entry_computation_name = 2;</code>
       */
      public Builder setEntryComputationName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  
        entryComputationName_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string entry_computation_name = 2;</code>
       */
      public Builder clearEntryComputationName() {
        
        entryComputationName_ = getDefaultInstance().getEntryComputationName();
        onChanged();
        return this;
      }
      /**
       * <code>string entry_computation_name = 2;</code>
       */
      public Builder setEntryComputationNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
        
        entryComputationName_ = value;
        onChanged();
        return this;
      }

      private long entryComputationId_ ;
      /**
       * <code>int64 entry_computation_id = 6;</code>
       */
      public long getEntryComputationId() {
        return entryComputationId_;
      }
      /**
       * <code>int64 entry_computation_id = 6;</code>
       */
      public Builder setEntryComputationId(long value) {
        
        entryComputationId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 entry_computation_id = 6;</code>
       */
      public Builder clearEntryComputationId() {
        
        entryComputationId_ = 0L;
        onChanged();
        return this;
      }

      private java.util.List<xla.Hlo.HloComputationProto> computations_ =
        java.util.Collections.emptyList();
      private void ensureComputationsIsMutable() {
        if (!((bitField0_ & 0x00000008) == 0x00000008)) {
          computations_ = new java.util.ArrayList<xla.Hlo.HloComputationProto>(computations_);
          bitField0_ |= 0x00000008;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloComputationProto, xla.Hlo.HloComputationProto.Builder, xla.Hlo.HloComputationProtoOrBuilder> computationsBuilder_;

      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public java.util.List<xla.Hlo.HloComputationProto> getComputationsList() {
        if (computationsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(computations_);
        } else {
          return computationsBuilder_.getMessageList();
        }
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public int getComputationsCount() {
        if (computationsBuilder_ == null) {
          return computations_.size();
        } else {
          return computationsBuilder_.getCount();
        }
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public xla.Hlo.HloComputationProto getComputations(int index) {
        if (computationsBuilder_ == null) {
          return computations_.get(index);
        } else {
          return computationsBuilder_.getMessage(index);
        }
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder setComputations(
          int index, xla.Hlo.HloComputationProto value) {
        if (computationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureComputationsIsMutable();
          computations_.set(index, value);
          onChanged();
        } else {
          computationsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder setComputations(
          int index, xla.Hlo.HloComputationProto.Builder builderForValue) {
        if (computationsBuilder_ == null) {
          ensureComputationsIsMutable();
          computations_.set(index, builderForValue.build());
          onChanged();
        } else {
          computationsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder addComputations(xla.Hlo.HloComputationProto value) {
        if (computationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureComputationsIsMutable();
          computations_.add(value);
          onChanged();
        } else {
          computationsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder addComputations(
          int index, xla.Hlo.HloComputationProto value) {
        if (computationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureComputationsIsMutable();
          computations_.add(index, value);
          onChanged();
        } else {
          computationsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder addComputations(
          xla.Hlo.HloComputationProto.Builder builderForValue) {
        if (computationsBuilder_ == null) {
          ensureComputationsIsMutable();
          computations_.add(builderForValue.build());
          onChanged();
        } else {
          computationsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder addComputations(
          int index, xla.Hlo.HloComputationProto.Builder builderForValue) {
        if (computationsBuilder_ == null) {
          ensureComputationsIsMutable();
          computations_.add(index, builderForValue.build());
          onChanged();
        } else {
          computationsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder addAllComputations(
          java.lang.Iterable<? extends xla.Hlo.HloComputationProto> values) {
        if (computationsBuilder_ == null) {
          ensureComputationsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, computations_);
          onChanged();
        } else {
          computationsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder clearComputations() {
        if (computationsBuilder_ == null) {
          computations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
          onChanged();
        } else {
          computationsBuilder_.clear();
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public Builder removeComputations(int index) {
        if (computationsBuilder_ == null) {
          ensureComputationsIsMutable();
          computations_.remove(index);
          onChanged();
        } else {
          computationsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public xla.Hlo.HloComputationProto.Builder getComputationsBuilder(
          int index) {
        return getComputationsFieldBuilder().getBuilder(index);
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public xla.Hlo.HloComputationProtoOrBuilder getComputationsOrBuilder(
          int index) {
        if (computationsBuilder_ == null) {
          return computations_.get(index);  } else {
          return computationsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public java.util.List<? extends xla.Hlo.HloComputationProtoOrBuilder> 
           getComputationsOrBuilderList() {
        if (computationsBuilder_ != null) {
          return computationsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(computations_);
        }
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public xla.Hlo.HloComputationProto.Builder addComputationsBuilder() {
        return getComputationsFieldBuilder().addBuilder(
            xla.Hlo.HloComputationProto.getDefaultInstance());
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public xla.Hlo.HloComputationProto.Builder addComputationsBuilder(
          int index) {
        return getComputationsFieldBuilder().addBuilder(
            index, xla.Hlo.HloComputationProto.getDefaultInstance());
      }
      /**
       * <pre>
       * The array of computations is always in a valid dependency order, where
       * callees appear before their callers.
       * </pre>
       *
       * <code>repeated .xla.HloComputationProto computations = 3;</code>
       */
      public java.util.List<xla.Hlo.HloComputationProto.Builder> 
           getComputationsBuilderList() {
        return getComputationsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloComputationProto, xla.Hlo.HloComputationProto.Builder, xla.Hlo.HloComputationProtoOrBuilder> 
          getComputationsFieldBuilder() {
        if (computationsBuilder_ == null) {
          computationsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HloComputationProto, xla.Hlo.HloComputationProto.Builder, xla.Hlo.HloComputationProtoOrBuilder>(
                  computations_,
                  ((bitField0_ & 0x00000008) == 0x00000008),
                  getParentForChildren(),
                  isClean());
          computations_ = null;
        }
        return computationsBuilder_;
      }

      private xla.XlaData.ProgramShape programShape_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder> programShapeBuilder_;
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public boolean hasProgramShape() {
        return programShapeBuilder_ != null || programShape_ != null;
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShape getProgramShape() {
        if (programShapeBuilder_ == null) {
          return programShape_ == null ? xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
        } else {
          return programShapeBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder setProgramShape(xla.XlaData.ProgramShape value) {
        if (programShapeBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          programShape_ = value;
          onChanged();
        } else {
          programShapeBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder setProgramShape(
          xla.XlaData.ProgramShape.Builder builderForValue) {
        if (programShapeBuilder_ == null) {
          programShape_ = builderForValue.build();
          onChanged();
        } else {
          programShapeBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder mergeProgramShape(xla.XlaData.ProgramShape value) {
        if (programShapeBuilder_ == null) {
          if (programShape_ != null) {
            programShape_ =
              xla.XlaData.ProgramShape.newBuilder(programShape_).mergeFrom(value).buildPartial();
          } else {
            programShape_ = value;
          }
          onChanged();
        } else {
          programShapeBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public Builder clearProgramShape() {
        if (programShapeBuilder_ == null) {
          programShape_ = null;
          onChanged();
        } else {
          programShape_ = null;
          programShapeBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShape.Builder getProgramShapeBuilder() {
        
        onChanged();
        return getProgramShapeFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      public xla.XlaData.ProgramShapeOrBuilder getProgramShapeOrBuilder() {
        if (programShapeBuilder_ != null) {
          return programShapeBuilder_.getMessageOrBuilder();
        } else {
          return programShape_ == null ?
              xla.XlaData.ProgramShape.getDefaultInstance() : programShape_;
        }
      }
      /**
       * <pre>
       * The program shape (with layout) of the entry computation.
       * </pre>
       *
       * <code>.xla.ProgramShape program_shape = 4;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder> 
          getProgramShapeFieldBuilder() {
        if (programShapeBuilder_ == null) {
          programShapeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.XlaData.ProgramShape, xla.XlaData.ProgramShape.Builder, xla.XlaData.ProgramShapeOrBuilder>(
                  getProgramShape(),
                  getParentForChildren(),
                  isClean());
          programShape_ = null;
        }
        return programShapeBuilder_;
      }

      private long id_ ;
      /**
       * <pre>
       * The id of this module.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public long getId() {
        return id_;
      }
      /**
       * <pre>
       * The id of this module.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public Builder setId(long value) {
        
        id_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * The id of this module.
       * </pre>
       *
       * <code>int64 id = 5;</code>
       */
      public Builder clearId() {
        
        id_ = 0L;
        onChanged();
        return this;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HloModuleProto)
    }

    // @@protoc_insertion_point(class_scope:xla.HloModuleProto)
    private static final xla.Hlo.HloModuleProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HloModuleProto();
    }

    public static xla.Hlo.HloModuleProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HloModuleProto>
        PARSER = new com.google.protobuf.AbstractParser<HloModuleProto>() {
      public HloModuleProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HloModuleProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HloModuleProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HloModuleProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HloModuleProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface HloOrderingProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HloOrderingProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation> 
        getSequentialComputationsList();
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    xla.Hlo.HloOrderingProto.SequentialComputation getSequentialComputations(int index);
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    int getSequentialComputationsCount();
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    java.util.List<? extends xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder> 
        getSequentialComputationsOrBuilderList();
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder getSequentialComputationsOrBuilder(
        int index);
  }
  /**
   * <pre>
   * Serialization of HloOrdering.
   * </pre>
   *
   * Protobuf type {@code xla.HloOrderingProto}
   */
  public  static final class HloOrderingProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HloOrderingProto)
      HloOrderingProtoOrBuilder {
    // Use HloOrderingProto.newBuilder() to construct.
    private HloOrderingProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HloOrderingProto() {
      sequentialComputations_ = java.util.Collections.emptyList();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HloOrderingProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              if (!((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
                sequentialComputations_ = new java.util.ArrayList<xla.Hlo.HloOrderingProto.SequentialComputation>();
                mutable_bitField0_ |= 0x00000001;
              }
              sequentialComputations_.add(
                  input.readMessage(xla.Hlo.HloOrderingProto.SequentialComputation.parser(), extensionRegistry));
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
          sequentialComputations_ = java.util.Collections.unmodifiableList(sequentialComputations_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HloOrderingProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HloOrderingProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HloOrderingProto.class, xla.Hlo.HloOrderingProto.Builder.class);
    }

    public interface SequentialComputationOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.HloOrderingProto.SequentialComputation)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>string computation_name = 1;</code>
       */
      java.lang.String getComputationName();
      /**
       * <code>string computation_name = 1;</code>
       */
      com.google.protobuf.ByteString
          getComputationNameBytes();

      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      java.util.List<java.lang.String>
          getInstructionNamesList();
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      int getInstructionNamesCount();
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      java.lang.String getInstructionNames(int index);
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      com.google.protobuf.ByteString
          getInstructionNamesBytes(int index);
    }
    /**
     * <pre>
     * NOTE: currently only sequential orderings are serialized.
     * </pre>
     *
     * Protobuf type {@code xla.HloOrderingProto.SequentialComputation}
     */
    public  static final class SequentialComputation extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.HloOrderingProto.SequentialComputation)
        SequentialComputationOrBuilder {
      // Use SequentialComputation.newBuilder() to construct.
      private SequentialComputation(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private SequentialComputation() {
        computationName_ = "";
        instructionNames_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private SequentialComputation(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                java.lang.String s = input.readStringRequireUtf8();

                computationName_ = s;
                break;
              }
              case 18: {
                java.lang.String s = input.readStringRequireUtf8();
                if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                  instructionNames_ = new com.google.protobuf.LazyStringArrayList();
                  mutable_bitField0_ |= 0x00000002;
                }
                instructionNames_.add(s);
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
            instructionNames_ = instructionNames_.getUnmodifiableView();
          }
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloOrderingProto_SequentialComputation_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloOrderingProto_SequentialComputation_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloOrderingProto.SequentialComputation.class, xla.Hlo.HloOrderingProto.SequentialComputation.Builder.class);
      }

      private int bitField0_;
      public static final int COMPUTATION_NAME_FIELD_NUMBER = 1;
      private volatile java.lang.Object computationName_;
      /**
       * <code>string computation_name = 1;</code>
       */
      public java.lang.String getComputationName() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          computationName_ = s;
          return s;
        }
      }
      /**
       * <code>string computation_name = 1;</code>
       */
      public com.google.protobuf.ByteString
          getComputationNameBytes() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          computationName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      public static final int INSTRUCTION_NAMES_FIELD_NUMBER = 2;
      private com.google.protobuf.LazyStringList instructionNames_;
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      public com.google.protobuf.ProtocolStringList
          getInstructionNamesList() {
        return instructionNames_;
      }
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      public int getInstructionNamesCount() {
        return instructionNames_.size();
      }
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      public java.lang.String getInstructionNames(int index) {
        return instructionNames_.get(index);
      }
      /**
       * <code>repeated string instruction_names = 2;</code>
       */
      public com.google.protobuf.ByteString
          getInstructionNamesBytes(int index) {
        return instructionNames_.getByteString(index);
      }

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (!getComputationNameBytes().isEmpty()) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 1, computationName_);
        }
        for (int i = 0; i < instructionNames_.size(); i++) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 2, instructionNames_.getRaw(i));
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (!getComputationNameBytes().isEmpty()) {
          size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, computationName_);
        }
        {
          int dataSize = 0;
          for (int i = 0; i < instructionNames_.size(); i++) {
            dataSize += computeStringSizeNoTag(instructionNames_.getRaw(i));
          }
          size += dataSize;
          size += 1 * getInstructionNamesList().size();
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.HloOrderingProto.SequentialComputation)) {
          return super.equals(obj);
        }
        xla.Hlo.HloOrderingProto.SequentialComputation other = (xla.Hlo.HloOrderingProto.SequentialComputation) obj;

        boolean result = true;
        result = result && getComputationName()
            .equals(other.getComputationName());
        result = result && getInstructionNamesList()
            .equals(other.getInstructionNamesList());
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + COMPUTATION_NAME_FIELD_NUMBER;
        hash = (53 * hash) + getComputationName().hashCode();
        if (getInstructionNamesCount() > 0) {
          hash = (37 * hash) + INSTRUCTION_NAMES_FIELD_NUMBER;
          hash = (53 * hash) + getInstructionNamesList().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HloOrderingProto.SequentialComputation parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.HloOrderingProto.SequentialComputation prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * NOTE: currently only sequential orderings are serialized.
       * </pre>
       *
       * Protobuf type {@code xla.HloOrderingProto.SequentialComputation}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.HloOrderingProto.SequentialComputation)
          xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_HloOrderingProto_SequentialComputation_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_HloOrderingProto_SequentialComputation_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.HloOrderingProto.SequentialComputation.class, xla.Hlo.HloOrderingProto.SequentialComputation.Builder.class);
        }

        // Construct using xla.Hlo.HloOrderingProto.SequentialComputation.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          computationName_ = "";

          instructionNames_ = com.google.protobuf.LazyStringArrayList.EMPTY;
          bitField0_ = (bitField0_ & ~0x00000002);
          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_HloOrderingProto_SequentialComputation_descriptor;
        }

        public xla.Hlo.HloOrderingProto.SequentialComputation getDefaultInstanceForType() {
          return xla.Hlo.HloOrderingProto.SequentialComputation.getDefaultInstance();
        }

        public xla.Hlo.HloOrderingProto.SequentialComputation build() {
          xla.Hlo.HloOrderingProto.SequentialComputation result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.HloOrderingProto.SequentialComputation buildPartial() {
          xla.Hlo.HloOrderingProto.SequentialComputation result = new xla.Hlo.HloOrderingProto.SequentialComputation(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          result.computationName_ = computationName_;
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            instructionNames_ = instructionNames_.getUnmodifiableView();
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.instructionNames_ = instructionNames_;
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.HloOrderingProto.SequentialComputation) {
            return mergeFrom((xla.Hlo.HloOrderingProto.SequentialComputation)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.HloOrderingProto.SequentialComputation other) {
          if (other == xla.Hlo.HloOrderingProto.SequentialComputation.getDefaultInstance()) return this;
          if (!other.getComputationName().isEmpty()) {
            computationName_ = other.computationName_;
            onChanged();
          }
          if (!other.instructionNames_.isEmpty()) {
            if (instructionNames_.isEmpty()) {
              instructionNames_ = other.instructionNames_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureInstructionNamesIsMutable();
              instructionNames_.addAll(other.instructionNames_);
            }
            onChanged();
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.HloOrderingProto.SequentialComputation parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.HloOrderingProto.SequentialComputation) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        private java.lang.Object computationName_ = "";
        /**
         * <code>string computation_name = 1;</code>
         */
        public java.lang.String getComputationName() {
          java.lang.Object ref = computationName_;
          if (!(ref instanceof java.lang.String)) {
            com.google.protobuf.ByteString bs =
                (com.google.protobuf.ByteString) ref;
            java.lang.String s = bs.toStringUtf8();
            computationName_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <code>string computation_name = 1;</code>
         */
        public com.google.protobuf.ByteString
            getComputationNameBytes() {
          java.lang.Object ref = computationName_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            computationName_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <code>string computation_name = 1;</code>
         */
        public Builder setComputationName(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  
          computationName_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>string computation_name = 1;</code>
         */
        public Builder clearComputationName() {
          
          computationName_ = getDefaultInstance().getComputationName();
          onChanged();
          return this;
        }
        /**
         * <code>string computation_name = 1;</code>
         */
        public Builder setComputationNameBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          
          computationName_ = value;
          onChanged();
          return this;
        }

        private com.google.protobuf.LazyStringList instructionNames_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        private void ensureInstructionNamesIsMutable() {
          if (!((bitField0_ & 0x00000002) == 0x00000002)) {
            instructionNames_ = new com.google.protobuf.LazyStringArrayList(instructionNames_);
            bitField0_ |= 0x00000002;
           }
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public com.google.protobuf.ProtocolStringList
            getInstructionNamesList() {
          return instructionNames_.getUnmodifiableView();
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public int getInstructionNamesCount() {
          return instructionNames_.size();
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public java.lang.String getInstructionNames(int index) {
          return instructionNames_.get(index);
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public com.google.protobuf.ByteString
            getInstructionNamesBytes(int index) {
          return instructionNames_.getByteString(index);
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public Builder setInstructionNames(
            int index, java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  ensureInstructionNamesIsMutable();
          instructionNames_.set(index, value);
          onChanged();
          return this;
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public Builder addInstructionNames(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  ensureInstructionNamesIsMutable();
          instructionNames_.add(value);
          onChanged();
          return this;
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public Builder addAllInstructionNames(
            java.lang.Iterable<java.lang.String> values) {
          ensureInstructionNamesIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, instructionNames_);
          onChanged();
          return this;
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public Builder clearInstructionNames() {
          instructionNames_ = com.google.protobuf.LazyStringArrayList.EMPTY;
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
          return this;
        }
        /**
         * <code>repeated string instruction_names = 2;</code>
         */
        public Builder addInstructionNamesBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          ensureInstructionNamesIsMutable();
          instructionNames_.add(value);
          onChanged();
          return this;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.HloOrderingProto.SequentialComputation)
      }

      // @@protoc_insertion_point(class_scope:xla.HloOrderingProto.SequentialComputation)
      private static final xla.Hlo.HloOrderingProto.SequentialComputation DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.HloOrderingProto.SequentialComputation();
      }

      public static xla.Hlo.HloOrderingProto.SequentialComputation getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<SequentialComputation>
          PARSER = new com.google.protobuf.AbstractParser<SequentialComputation>() {
        public SequentialComputation parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new SequentialComputation(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<SequentialComputation> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<SequentialComputation> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.HloOrderingProto.SequentialComputation getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public static final int SEQUENTIAL_COMPUTATIONS_FIELD_NUMBER = 1;
    private java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation> sequentialComputations_;
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    public java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation> getSequentialComputationsList() {
      return sequentialComputations_;
    }
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    public java.util.List<? extends xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder> 
        getSequentialComputationsOrBuilderList() {
      return sequentialComputations_;
    }
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    public int getSequentialComputationsCount() {
      return sequentialComputations_.size();
    }
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    public xla.Hlo.HloOrderingProto.SequentialComputation getSequentialComputations(int index) {
      return sequentialComputations_.get(index);
    }
    /**
     * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
     */
    public xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder getSequentialComputationsOrBuilder(
        int index) {
      return sequentialComputations_.get(index);
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      for (int i = 0; i < sequentialComputations_.size(); i++) {
        output.writeMessage(1, sequentialComputations_.get(i));
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      for (int i = 0; i < sequentialComputations_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, sequentialComputations_.get(i));
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HloOrderingProto)) {
        return super.equals(obj);
      }
      xla.Hlo.HloOrderingProto other = (xla.Hlo.HloOrderingProto) obj;

      boolean result = true;
      result = result && getSequentialComputationsList()
          .equals(other.getSequentialComputationsList());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      if (getSequentialComputationsCount() > 0) {
        hash = (37 * hash) + SEQUENTIAL_COMPUTATIONS_FIELD_NUMBER;
        hash = (53 * hash) + getSequentialComputationsList().hashCode();
      }
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HloOrderingProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloOrderingProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloOrderingProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloOrderingProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HloOrderingProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of HloOrdering.
     * </pre>
     *
     * Protobuf type {@code xla.HloOrderingProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HloOrderingProto)
        xla.Hlo.HloOrderingProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloOrderingProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloOrderingProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloOrderingProto.class, xla.Hlo.HloOrderingProto.Builder.class);
      }

      // Construct using xla.Hlo.HloOrderingProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getSequentialComputationsFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        if (sequentialComputationsBuilder_ == null) {
          sequentialComputations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
        } else {
          sequentialComputationsBuilder_.clear();
        }
        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HloOrderingProto_descriptor;
      }

      public xla.Hlo.HloOrderingProto getDefaultInstanceForType() {
        return xla.Hlo.HloOrderingProto.getDefaultInstance();
      }

      public xla.Hlo.HloOrderingProto build() {
        xla.Hlo.HloOrderingProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HloOrderingProto buildPartial() {
        xla.Hlo.HloOrderingProto result = new xla.Hlo.HloOrderingProto(this);
        int from_bitField0_ = bitField0_;
        if (sequentialComputationsBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            sequentialComputations_ = java.util.Collections.unmodifiableList(sequentialComputations_);
            bitField0_ = (bitField0_ & ~0x00000001);
          }
          result.sequentialComputations_ = sequentialComputations_;
        } else {
          result.sequentialComputations_ = sequentialComputationsBuilder_.build();
        }
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HloOrderingProto) {
          return mergeFrom((xla.Hlo.HloOrderingProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HloOrderingProto other) {
        if (other == xla.Hlo.HloOrderingProto.getDefaultInstance()) return this;
        if (sequentialComputationsBuilder_ == null) {
          if (!other.sequentialComputations_.isEmpty()) {
            if (sequentialComputations_.isEmpty()) {
              sequentialComputations_ = other.sequentialComputations_;
              bitField0_ = (bitField0_ & ~0x00000001);
            } else {
              ensureSequentialComputationsIsMutable();
              sequentialComputations_.addAll(other.sequentialComputations_);
            }
            onChanged();
          }
        } else {
          if (!other.sequentialComputations_.isEmpty()) {
            if (sequentialComputationsBuilder_.isEmpty()) {
              sequentialComputationsBuilder_.dispose();
              sequentialComputationsBuilder_ = null;
              sequentialComputations_ = other.sequentialComputations_;
              bitField0_ = (bitField0_ & ~0x00000001);
              sequentialComputationsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getSequentialComputationsFieldBuilder() : null;
            } else {
              sequentialComputationsBuilder_.addAllMessages(other.sequentialComputations_);
            }
          }
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HloOrderingProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HloOrderingProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation> sequentialComputations_ =
        java.util.Collections.emptyList();
      private void ensureSequentialComputationsIsMutable() {
        if (!((bitField0_ & 0x00000001) == 0x00000001)) {
          sequentialComputations_ = new java.util.ArrayList<xla.Hlo.HloOrderingProto.SequentialComputation>(sequentialComputations_);
          bitField0_ |= 0x00000001;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloOrderingProto.SequentialComputation, xla.Hlo.HloOrderingProto.SequentialComputation.Builder, xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder> sequentialComputationsBuilder_;

      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation> getSequentialComputationsList() {
        if (sequentialComputationsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(sequentialComputations_);
        } else {
          return sequentialComputationsBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public int getSequentialComputationsCount() {
        if (sequentialComputationsBuilder_ == null) {
          return sequentialComputations_.size();
        } else {
          return sequentialComputationsBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public xla.Hlo.HloOrderingProto.SequentialComputation getSequentialComputations(int index) {
        if (sequentialComputationsBuilder_ == null) {
          return sequentialComputations_.get(index);
        } else {
          return sequentialComputationsBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder setSequentialComputations(
          int index, xla.Hlo.HloOrderingProto.SequentialComputation value) {
        if (sequentialComputationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.set(index, value);
          onChanged();
        } else {
          sequentialComputationsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder setSequentialComputations(
          int index, xla.Hlo.HloOrderingProto.SequentialComputation.Builder builderForValue) {
        if (sequentialComputationsBuilder_ == null) {
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.set(index, builderForValue.build());
          onChanged();
        } else {
          sequentialComputationsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder addSequentialComputations(xla.Hlo.HloOrderingProto.SequentialComputation value) {
        if (sequentialComputationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.add(value);
          onChanged();
        } else {
          sequentialComputationsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder addSequentialComputations(
          int index, xla.Hlo.HloOrderingProto.SequentialComputation value) {
        if (sequentialComputationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.add(index, value);
          onChanged();
        } else {
          sequentialComputationsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder addSequentialComputations(
          xla.Hlo.HloOrderingProto.SequentialComputation.Builder builderForValue) {
        if (sequentialComputationsBuilder_ == null) {
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.add(builderForValue.build());
          onChanged();
        } else {
          sequentialComputationsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder addSequentialComputations(
          int index, xla.Hlo.HloOrderingProto.SequentialComputation.Builder builderForValue) {
        if (sequentialComputationsBuilder_ == null) {
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.add(index, builderForValue.build());
          onChanged();
        } else {
          sequentialComputationsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder addAllSequentialComputations(
          java.lang.Iterable<? extends xla.Hlo.HloOrderingProto.SequentialComputation> values) {
        if (sequentialComputationsBuilder_ == null) {
          ensureSequentialComputationsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, sequentialComputations_);
          onChanged();
        } else {
          sequentialComputationsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder clearSequentialComputations() {
        if (sequentialComputationsBuilder_ == null) {
          sequentialComputations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
          onChanged();
        } else {
          sequentialComputationsBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public Builder removeSequentialComputations(int index) {
        if (sequentialComputationsBuilder_ == null) {
          ensureSequentialComputationsIsMutable();
          sequentialComputations_.remove(index);
          onChanged();
        } else {
          sequentialComputationsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public xla.Hlo.HloOrderingProto.SequentialComputation.Builder getSequentialComputationsBuilder(
          int index) {
        return getSequentialComputationsFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder getSequentialComputationsOrBuilder(
          int index) {
        if (sequentialComputationsBuilder_ == null) {
          return sequentialComputations_.get(index);  } else {
          return sequentialComputationsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public java.util.List<? extends xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder> 
           getSequentialComputationsOrBuilderList() {
        if (sequentialComputationsBuilder_ != null) {
          return sequentialComputationsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(sequentialComputations_);
        }
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public xla.Hlo.HloOrderingProto.SequentialComputation.Builder addSequentialComputationsBuilder() {
        return getSequentialComputationsFieldBuilder().addBuilder(
            xla.Hlo.HloOrderingProto.SequentialComputation.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public xla.Hlo.HloOrderingProto.SequentialComputation.Builder addSequentialComputationsBuilder(
          int index) {
        return getSequentialComputationsFieldBuilder().addBuilder(
            index, xla.Hlo.HloOrderingProto.SequentialComputation.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;</code>
       */
      public java.util.List<xla.Hlo.HloOrderingProto.SequentialComputation.Builder> 
           getSequentialComputationsBuilderList() {
        return getSequentialComputationsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HloOrderingProto.SequentialComputation, xla.Hlo.HloOrderingProto.SequentialComputation.Builder, xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder> 
          getSequentialComputationsFieldBuilder() {
        if (sequentialComputationsBuilder_ == null) {
          sequentialComputationsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HloOrderingProto.SequentialComputation, xla.Hlo.HloOrderingProto.SequentialComputation.Builder, xla.Hlo.HloOrderingProto.SequentialComputationOrBuilder>(
                  sequentialComputations_,
                  ((bitField0_ & 0x00000001) == 0x00000001),
                  getParentForChildren(),
                  isClean());
          sequentialComputations_ = null;
        }
        return sequentialComputationsBuilder_;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HloOrderingProto)
    }

    // @@protoc_insertion_point(class_scope:xla.HloOrderingProto)
    private static final xla.Hlo.HloOrderingProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HloOrderingProto();
    }

    public static xla.Hlo.HloOrderingProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HloOrderingProto>
        PARSER = new com.google.protobuf.AbstractParser<HloOrderingProto>() {
      public HloOrderingProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HloOrderingProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HloOrderingProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HloOrderingProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HloOrderingProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface LogicalBufferProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.LogicalBufferProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>int64 id = 1;</code>
     */
    long getId();

    /**
     * <code>int64 size = 2;</code>
     */
    long getSize();

    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    boolean hasDefinedAt();
    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    xla.Hlo.LogicalBufferProto.Location getDefinedAt();
    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    xla.Hlo.LogicalBufferProto.LocationOrBuilder getDefinedAtOrBuilder();

    /**
     * <code>int64 color = 4;</code>
     */
    long getColor();
  }
  /**
   * <pre>
   * Serialization of LogicalBuffer.
   * </pre>
   *
   * Protobuf type {@code xla.LogicalBufferProto}
   */
  public  static final class LogicalBufferProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.LogicalBufferProto)
      LogicalBufferProtoOrBuilder {
    // Use LogicalBufferProto.newBuilder() to construct.
    private LogicalBufferProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private LogicalBufferProto() {
      id_ = 0L;
      size_ = 0L;
      color_ = 0L;
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private LogicalBufferProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 8: {

              id_ = input.readInt64();
              break;
            }
            case 16: {

              size_ = input.readInt64();
              break;
            }
            case 26: {
              xla.Hlo.LogicalBufferProto.Location.Builder subBuilder = null;
              if (definedAt_ != null) {
                subBuilder = definedAt_.toBuilder();
              }
              definedAt_ = input.readMessage(xla.Hlo.LogicalBufferProto.Location.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(definedAt_);
                definedAt_ = subBuilder.buildPartial();
              }

              break;
            }
            case 32: {

              color_ = input.readInt64();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_LogicalBufferProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_LogicalBufferProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.LogicalBufferProto.class, xla.Hlo.LogicalBufferProto.Builder.class);
    }

    public interface LocationOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.LogicalBufferProto.Location)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <pre>
       * NOTE: module_name isn't necessary, since all LogicalBuffers are
       * associated with a single HloModule.
       * </pre>
       *
       * <code>string computation_name = 1;</code>
       */
      java.lang.String getComputationName();
      /**
       * <pre>
       * NOTE: module_name isn't necessary, since all LogicalBuffers are
       * associated with a single HloModule.
       * </pre>
       *
       * <code>string computation_name = 1;</code>
       */
      com.google.protobuf.ByteString
          getComputationNameBytes();

      /**
       * <code>string instruction_name = 2;</code>
       */
      java.lang.String getInstructionName();
      /**
       * <code>string instruction_name = 2;</code>
       */
      com.google.protobuf.ByteString
          getInstructionNameBytes();

      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      java.util.List<java.lang.Long> getShapeIndexList();
      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      int getShapeIndexCount();
      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      long getShapeIndex(int index);
    }
    /**
     * <pre>
     * Location represents an instruction and its shape index, which uniquely
     * identifies a point where a buffer is needed.
     * </pre>
     *
     * Protobuf type {@code xla.LogicalBufferProto.Location}
     */
    public  static final class Location extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.LogicalBufferProto.Location)
        LocationOrBuilder {
      // Use Location.newBuilder() to construct.
      private Location(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private Location() {
        computationName_ = "";
        instructionName_ = "";
        shapeIndex_ = java.util.Collections.emptyList();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private Location(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                java.lang.String s = input.readStringRequireUtf8();

                computationName_ = s;
                break;
              }
              case 18: {
                java.lang.String s = input.readStringRequireUtf8();

                instructionName_ = s;
                break;
              }
              case 24: {
                if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                  shapeIndex_ = new java.util.ArrayList<java.lang.Long>();
                  mutable_bitField0_ |= 0x00000004;
                }
                shapeIndex_.add(input.readInt64());
                break;
              }
              case 26: {
                int length = input.readRawVarint32();
                int limit = input.pushLimit(length);
                if (!((mutable_bitField0_ & 0x00000004) == 0x00000004) && input.getBytesUntilLimit() > 0) {
                  shapeIndex_ = new java.util.ArrayList<java.lang.Long>();
                  mutable_bitField0_ |= 0x00000004;
                }
                while (input.getBytesUntilLimit() > 0) {
                  shapeIndex_.add(input.readInt64());
                }
                input.popLimit(limit);
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
            shapeIndex_ = java.util.Collections.unmodifiableList(shapeIndex_);
          }
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_LogicalBufferProto_Location_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_LogicalBufferProto_Location_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.LogicalBufferProto.Location.class, xla.Hlo.LogicalBufferProto.Location.Builder.class);
      }

      private int bitField0_;
      public static final int COMPUTATION_NAME_FIELD_NUMBER = 1;
      private volatile java.lang.Object computationName_;
      /**
       * <pre>
       * NOTE: module_name isn't necessary, since all LogicalBuffers are
       * associated with a single HloModule.
       * </pre>
       *
       * <code>string computation_name = 1;</code>
       */
      public java.lang.String getComputationName() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          computationName_ = s;
          return s;
        }
      }
      /**
       * <pre>
       * NOTE: module_name isn't necessary, since all LogicalBuffers are
       * associated with a single HloModule.
       * </pre>
       *
       * <code>string computation_name = 1;</code>
       */
      public com.google.protobuf.ByteString
          getComputationNameBytes() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          computationName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      public static final int INSTRUCTION_NAME_FIELD_NUMBER = 2;
      private volatile java.lang.Object instructionName_;
      /**
       * <code>string instruction_name = 2;</code>
       */
      public java.lang.String getInstructionName() {
        java.lang.Object ref = instructionName_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          instructionName_ = s;
          return s;
        }
      }
      /**
       * <code>string instruction_name = 2;</code>
       */
      public com.google.protobuf.ByteString
          getInstructionNameBytes() {
        java.lang.Object ref = instructionName_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          instructionName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      public static final int SHAPE_INDEX_FIELD_NUMBER = 3;
      private java.util.List<java.lang.Long> shapeIndex_;
      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      public java.util.List<java.lang.Long>
          getShapeIndexList() {
        return shapeIndex_;
      }
      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      public int getShapeIndexCount() {
        return shapeIndex_.size();
      }
      /**
       * <code>repeated int64 shape_index = 3;</code>
       */
      public long getShapeIndex(int index) {
        return shapeIndex_.get(index);
      }
      private int shapeIndexMemoizedSerializedSize = -1;

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (!getComputationNameBytes().isEmpty()) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 1, computationName_);
        }
        if (!getInstructionNameBytes().isEmpty()) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 2, instructionName_);
        }
        if (getShapeIndexList().size() > 0) {
          output.writeUInt32NoTag(26);
          output.writeUInt32NoTag(shapeIndexMemoizedSerializedSize);
        }
        for (int i = 0; i < shapeIndex_.size(); i++) {
          output.writeInt64NoTag(shapeIndex_.get(i));
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (!getComputationNameBytes().isEmpty()) {
          size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, computationName_);
        }
        if (!getInstructionNameBytes().isEmpty()) {
          size += com.google.protobuf.GeneratedMessageV3.computeStringSize(2, instructionName_);
        }
        {
          int dataSize = 0;
          for (int i = 0; i < shapeIndex_.size(); i++) {
            dataSize += com.google.protobuf.CodedOutputStream
              .computeInt64SizeNoTag(shapeIndex_.get(i));
          }
          size += dataSize;
          if (!getShapeIndexList().isEmpty()) {
            size += 1;
            size += com.google.protobuf.CodedOutputStream
                .computeInt32SizeNoTag(dataSize);
          }
          shapeIndexMemoizedSerializedSize = dataSize;
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.LogicalBufferProto.Location)) {
          return super.equals(obj);
        }
        xla.Hlo.LogicalBufferProto.Location other = (xla.Hlo.LogicalBufferProto.Location) obj;

        boolean result = true;
        result = result && getComputationName()
            .equals(other.getComputationName());
        result = result && getInstructionName()
            .equals(other.getInstructionName());
        result = result && getShapeIndexList()
            .equals(other.getShapeIndexList());
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + COMPUTATION_NAME_FIELD_NUMBER;
        hash = (53 * hash) + getComputationName().hashCode();
        hash = (37 * hash) + INSTRUCTION_NAME_FIELD_NUMBER;
        hash = (53 * hash) + getInstructionName().hashCode();
        if (getShapeIndexCount() > 0) {
          hash = (37 * hash) + SHAPE_INDEX_FIELD_NUMBER;
          hash = (53 * hash) + getShapeIndexList().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.LogicalBufferProto.Location parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.LogicalBufferProto.Location prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * Location represents an instruction and its shape index, which uniquely
       * identifies a point where a buffer is needed.
       * </pre>
       *
       * Protobuf type {@code xla.LogicalBufferProto.Location}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.LogicalBufferProto.Location)
          xla.Hlo.LogicalBufferProto.LocationOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_LogicalBufferProto_Location_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_LogicalBufferProto_Location_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.LogicalBufferProto.Location.class, xla.Hlo.LogicalBufferProto.Location.Builder.class);
        }

        // Construct using xla.Hlo.LogicalBufferProto.Location.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          computationName_ = "";

          instructionName_ = "";

          shapeIndex_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_LogicalBufferProto_Location_descriptor;
        }

        public xla.Hlo.LogicalBufferProto.Location getDefaultInstanceForType() {
          return xla.Hlo.LogicalBufferProto.Location.getDefaultInstance();
        }

        public xla.Hlo.LogicalBufferProto.Location build() {
          xla.Hlo.LogicalBufferProto.Location result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.LogicalBufferProto.Location buildPartial() {
          xla.Hlo.LogicalBufferProto.Location result = new xla.Hlo.LogicalBufferProto.Location(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          result.computationName_ = computationName_;
          result.instructionName_ = instructionName_;
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            shapeIndex_ = java.util.Collections.unmodifiableList(shapeIndex_);
            bitField0_ = (bitField0_ & ~0x00000004);
          }
          result.shapeIndex_ = shapeIndex_;
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.LogicalBufferProto.Location) {
            return mergeFrom((xla.Hlo.LogicalBufferProto.Location)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.LogicalBufferProto.Location other) {
          if (other == xla.Hlo.LogicalBufferProto.Location.getDefaultInstance()) return this;
          if (!other.getComputationName().isEmpty()) {
            computationName_ = other.computationName_;
            onChanged();
          }
          if (!other.getInstructionName().isEmpty()) {
            instructionName_ = other.instructionName_;
            onChanged();
          }
          if (!other.shapeIndex_.isEmpty()) {
            if (shapeIndex_.isEmpty()) {
              shapeIndex_ = other.shapeIndex_;
              bitField0_ = (bitField0_ & ~0x00000004);
            } else {
              ensureShapeIndexIsMutable();
              shapeIndex_.addAll(other.shapeIndex_);
            }
            onChanged();
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.LogicalBufferProto.Location parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.LogicalBufferProto.Location) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        private java.lang.Object computationName_ = "";
        /**
         * <pre>
         * NOTE: module_name isn't necessary, since all LogicalBuffers are
         * associated with a single HloModule.
         * </pre>
         *
         * <code>string computation_name = 1;</code>
         */
        public java.lang.String getComputationName() {
          java.lang.Object ref = computationName_;
          if (!(ref instanceof java.lang.String)) {
            com.google.protobuf.ByteString bs =
                (com.google.protobuf.ByteString) ref;
            java.lang.String s = bs.toStringUtf8();
            computationName_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <pre>
         * NOTE: module_name isn't necessary, since all LogicalBuffers are
         * associated with a single HloModule.
         * </pre>
         *
         * <code>string computation_name = 1;</code>
         */
        public com.google.protobuf.ByteString
            getComputationNameBytes() {
          java.lang.Object ref = computationName_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            computationName_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <pre>
         * NOTE: module_name isn't necessary, since all LogicalBuffers are
         * associated with a single HloModule.
         * </pre>
         *
         * <code>string computation_name = 1;</code>
         */
        public Builder setComputationName(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  
          computationName_ = value;
          onChanged();
          return this;
        }
        /**
         * <pre>
         * NOTE: module_name isn't necessary, since all LogicalBuffers are
         * associated with a single HloModule.
         * </pre>
         *
         * <code>string computation_name = 1;</code>
         */
        public Builder clearComputationName() {
          
          computationName_ = getDefaultInstance().getComputationName();
          onChanged();
          return this;
        }
        /**
         * <pre>
         * NOTE: module_name isn't necessary, since all LogicalBuffers are
         * associated with a single HloModule.
         * </pre>
         *
         * <code>string computation_name = 1;</code>
         */
        public Builder setComputationNameBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          
          computationName_ = value;
          onChanged();
          return this;
        }

        private java.lang.Object instructionName_ = "";
        /**
         * <code>string instruction_name = 2;</code>
         */
        public java.lang.String getInstructionName() {
          java.lang.Object ref = instructionName_;
          if (!(ref instanceof java.lang.String)) {
            com.google.protobuf.ByteString bs =
                (com.google.protobuf.ByteString) ref;
            java.lang.String s = bs.toStringUtf8();
            instructionName_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <code>string instruction_name = 2;</code>
         */
        public com.google.protobuf.ByteString
            getInstructionNameBytes() {
          java.lang.Object ref = instructionName_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            instructionName_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <code>string instruction_name = 2;</code>
         */
        public Builder setInstructionName(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  
          instructionName_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>string instruction_name = 2;</code>
         */
        public Builder clearInstructionName() {
          
          instructionName_ = getDefaultInstance().getInstructionName();
          onChanged();
          return this;
        }
        /**
         * <code>string instruction_name = 2;</code>
         */
        public Builder setInstructionNameBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          
          instructionName_ = value;
          onChanged();
          return this;
        }

        private java.util.List<java.lang.Long> shapeIndex_ = java.util.Collections.emptyList();
        private void ensureShapeIndexIsMutable() {
          if (!((bitField0_ & 0x00000004) == 0x00000004)) {
            shapeIndex_ = new java.util.ArrayList<java.lang.Long>(shapeIndex_);
            bitField0_ |= 0x00000004;
           }
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public java.util.List<java.lang.Long>
            getShapeIndexList() {
          return java.util.Collections.unmodifiableList(shapeIndex_);
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public int getShapeIndexCount() {
          return shapeIndex_.size();
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public long getShapeIndex(int index) {
          return shapeIndex_.get(index);
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public Builder setShapeIndex(
            int index, long value) {
          ensureShapeIndexIsMutable();
          shapeIndex_.set(index, value);
          onChanged();
          return this;
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public Builder addShapeIndex(long value) {
          ensureShapeIndexIsMutable();
          shapeIndex_.add(value);
          onChanged();
          return this;
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public Builder addAllShapeIndex(
            java.lang.Iterable<? extends java.lang.Long> values) {
          ensureShapeIndexIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, shapeIndex_);
          onChanged();
          return this;
        }
        /**
         * <code>repeated int64 shape_index = 3;</code>
         */
        public Builder clearShapeIndex() {
          shapeIndex_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          onChanged();
          return this;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.LogicalBufferProto.Location)
      }

      // @@protoc_insertion_point(class_scope:xla.LogicalBufferProto.Location)
      private static final xla.Hlo.LogicalBufferProto.Location DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.LogicalBufferProto.Location();
      }

      public static xla.Hlo.LogicalBufferProto.Location getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<Location>
          PARSER = new com.google.protobuf.AbstractParser<Location>() {
        public Location parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new Location(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<Location> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<Location> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.LogicalBufferProto.Location getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public static final int ID_FIELD_NUMBER = 1;
    private long id_;
    /**
     * <code>int64 id = 1;</code>
     */
    public long getId() {
      return id_;
    }

    public static final int SIZE_FIELD_NUMBER = 2;
    private long size_;
    /**
     * <code>int64 size = 2;</code>
     */
    public long getSize() {
      return size_;
    }

    public static final int DEFINED_AT_FIELD_NUMBER = 3;
    private xla.Hlo.LogicalBufferProto.Location definedAt_;
    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    public boolean hasDefinedAt() {
      return definedAt_ != null;
    }
    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    public xla.Hlo.LogicalBufferProto.Location getDefinedAt() {
      return definedAt_ == null ? xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : definedAt_;
    }
    /**
     * <pre>
     * The location where the buffer is defined.
     * </pre>
     *
     * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
     */
    public xla.Hlo.LogicalBufferProto.LocationOrBuilder getDefinedAtOrBuilder() {
      return getDefinedAt();
    }

    public static final int COLOR_FIELD_NUMBER = 4;
    private long color_;
    /**
     * <code>int64 color = 4;</code>
     */
    public long getColor() {
      return color_;
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (id_ != 0L) {
        output.writeInt64(1, id_);
      }
      if (size_ != 0L) {
        output.writeInt64(2, size_);
      }
      if (definedAt_ != null) {
        output.writeMessage(3, getDefinedAt());
      }
      if (color_ != 0L) {
        output.writeInt64(4, color_);
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (id_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(1, id_);
      }
      if (size_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(2, size_);
      }
      if (definedAt_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, getDefinedAt());
      }
      if (color_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(4, color_);
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.LogicalBufferProto)) {
        return super.equals(obj);
      }
      xla.Hlo.LogicalBufferProto other = (xla.Hlo.LogicalBufferProto) obj;

      boolean result = true;
      result = result && (getId()
          == other.getId());
      result = result && (getSize()
          == other.getSize());
      result = result && (hasDefinedAt() == other.hasDefinedAt());
      if (hasDefinedAt()) {
        result = result && getDefinedAt()
            .equals(other.getDefinedAt());
      }
      result = result && (getColor()
          == other.getColor());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + ID_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getId());
      hash = (37 * hash) + SIZE_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getSize());
      if (hasDefinedAt()) {
        hash = (37 * hash) + DEFINED_AT_FIELD_NUMBER;
        hash = (53 * hash) + getDefinedAt().hashCode();
      }
      hash = (37 * hash) + COLOR_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getColor());
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.LogicalBufferProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.LogicalBufferProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.LogicalBufferProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.LogicalBufferProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.LogicalBufferProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of LogicalBuffer.
     * </pre>
     *
     * Protobuf type {@code xla.LogicalBufferProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.LogicalBufferProto)
        xla.Hlo.LogicalBufferProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_LogicalBufferProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_LogicalBufferProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.LogicalBufferProto.class, xla.Hlo.LogicalBufferProto.Builder.class);
      }

      // Construct using xla.Hlo.LogicalBufferProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
        }
      }
      public Builder clear() {
        super.clear();
        id_ = 0L;

        size_ = 0L;

        if (definedAtBuilder_ == null) {
          definedAt_ = null;
        } else {
          definedAt_ = null;
          definedAtBuilder_ = null;
        }
        color_ = 0L;

        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_LogicalBufferProto_descriptor;
      }

      public xla.Hlo.LogicalBufferProto getDefaultInstanceForType() {
        return xla.Hlo.LogicalBufferProto.getDefaultInstance();
      }

      public xla.Hlo.LogicalBufferProto build() {
        xla.Hlo.LogicalBufferProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.LogicalBufferProto buildPartial() {
        xla.Hlo.LogicalBufferProto result = new xla.Hlo.LogicalBufferProto(this);
        result.id_ = id_;
        result.size_ = size_;
        if (definedAtBuilder_ == null) {
          result.definedAt_ = definedAt_;
        } else {
          result.definedAt_ = definedAtBuilder_.build();
        }
        result.color_ = color_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.LogicalBufferProto) {
          return mergeFrom((xla.Hlo.LogicalBufferProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.LogicalBufferProto other) {
        if (other == xla.Hlo.LogicalBufferProto.getDefaultInstance()) return this;
        if (other.getId() != 0L) {
          setId(other.getId());
        }
        if (other.getSize() != 0L) {
          setSize(other.getSize());
        }
        if (other.hasDefinedAt()) {
          mergeDefinedAt(other.getDefinedAt());
        }
        if (other.getColor() != 0L) {
          setColor(other.getColor());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.LogicalBufferProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.LogicalBufferProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }

      private long id_ ;
      /**
       * <code>int64 id = 1;</code>
       */
      public long getId() {
        return id_;
      }
      /**
       * <code>int64 id = 1;</code>
       */
      public Builder setId(long value) {
        
        id_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 id = 1;</code>
       */
      public Builder clearId() {
        
        id_ = 0L;
        onChanged();
        return this;
      }

      private long size_ ;
      /**
       * <code>int64 size = 2;</code>
       */
      public long getSize() {
        return size_;
      }
      /**
       * <code>int64 size = 2;</code>
       */
      public Builder setSize(long value) {
        
        size_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 size = 2;</code>
       */
      public Builder clearSize() {
        
        size_ = 0L;
        onChanged();
        return this;
      }

      private xla.Hlo.LogicalBufferProto.Location definedAt_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder> definedAtBuilder_;
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public boolean hasDefinedAt() {
        return definedAtBuilder_ != null || definedAt_ != null;
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public xla.Hlo.LogicalBufferProto.Location getDefinedAt() {
        if (definedAtBuilder_ == null) {
          return definedAt_ == null ? xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : definedAt_;
        } else {
          return definedAtBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public Builder setDefinedAt(xla.Hlo.LogicalBufferProto.Location value) {
        if (definedAtBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          definedAt_ = value;
          onChanged();
        } else {
          definedAtBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public Builder setDefinedAt(
          xla.Hlo.LogicalBufferProto.Location.Builder builderForValue) {
        if (definedAtBuilder_ == null) {
          definedAt_ = builderForValue.build();
          onChanged();
        } else {
          definedAtBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public Builder mergeDefinedAt(xla.Hlo.LogicalBufferProto.Location value) {
        if (definedAtBuilder_ == null) {
          if (definedAt_ != null) {
            definedAt_ =
              xla.Hlo.LogicalBufferProto.Location.newBuilder(definedAt_).mergeFrom(value).buildPartial();
          } else {
            definedAt_ = value;
          }
          onChanged();
        } else {
          definedAtBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public Builder clearDefinedAt() {
        if (definedAtBuilder_ == null) {
          definedAt_ = null;
          onChanged();
        } else {
          definedAt_ = null;
          definedAtBuilder_ = null;
        }

        return this;
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public xla.Hlo.LogicalBufferProto.Location.Builder getDefinedAtBuilder() {
        
        onChanged();
        return getDefinedAtFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      public xla.Hlo.LogicalBufferProto.LocationOrBuilder getDefinedAtOrBuilder() {
        if (definedAtBuilder_ != null) {
          return definedAtBuilder_.getMessageOrBuilder();
        } else {
          return definedAt_ == null ?
              xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : definedAt_;
        }
      }
      /**
       * <pre>
       * The location where the buffer is defined.
       * </pre>
       *
       * <code>.xla.LogicalBufferProto.Location defined_at = 3;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder> 
          getDefinedAtFieldBuilder() {
        if (definedAtBuilder_ == null) {
          definedAtBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder>(
                  getDefinedAt(),
                  getParentForChildren(),
                  isClean());
          definedAt_ = null;
        }
        return definedAtBuilder_;
      }

      private long color_ ;
      /**
       * <code>int64 color = 4;</code>
       */
      public long getColor() {
        return color_;
      }
      /**
       * <code>int64 color = 4;</code>
       */
      public Builder setColor(long value) {
        
        color_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 color = 4;</code>
       */
      public Builder clearColor() {
        
        color_ = 0L;
        onChanged();
        return this;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.LogicalBufferProto)
    }

    // @@protoc_insertion_point(class_scope:xla.LogicalBufferProto)
    private static final xla.Hlo.LogicalBufferProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.LogicalBufferProto();
    }

    public static xla.Hlo.LogicalBufferProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<LogicalBufferProto>
        PARSER = new com.google.protobuf.AbstractParser<LogicalBufferProto>() {
      public LogicalBufferProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new LogicalBufferProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<LogicalBufferProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<LogicalBufferProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.LogicalBufferProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface BufferAllocationProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.BufferAllocationProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>int64 index = 1;</code>
     */
    long getIndex();

    /**
     * <code>int64 size = 2;</code>
     */
    long getSize();

    /**
     * <code>bool is_thread_local = 3;</code>
     */
    boolean getIsThreadLocal();

    /**
     * <code>bool is_reusable = 4;</code>
     */
    boolean getIsReusable();

    /**
     * <code>bool is_entry_computation_parameter = 5;</code>
     */
    boolean getIsEntryComputationParameter();

    /**
     * <code>int64 parameter_number = 6;</code>
     */
    long getParameterNumber();

    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    java.util.List<java.lang.Long> getParameterShapeIndexList();
    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    int getParameterShapeIndexCount();
    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    long getParameterShapeIndex(int index);

    /**
     * <code>bool maybe_live_out = 7;</code>
     */
    boolean getMaybeLiveOut();

    /**
     * <code>int64 color = 8;</code>
     */
    long getColor();

    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    java.util.List<xla.Hlo.BufferAllocationProto.Assigned> 
        getAssignedList();
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    xla.Hlo.BufferAllocationProto.Assigned getAssigned(int index);
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    int getAssignedCount();
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    java.util.List<? extends xla.Hlo.BufferAllocationProto.AssignedOrBuilder> 
        getAssignedOrBuilderList();
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    xla.Hlo.BufferAllocationProto.AssignedOrBuilder getAssignedOrBuilder(
        int index);
  }
  /**
   * <pre>
   * Serialization of BufferAllocation.
   * </pre>
   *
   * Protobuf type {@code xla.BufferAllocationProto}
   */
  public  static final class BufferAllocationProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.BufferAllocationProto)
      BufferAllocationProtoOrBuilder {
    // Use BufferAllocationProto.newBuilder() to construct.
    private BufferAllocationProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private BufferAllocationProto() {
      index_ = 0L;
      size_ = 0L;
      isThreadLocal_ = false;
      isReusable_ = false;
      isEntryComputationParameter_ = false;
      parameterNumber_ = 0L;
      parameterShapeIndex_ = java.util.Collections.emptyList();
      maybeLiveOut_ = false;
      color_ = 0L;
      assigned_ = java.util.Collections.emptyList();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private BufferAllocationProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 8: {

              index_ = input.readInt64();
              break;
            }
            case 16: {

              size_ = input.readInt64();
              break;
            }
            case 24: {

              isThreadLocal_ = input.readBool();
              break;
            }
            case 32: {

              isReusable_ = input.readBool();
              break;
            }
            case 40: {

              isEntryComputationParameter_ = input.readBool();
              break;
            }
            case 48: {

              parameterNumber_ = input.readInt64();
              break;
            }
            case 56: {

              maybeLiveOut_ = input.readBool();
              break;
            }
            case 64: {

              color_ = input.readInt64();
              break;
            }
            case 74: {
              if (!((mutable_bitField0_ & 0x00000200) == 0x00000200)) {
                assigned_ = new java.util.ArrayList<xla.Hlo.BufferAllocationProto.Assigned>();
                mutable_bitField0_ |= 0x00000200;
              }
              assigned_.add(
                  input.readMessage(xla.Hlo.BufferAllocationProto.Assigned.parser(), extensionRegistry));
              break;
            }
            case 80: {
              if (!((mutable_bitField0_ & 0x00000040) == 0x00000040)) {
                parameterShapeIndex_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00000040;
              }
              parameterShapeIndex_.add(input.readInt64());
              break;
            }
            case 82: {
              int length = input.readRawVarint32();
              int limit = input.pushLimit(length);
              if (!((mutable_bitField0_ & 0x00000040) == 0x00000040) && input.getBytesUntilLimit() > 0) {
                parameterShapeIndex_ = new java.util.ArrayList<java.lang.Long>();
                mutable_bitField0_ |= 0x00000040;
              }
              while (input.getBytesUntilLimit() > 0) {
                parameterShapeIndex_.add(input.readInt64());
              }
              input.popLimit(limit);
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000200) == 0x00000200)) {
          assigned_ = java.util.Collections.unmodifiableList(assigned_);
        }
        if (((mutable_bitField0_ & 0x00000040) == 0x00000040)) {
          parameterShapeIndex_ = java.util.Collections.unmodifiableList(parameterShapeIndex_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_BufferAllocationProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_BufferAllocationProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.BufferAllocationProto.class, xla.Hlo.BufferAllocationProto.Builder.class);
    }

    public interface AssignedOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.BufferAllocationProto.Assigned)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>int64 logical_buffer_id = 1;</code>
       */
      long getLogicalBufferId();

      /**
       * <code>int64 offset = 2;</code>
       */
      long getOffset();

      /**
       * <code>int64 size = 3;</code>
       */
      long getSize();
    }
    /**
     * <pre>
     * Assigned represents a single LogicalBuffer that is assigned to this
     * BufferAllocation.
     * </pre>
     *
     * Protobuf type {@code xla.BufferAllocationProto.Assigned}
     */
    public  static final class Assigned extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.BufferAllocationProto.Assigned)
        AssignedOrBuilder {
      // Use Assigned.newBuilder() to construct.
      private Assigned(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private Assigned() {
        logicalBufferId_ = 0L;
        offset_ = 0L;
        size_ = 0L;
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private Assigned(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 8: {

                logicalBufferId_ = input.readInt64();
                break;
              }
              case 16: {

                offset_ = input.readInt64();
                break;
              }
              case 24: {

                size_ = input.readInt64();
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_BufferAllocationProto_Assigned_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_BufferAllocationProto_Assigned_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.BufferAllocationProto.Assigned.class, xla.Hlo.BufferAllocationProto.Assigned.Builder.class);
      }

      public static final int LOGICAL_BUFFER_ID_FIELD_NUMBER = 1;
      private long logicalBufferId_;
      /**
       * <code>int64 logical_buffer_id = 1;</code>
       */
      public long getLogicalBufferId() {
        return logicalBufferId_;
      }

      public static final int OFFSET_FIELD_NUMBER = 2;
      private long offset_;
      /**
       * <code>int64 offset = 2;</code>
       */
      public long getOffset() {
        return offset_;
      }

      public static final int SIZE_FIELD_NUMBER = 3;
      private long size_;
      /**
       * <code>int64 size = 3;</code>
       */
      public long getSize() {
        return size_;
      }

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (logicalBufferId_ != 0L) {
          output.writeInt64(1, logicalBufferId_);
        }
        if (offset_ != 0L) {
          output.writeInt64(2, offset_);
        }
        if (size_ != 0L) {
          output.writeInt64(3, size_);
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (logicalBufferId_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(1, logicalBufferId_);
        }
        if (offset_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(2, offset_);
        }
        if (size_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(3, size_);
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.BufferAllocationProto.Assigned)) {
          return super.equals(obj);
        }
        xla.Hlo.BufferAllocationProto.Assigned other = (xla.Hlo.BufferAllocationProto.Assigned) obj;

        boolean result = true;
        result = result && (getLogicalBufferId()
            == other.getLogicalBufferId());
        result = result && (getOffset()
            == other.getOffset());
        result = result && (getSize()
            == other.getSize());
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + LOGICAL_BUFFER_ID_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getLogicalBufferId());
        hash = (37 * hash) + OFFSET_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getOffset());
        hash = (37 * hash) + SIZE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getSize());
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAllocationProto.Assigned parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.BufferAllocationProto.Assigned prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * Assigned represents a single LogicalBuffer that is assigned to this
       * BufferAllocation.
       * </pre>
       *
       * Protobuf type {@code xla.BufferAllocationProto.Assigned}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.BufferAllocationProto.Assigned)
          xla.Hlo.BufferAllocationProto.AssignedOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_BufferAllocationProto_Assigned_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_BufferAllocationProto_Assigned_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.BufferAllocationProto.Assigned.class, xla.Hlo.BufferAllocationProto.Assigned.Builder.class);
        }

        // Construct using xla.Hlo.BufferAllocationProto.Assigned.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          logicalBufferId_ = 0L;

          offset_ = 0L;

          size_ = 0L;

          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_BufferAllocationProto_Assigned_descriptor;
        }

        public xla.Hlo.BufferAllocationProto.Assigned getDefaultInstanceForType() {
          return xla.Hlo.BufferAllocationProto.Assigned.getDefaultInstance();
        }

        public xla.Hlo.BufferAllocationProto.Assigned build() {
          xla.Hlo.BufferAllocationProto.Assigned result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.BufferAllocationProto.Assigned buildPartial() {
          xla.Hlo.BufferAllocationProto.Assigned result = new xla.Hlo.BufferAllocationProto.Assigned(this);
          result.logicalBufferId_ = logicalBufferId_;
          result.offset_ = offset_;
          result.size_ = size_;
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.BufferAllocationProto.Assigned) {
            return mergeFrom((xla.Hlo.BufferAllocationProto.Assigned)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.BufferAllocationProto.Assigned other) {
          if (other == xla.Hlo.BufferAllocationProto.Assigned.getDefaultInstance()) return this;
          if (other.getLogicalBufferId() != 0L) {
            setLogicalBufferId(other.getLogicalBufferId());
          }
          if (other.getOffset() != 0L) {
            setOffset(other.getOffset());
          }
          if (other.getSize() != 0L) {
            setSize(other.getSize());
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.BufferAllocationProto.Assigned parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.BufferAllocationProto.Assigned) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private long logicalBufferId_ ;
        /**
         * <code>int64 logical_buffer_id = 1;</code>
         */
        public long getLogicalBufferId() {
          return logicalBufferId_;
        }
        /**
         * <code>int64 logical_buffer_id = 1;</code>
         */
        public Builder setLogicalBufferId(long value) {
          
          logicalBufferId_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 logical_buffer_id = 1;</code>
         */
        public Builder clearLogicalBufferId() {
          
          logicalBufferId_ = 0L;
          onChanged();
          return this;
        }

        private long offset_ ;
        /**
         * <code>int64 offset = 2;</code>
         */
        public long getOffset() {
          return offset_;
        }
        /**
         * <code>int64 offset = 2;</code>
         */
        public Builder setOffset(long value) {
          
          offset_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 offset = 2;</code>
         */
        public Builder clearOffset() {
          
          offset_ = 0L;
          onChanged();
          return this;
        }

        private long size_ ;
        /**
         * <code>int64 size = 3;</code>
         */
        public long getSize() {
          return size_;
        }
        /**
         * <code>int64 size = 3;</code>
         */
        public Builder setSize(long value) {
          
          size_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 size = 3;</code>
         */
        public Builder clearSize() {
          
          size_ = 0L;
          onChanged();
          return this;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.BufferAllocationProto.Assigned)
      }

      // @@protoc_insertion_point(class_scope:xla.BufferAllocationProto.Assigned)
      private static final xla.Hlo.BufferAllocationProto.Assigned DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.BufferAllocationProto.Assigned();
      }

      public static xla.Hlo.BufferAllocationProto.Assigned getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<Assigned>
          PARSER = new com.google.protobuf.AbstractParser<Assigned>() {
        public Assigned parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new Assigned(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<Assigned> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<Assigned> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.BufferAllocationProto.Assigned getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    private int bitField0_;
    public static final int INDEX_FIELD_NUMBER = 1;
    private long index_;
    /**
     * <code>int64 index = 1;</code>
     */
    public long getIndex() {
      return index_;
    }

    public static final int SIZE_FIELD_NUMBER = 2;
    private long size_;
    /**
     * <code>int64 size = 2;</code>
     */
    public long getSize() {
      return size_;
    }

    public static final int IS_THREAD_LOCAL_FIELD_NUMBER = 3;
    private boolean isThreadLocal_;
    /**
     * <code>bool is_thread_local = 3;</code>
     */
    public boolean getIsThreadLocal() {
      return isThreadLocal_;
    }

    public static final int IS_REUSABLE_FIELD_NUMBER = 4;
    private boolean isReusable_;
    /**
     * <code>bool is_reusable = 4;</code>
     */
    public boolean getIsReusable() {
      return isReusable_;
    }

    public static final int IS_ENTRY_COMPUTATION_PARAMETER_FIELD_NUMBER = 5;
    private boolean isEntryComputationParameter_;
    /**
     * <code>bool is_entry_computation_parameter = 5;</code>
     */
    public boolean getIsEntryComputationParameter() {
      return isEntryComputationParameter_;
    }

    public static final int PARAMETER_NUMBER_FIELD_NUMBER = 6;
    private long parameterNumber_;
    /**
     * <code>int64 parameter_number = 6;</code>
     */
    public long getParameterNumber() {
      return parameterNumber_;
    }

    public static final int PARAMETER_SHAPE_INDEX_FIELD_NUMBER = 10;
    private java.util.List<java.lang.Long> parameterShapeIndex_;
    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    public java.util.List<java.lang.Long>
        getParameterShapeIndexList() {
      return parameterShapeIndex_;
    }
    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    public int getParameterShapeIndexCount() {
      return parameterShapeIndex_.size();
    }
    /**
     * <code>repeated int64 parameter_shape_index = 10;</code>
     */
    public long getParameterShapeIndex(int index) {
      return parameterShapeIndex_.get(index);
    }
    private int parameterShapeIndexMemoizedSerializedSize = -1;

    public static final int MAYBE_LIVE_OUT_FIELD_NUMBER = 7;
    private boolean maybeLiveOut_;
    /**
     * <code>bool maybe_live_out = 7;</code>
     */
    public boolean getMaybeLiveOut() {
      return maybeLiveOut_;
    }

    public static final int COLOR_FIELD_NUMBER = 8;
    private long color_;
    /**
     * <code>int64 color = 8;</code>
     */
    public long getColor() {
      return color_;
    }

    public static final int ASSIGNED_FIELD_NUMBER = 9;
    private java.util.List<xla.Hlo.BufferAllocationProto.Assigned> assigned_;
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    public java.util.List<xla.Hlo.BufferAllocationProto.Assigned> getAssignedList() {
      return assigned_;
    }
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    public java.util.List<? extends xla.Hlo.BufferAllocationProto.AssignedOrBuilder> 
        getAssignedOrBuilderList() {
      return assigned_;
    }
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    public int getAssignedCount() {
      return assigned_.size();
    }
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    public xla.Hlo.BufferAllocationProto.Assigned getAssigned(int index) {
      return assigned_.get(index);
    }
    /**
     * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
     */
    public xla.Hlo.BufferAllocationProto.AssignedOrBuilder getAssignedOrBuilder(
        int index) {
      return assigned_.get(index);
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (index_ != 0L) {
        output.writeInt64(1, index_);
      }
      if (size_ != 0L) {
        output.writeInt64(2, size_);
      }
      if (isThreadLocal_ != false) {
        output.writeBool(3, isThreadLocal_);
      }
      if (isReusable_ != false) {
        output.writeBool(4, isReusable_);
      }
      if (isEntryComputationParameter_ != false) {
        output.writeBool(5, isEntryComputationParameter_);
      }
      if (parameterNumber_ != 0L) {
        output.writeInt64(6, parameterNumber_);
      }
      if (maybeLiveOut_ != false) {
        output.writeBool(7, maybeLiveOut_);
      }
      if (color_ != 0L) {
        output.writeInt64(8, color_);
      }
      for (int i = 0; i < assigned_.size(); i++) {
        output.writeMessage(9, assigned_.get(i));
      }
      if (getParameterShapeIndexList().size() > 0) {
        output.writeUInt32NoTag(82);
        output.writeUInt32NoTag(parameterShapeIndexMemoizedSerializedSize);
      }
      for (int i = 0; i < parameterShapeIndex_.size(); i++) {
        output.writeInt64NoTag(parameterShapeIndex_.get(i));
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (index_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(1, index_);
      }
      if (size_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(2, size_);
      }
      if (isThreadLocal_ != false) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(3, isThreadLocal_);
      }
      if (isReusable_ != false) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(4, isReusable_);
      }
      if (isEntryComputationParameter_ != false) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(5, isEntryComputationParameter_);
      }
      if (parameterNumber_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(6, parameterNumber_);
      }
      if (maybeLiveOut_ != false) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(7, maybeLiveOut_);
      }
      if (color_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(8, color_);
      }
      for (int i = 0; i < assigned_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(9, assigned_.get(i));
      }
      {
        int dataSize = 0;
        for (int i = 0; i < parameterShapeIndex_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeInt64SizeNoTag(parameterShapeIndex_.get(i));
        }
        size += dataSize;
        if (!getParameterShapeIndexList().isEmpty()) {
          size += 1;
          size += com.google.protobuf.CodedOutputStream
              .computeInt32SizeNoTag(dataSize);
        }
        parameterShapeIndexMemoizedSerializedSize = dataSize;
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.BufferAllocationProto)) {
        return super.equals(obj);
      }
      xla.Hlo.BufferAllocationProto other = (xla.Hlo.BufferAllocationProto) obj;

      boolean result = true;
      result = result && (getIndex()
          == other.getIndex());
      result = result && (getSize()
          == other.getSize());
      result = result && (getIsThreadLocal()
          == other.getIsThreadLocal());
      result = result && (getIsReusable()
          == other.getIsReusable());
      result = result && (getIsEntryComputationParameter()
          == other.getIsEntryComputationParameter());
      result = result && (getParameterNumber()
          == other.getParameterNumber());
      result = result && getParameterShapeIndexList()
          .equals(other.getParameterShapeIndexList());
      result = result && (getMaybeLiveOut()
          == other.getMaybeLiveOut());
      result = result && (getColor()
          == other.getColor());
      result = result && getAssignedList()
          .equals(other.getAssignedList());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + INDEX_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getIndex());
      hash = (37 * hash) + SIZE_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getSize());
      hash = (37 * hash) + IS_THREAD_LOCAL_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
          getIsThreadLocal());
      hash = (37 * hash) + IS_REUSABLE_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
          getIsReusable());
      hash = (37 * hash) + IS_ENTRY_COMPUTATION_PARAMETER_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
          getIsEntryComputationParameter());
      hash = (37 * hash) + PARAMETER_NUMBER_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getParameterNumber());
      if (getParameterShapeIndexCount() > 0) {
        hash = (37 * hash) + PARAMETER_SHAPE_INDEX_FIELD_NUMBER;
        hash = (53 * hash) + getParameterShapeIndexList().hashCode();
      }
      hash = (37 * hash) + MAYBE_LIVE_OUT_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
          getMaybeLiveOut());
      hash = (37 * hash) + COLOR_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getColor());
      if (getAssignedCount() > 0) {
        hash = (37 * hash) + ASSIGNED_FIELD_NUMBER;
        hash = (53 * hash) + getAssignedList().hashCode();
      }
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.BufferAllocationProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.BufferAllocationProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAllocationProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAllocationProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.BufferAllocationProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of BufferAllocation.
     * </pre>
     *
     * Protobuf type {@code xla.BufferAllocationProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.BufferAllocationProto)
        xla.Hlo.BufferAllocationProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_BufferAllocationProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_BufferAllocationProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.BufferAllocationProto.class, xla.Hlo.BufferAllocationProto.Builder.class);
      }

      // Construct using xla.Hlo.BufferAllocationProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getAssignedFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        index_ = 0L;

        size_ = 0L;

        isThreadLocal_ = false;

        isReusable_ = false;

        isEntryComputationParameter_ = false;

        parameterNumber_ = 0L;

        parameterShapeIndex_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00000040);
        maybeLiveOut_ = false;

        color_ = 0L;

        if (assignedBuilder_ == null) {
          assigned_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000200);
        } else {
          assignedBuilder_.clear();
        }
        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_BufferAllocationProto_descriptor;
      }

      public xla.Hlo.BufferAllocationProto getDefaultInstanceForType() {
        return xla.Hlo.BufferAllocationProto.getDefaultInstance();
      }

      public xla.Hlo.BufferAllocationProto build() {
        xla.Hlo.BufferAllocationProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.BufferAllocationProto buildPartial() {
        xla.Hlo.BufferAllocationProto result = new xla.Hlo.BufferAllocationProto(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        result.index_ = index_;
        result.size_ = size_;
        result.isThreadLocal_ = isThreadLocal_;
        result.isReusable_ = isReusable_;
        result.isEntryComputationParameter_ = isEntryComputationParameter_;
        result.parameterNumber_ = parameterNumber_;
        if (((bitField0_ & 0x00000040) == 0x00000040)) {
          parameterShapeIndex_ = java.util.Collections.unmodifiableList(parameterShapeIndex_);
          bitField0_ = (bitField0_ & ~0x00000040);
        }
        result.parameterShapeIndex_ = parameterShapeIndex_;
        result.maybeLiveOut_ = maybeLiveOut_;
        result.color_ = color_;
        if (assignedBuilder_ == null) {
          if (((bitField0_ & 0x00000200) == 0x00000200)) {
            assigned_ = java.util.Collections.unmodifiableList(assigned_);
            bitField0_ = (bitField0_ & ~0x00000200);
          }
          result.assigned_ = assigned_;
        } else {
          result.assigned_ = assignedBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.BufferAllocationProto) {
          return mergeFrom((xla.Hlo.BufferAllocationProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.BufferAllocationProto other) {
        if (other == xla.Hlo.BufferAllocationProto.getDefaultInstance()) return this;
        if (other.getIndex() != 0L) {
          setIndex(other.getIndex());
        }
        if (other.getSize() != 0L) {
          setSize(other.getSize());
        }
        if (other.getIsThreadLocal() != false) {
          setIsThreadLocal(other.getIsThreadLocal());
        }
        if (other.getIsReusable() != false) {
          setIsReusable(other.getIsReusable());
        }
        if (other.getIsEntryComputationParameter() != false) {
          setIsEntryComputationParameter(other.getIsEntryComputationParameter());
        }
        if (other.getParameterNumber() != 0L) {
          setParameterNumber(other.getParameterNumber());
        }
        if (!other.parameterShapeIndex_.isEmpty()) {
          if (parameterShapeIndex_.isEmpty()) {
            parameterShapeIndex_ = other.parameterShapeIndex_;
            bitField0_ = (bitField0_ & ~0x00000040);
          } else {
            ensureParameterShapeIndexIsMutable();
            parameterShapeIndex_.addAll(other.parameterShapeIndex_);
          }
          onChanged();
        }
        if (other.getMaybeLiveOut() != false) {
          setMaybeLiveOut(other.getMaybeLiveOut());
        }
        if (other.getColor() != 0L) {
          setColor(other.getColor());
        }
        if (assignedBuilder_ == null) {
          if (!other.assigned_.isEmpty()) {
            if (assigned_.isEmpty()) {
              assigned_ = other.assigned_;
              bitField0_ = (bitField0_ & ~0x00000200);
            } else {
              ensureAssignedIsMutable();
              assigned_.addAll(other.assigned_);
            }
            onChanged();
          }
        } else {
          if (!other.assigned_.isEmpty()) {
            if (assignedBuilder_.isEmpty()) {
              assignedBuilder_.dispose();
              assignedBuilder_ = null;
              assigned_ = other.assigned_;
              bitField0_ = (bitField0_ & ~0x00000200);
              assignedBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getAssignedFieldBuilder() : null;
            } else {
              assignedBuilder_.addAllMessages(other.assigned_);
            }
          }
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.BufferAllocationProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.BufferAllocationProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private long index_ ;
      /**
       * <code>int64 index = 1;</code>
       */
      public long getIndex() {
        return index_;
      }
      /**
       * <code>int64 index = 1;</code>
       */
      public Builder setIndex(long value) {
        
        index_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 index = 1;</code>
       */
      public Builder clearIndex() {
        
        index_ = 0L;
        onChanged();
        return this;
      }

      private long size_ ;
      /**
       * <code>int64 size = 2;</code>
       */
      public long getSize() {
        return size_;
      }
      /**
       * <code>int64 size = 2;</code>
       */
      public Builder setSize(long value) {
        
        size_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 size = 2;</code>
       */
      public Builder clearSize() {
        
        size_ = 0L;
        onChanged();
        return this;
      }

      private boolean isThreadLocal_ ;
      /**
       * <code>bool is_thread_local = 3;</code>
       */
      public boolean getIsThreadLocal() {
        return isThreadLocal_;
      }
      /**
       * <code>bool is_thread_local = 3;</code>
       */
      public Builder setIsThreadLocal(boolean value) {
        
        isThreadLocal_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>bool is_thread_local = 3;</code>
       */
      public Builder clearIsThreadLocal() {
        
        isThreadLocal_ = false;
        onChanged();
        return this;
      }

      private boolean isReusable_ ;
      /**
       * <code>bool is_reusable = 4;</code>
       */
      public boolean getIsReusable() {
        return isReusable_;
      }
      /**
       * <code>bool is_reusable = 4;</code>
       */
      public Builder setIsReusable(boolean value) {
        
        isReusable_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>bool is_reusable = 4;</code>
       */
      public Builder clearIsReusable() {
        
        isReusable_ = false;
        onChanged();
        return this;
      }

      private boolean isEntryComputationParameter_ ;
      /**
       * <code>bool is_entry_computation_parameter = 5;</code>
       */
      public boolean getIsEntryComputationParameter() {
        return isEntryComputationParameter_;
      }
      /**
       * <code>bool is_entry_computation_parameter = 5;</code>
       */
      public Builder setIsEntryComputationParameter(boolean value) {
        
        isEntryComputationParameter_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>bool is_entry_computation_parameter = 5;</code>
       */
      public Builder clearIsEntryComputationParameter() {
        
        isEntryComputationParameter_ = false;
        onChanged();
        return this;
      }

      private long parameterNumber_ ;
      /**
       * <code>int64 parameter_number = 6;</code>
       */
      public long getParameterNumber() {
        return parameterNumber_;
      }
      /**
       * <code>int64 parameter_number = 6;</code>
       */
      public Builder setParameterNumber(long value) {
        
        parameterNumber_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 parameter_number = 6;</code>
       */
      public Builder clearParameterNumber() {
        
        parameterNumber_ = 0L;
        onChanged();
        return this;
      }

      private java.util.List<java.lang.Long> parameterShapeIndex_ = java.util.Collections.emptyList();
      private void ensureParameterShapeIndexIsMutable() {
        if (!((bitField0_ & 0x00000040) == 0x00000040)) {
          parameterShapeIndex_ = new java.util.ArrayList<java.lang.Long>(parameterShapeIndex_);
          bitField0_ |= 0x00000040;
         }
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public java.util.List<java.lang.Long>
          getParameterShapeIndexList() {
        return java.util.Collections.unmodifiableList(parameterShapeIndex_);
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public int getParameterShapeIndexCount() {
        return parameterShapeIndex_.size();
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public long getParameterShapeIndex(int index) {
        return parameterShapeIndex_.get(index);
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public Builder setParameterShapeIndex(
          int index, long value) {
        ensureParameterShapeIndexIsMutable();
        parameterShapeIndex_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public Builder addParameterShapeIndex(long value) {
        ensureParameterShapeIndexIsMutable();
        parameterShapeIndex_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public Builder addAllParameterShapeIndex(
          java.lang.Iterable<? extends java.lang.Long> values) {
        ensureParameterShapeIndexIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, parameterShapeIndex_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated int64 parameter_shape_index = 10;</code>
       */
      public Builder clearParameterShapeIndex() {
        parameterShapeIndex_ = java.util.Collections.emptyList();
        bitField0_ = (bitField0_ & ~0x00000040);
        onChanged();
        return this;
      }

      private boolean maybeLiveOut_ ;
      /**
       * <code>bool maybe_live_out = 7;</code>
       */
      public boolean getMaybeLiveOut() {
        return maybeLiveOut_;
      }
      /**
       * <code>bool maybe_live_out = 7;</code>
       */
      public Builder setMaybeLiveOut(boolean value) {
        
        maybeLiveOut_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>bool maybe_live_out = 7;</code>
       */
      public Builder clearMaybeLiveOut() {
        
        maybeLiveOut_ = false;
        onChanged();
        return this;
      }

      private long color_ ;
      /**
       * <code>int64 color = 8;</code>
       */
      public long getColor() {
        return color_;
      }
      /**
       * <code>int64 color = 8;</code>
       */
      public Builder setColor(long value) {
        
        color_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>int64 color = 8;</code>
       */
      public Builder clearColor() {
        
        color_ = 0L;
        onChanged();
        return this;
      }

      private java.util.List<xla.Hlo.BufferAllocationProto.Assigned> assigned_ =
        java.util.Collections.emptyList();
      private void ensureAssignedIsMutable() {
        if (!((bitField0_ & 0x00000200) == 0x00000200)) {
          assigned_ = new java.util.ArrayList<xla.Hlo.BufferAllocationProto.Assigned>(assigned_);
          bitField0_ |= 0x00000200;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAllocationProto.Assigned, xla.Hlo.BufferAllocationProto.Assigned.Builder, xla.Hlo.BufferAllocationProto.AssignedOrBuilder> assignedBuilder_;

      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public java.util.List<xla.Hlo.BufferAllocationProto.Assigned> getAssignedList() {
        if (assignedBuilder_ == null) {
          return java.util.Collections.unmodifiableList(assigned_);
        } else {
          return assignedBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public int getAssignedCount() {
        if (assignedBuilder_ == null) {
          return assigned_.size();
        } else {
          return assignedBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public xla.Hlo.BufferAllocationProto.Assigned getAssigned(int index) {
        if (assignedBuilder_ == null) {
          return assigned_.get(index);
        } else {
          return assignedBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder setAssigned(
          int index, xla.Hlo.BufferAllocationProto.Assigned value) {
        if (assignedBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAssignedIsMutable();
          assigned_.set(index, value);
          onChanged();
        } else {
          assignedBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder setAssigned(
          int index, xla.Hlo.BufferAllocationProto.Assigned.Builder builderForValue) {
        if (assignedBuilder_ == null) {
          ensureAssignedIsMutable();
          assigned_.set(index, builderForValue.build());
          onChanged();
        } else {
          assignedBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder addAssigned(xla.Hlo.BufferAllocationProto.Assigned value) {
        if (assignedBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAssignedIsMutable();
          assigned_.add(value);
          onChanged();
        } else {
          assignedBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder addAssigned(
          int index, xla.Hlo.BufferAllocationProto.Assigned value) {
        if (assignedBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAssignedIsMutable();
          assigned_.add(index, value);
          onChanged();
        } else {
          assignedBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder addAssigned(
          xla.Hlo.BufferAllocationProto.Assigned.Builder builderForValue) {
        if (assignedBuilder_ == null) {
          ensureAssignedIsMutable();
          assigned_.add(builderForValue.build());
          onChanged();
        } else {
          assignedBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder addAssigned(
          int index, xla.Hlo.BufferAllocationProto.Assigned.Builder builderForValue) {
        if (assignedBuilder_ == null) {
          ensureAssignedIsMutable();
          assigned_.add(index, builderForValue.build());
          onChanged();
        } else {
          assignedBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder addAllAssigned(
          java.lang.Iterable<? extends xla.Hlo.BufferAllocationProto.Assigned> values) {
        if (assignedBuilder_ == null) {
          ensureAssignedIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, assigned_);
          onChanged();
        } else {
          assignedBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder clearAssigned() {
        if (assignedBuilder_ == null) {
          assigned_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000200);
          onChanged();
        } else {
          assignedBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public Builder removeAssigned(int index) {
        if (assignedBuilder_ == null) {
          ensureAssignedIsMutable();
          assigned_.remove(index);
          onChanged();
        } else {
          assignedBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public xla.Hlo.BufferAllocationProto.Assigned.Builder getAssignedBuilder(
          int index) {
        return getAssignedFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public xla.Hlo.BufferAllocationProto.AssignedOrBuilder getAssignedOrBuilder(
          int index) {
        if (assignedBuilder_ == null) {
          return assigned_.get(index);  } else {
          return assignedBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public java.util.List<? extends xla.Hlo.BufferAllocationProto.AssignedOrBuilder> 
           getAssignedOrBuilderList() {
        if (assignedBuilder_ != null) {
          return assignedBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(assigned_);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public xla.Hlo.BufferAllocationProto.Assigned.Builder addAssignedBuilder() {
        return getAssignedFieldBuilder().addBuilder(
            xla.Hlo.BufferAllocationProto.Assigned.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public xla.Hlo.BufferAllocationProto.Assigned.Builder addAssignedBuilder(
          int index) {
        return getAssignedFieldBuilder().addBuilder(
            index, xla.Hlo.BufferAllocationProto.Assigned.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAllocationProto.Assigned assigned = 9;</code>
       */
      public java.util.List<xla.Hlo.BufferAllocationProto.Assigned.Builder> 
           getAssignedBuilderList() {
        return getAssignedFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAllocationProto.Assigned, xla.Hlo.BufferAllocationProto.Assigned.Builder, xla.Hlo.BufferAllocationProto.AssignedOrBuilder> 
          getAssignedFieldBuilder() {
        if (assignedBuilder_ == null) {
          assignedBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.BufferAllocationProto.Assigned, xla.Hlo.BufferAllocationProto.Assigned.Builder, xla.Hlo.BufferAllocationProto.AssignedOrBuilder>(
                  assigned_,
                  ((bitField0_ & 0x00000200) == 0x00000200),
                  getParentForChildren(),
                  isClean());
          assigned_ = null;
        }
        return assignedBuilder_;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.BufferAllocationProto)
    }

    // @@protoc_insertion_point(class_scope:xla.BufferAllocationProto)
    private static final xla.Hlo.BufferAllocationProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.BufferAllocationProto();
    }

    public static xla.Hlo.BufferAllocationProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<BufferAllocationProto>
        PARSER = new com.google.protobuf.AbstractParser<BufferAllocationProto>() {
      public BufferAllocationProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new BufferAllocationProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<BufferAllocationProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<BufferAllocationProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.BufferAllocationProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface HeapSimulatorTraceOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HeapSimulatorTrace)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    java.util.List<xla.Hlo.HeapSimulatorTrace.Event> 
        getEventsList();
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    xla.Hlo.HeapSimulatorTrace.Event getEvents(int index);
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    int getEventsCount();
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    java.util.List<? extends xla.Hlo.HeapSimulatorTrace.EventOrBuilder> 
        getEventsOrBuilderList();
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    xla.Hlo.HeapSimulatorTrace.EventOrBuilder getEventsOrBuilder(
        int index);

    /**
     * <code>bool whole_module_simulation = 2;</code>
     */
    boolean getWholeModuleSimulation();
  }
  /**
   * <pre>
   * A trace of a HeapSimulator run.
   * </pre>
   *
   * Protobuf type {@code xla.HeapSimulatorTrace}
   */
  public  static final class HeapSimulatorTrace extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HeapSimulatorTrace)
      HeapSimulatorTraceOrBuilder {
    // Use HeapSimulatorTrace.newBuilder() to construct.
    private HeapSimulatorTrace(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HeapSimulatorTrace() {
      events_ = java.util.Collections.emptyList();
      wholeModuleSimulation_ = false;
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HeapSimulatorTrace(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              if (!((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
                events_ = new java.util.ArrayList<xla.Hlo.HeapSimulatorTrace.Event>();
                mutable_bitField0_ |= 0x00000001;
              }
              events_.add(
                  input.readMessage(xla.Hlo.HeapSimulatorTrace.Event.parser(), extensionRegistry));
              break;
            }
            case 16: {

              wholeModuleSimulation_ = input.readBool();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
          events_ = java.util.Collections.unmodifiableList(events_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HeapSimulatorTrace_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HeapSimulatorTrace_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HeapSimulatorTrace.class, xla.Hlo.HeapSimulatorTrace.Builder.class);
    }

    public interface EventOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.HeapSimulatorTrace.Event)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
       */
      int getKindValue();
      /**
       * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
       */
      xla.Hlo.HeapSimulatorTrace.Event.Kind getKind();

      /**
       * <pre>
       * The id of the LogicalBuffer that the event applies to.
       * </pre>
       *
       * <code>int64 buffer_id = 2;</code>
       */
      long getBufferId();

      /**
       * <pre>
       * The HloInstruction that the simulation was processing that caused this
       * event to occur, identified by its computation and instruction name. E.g.
       * buffers defined by instruction A are allocated when processing A.
       * </pre>
       *
       * <code>string computation_name = 3;</code>
       */
      java.lang.String getComputationName();
      /**
       * <pre>
       * The HloInstruction that the simulation was processing that caused this
       * event to occur, identified by its computation and instruction name. E.g.
       * buffers defined by instruction A are allocated when processing A.
       * </pre>
       *
       * <code>string computation_name = 3;</code>
       */
      com.google.protobuf.ByteString
          getComputationNameBytes();

      /**
       * <code>string instruction_name = 4;</code>
       */
      java.lang.String getInstructionName();
      /**
       * <code>string instruction_name = 4;</code>
       */
      com.google.protobuf.ByteString
          getInstructionNameBytes();

      /**
       * <pre>
       * The id of the canonical LogicalBuffer that the buffer shares with. Only
       * set for SHARE_WITH events.
       * </pre>
       *
       * <code>int64 share_with_canonical_id = 5;</code>
       */
      long getShareWithCanonicalId();
    }
    /**
     * <pre>
     * The trace includes a list of events, where each event describes one action
     * performed by the heap simulator.
     * </pre>
     *
     * Protobuf type {@code xla.HeapSimulatorTrace.Event}
     */
    public  static final class Event extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.HeapSimulatorTrace.Event)
        EventOrBuilder {
      // Use Event.newBuilder() to construct.
      private Event(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private Event() {
        kind_ = 0;
        bufferId_ = 0L;
        computationName_ = "";
        instructionName_ = "";
        shareWithCanonicalId_ = 0L;
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private Event(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 8: {
                int rawValue = input.readEnum();

                kind_ = rawValue;
                break;
              }
              case 16: {

                bufferId_ = input.readInt64();
                break;
              }
              case 26: {
                java.lang.String s = input.readStringRequireUtf8();

                computationName_ = s;
                break;
              }
              case 34: {
                java.lang.String s = input.readStringRequireUtf8();

                instructionName_ = s;
                break;
              }
              case 40: {

                shareWithCanonicalId_ = input.readInt64();
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HeapSimulatorTrace_Event_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HeapSimulatorTrace_Event_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HeapSimulatorTrace.Event.class, xla.Hlo.HeapSimulatorTrace.Event.Builder.class);
      }

      /**
       * Protobuf enum {@code xla.HeapSimulatorTrace.Event.Kind}
       */
      public enum Kind
          implements com.google.protobuf.ProtocolMessageEnum {
        /**
         * <pre>
         * A memory region was allocated for the buffer.
         * </pre>
         *
         * <code>ALLOC = 0;</code>
         */
        ALLOC(0),
        /**
         * <pre>
         * A memory region was freed for the buffer.
         * </pre>
         *
         * <code>FREE = 1;</code>
         */
        FREE(1),
        /**
         * <pre>
         * A buffer was shared with another (canonical) buffer. This is similar to
         * ALLOC, except that instead of allocating a new region of memory, the
         * memory region of the canonical buffer is directly re-used. Multiple
         * buffers may share with the same canonical buffer. The lifetime of the
         * canonical buffer is extended to the union of all lifetimes.
         * </pre>
         *
         * <code>SHARE_WITH = 2;</code>
         */
        SHARE_WITH(2),
        UNRECOGNIZED(-1),
        ;

        /**
         * <pre>
         * A memory region was allocated for the buffer.
         * </pre>
         *
         * <code>ALLOC = 0;</code>
         */
        public static final int ALLOC_VALUE = 0;
        /**
         * <pre>
         * A memory region was freed for the buffer.
         * </pre>
         *
         * <code>FREE = 1;</code>
         */
        public static final int FREE_VALUE = 1;
        /**
         * <pre>
         * A buffer was shared with another (canonical) buffer. This is similar to
         * ALLOC, except that instead of allocating a new region of memory, the
         * memory region of the canonical buffer is directly re-used. Multiple
         * buffers may share with the same canonical buffer. The lifetime of the
         * canonical buffer is extended to the union of all lifetimes.
         * </pre>
         *
         * <code>SHARE_WITH = 2;</code>
         */
        public static final int SHARE_WITH_VALUE = 2;


        public final int getNumber() {
          if (this == UNRECOGNIZED) {
            throw new java.lang.IllegalArgumentException(
                "Can't get the number of an unknown enum value.");
          }
          return value;
        }

        /**
         * @deprecated Use {@link #forNumber(int)} instead.
         */
        @java.lang.Deprecated
        public static Kind valueOf(int value) {
          return forNumber(value);
        }

        public static Kind forNumber(int value) {
          switch (value) {
            case 0: return ALLOC;
            case 1: return FREE;
            case 2: return SHARE_WITH;
            default: return null;
          }
        }

        public static com.google.protobuf.Internal.EnumLiteMap<Kind>
            internalGetValueMap() {
          return internalValueMap;
        }
        private static final com.google.protobuf.Internal.EnumLiteMap<
            Kind> internalValueMap =
              new com.google.protobuf.Internal.EnumLiteMap<Kind>() {
                public Kind findValueByNumber(int number) {
                  return Kind.forNumber(number);
                }
              };

        public final com.google.protobuf.Descriptors.EnumValueDescriptor
            getValueDescriptor() {
          return getDescriptor().getValues().get(ordinal());
        }
        public final com.google.protobuf.Descriptors.EnumDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }
        public static final com.google.protobuf.Descriptors.EnumDescriptor
            getDescriptor() {
          return xla.Hlo.HeapSimulatorTrace.Event.getDescriptor().getEnumTypes().get(0);
        }

        private static final Kind[] VALUES = values();

        public static Kind valueOf(
            com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
          if (desc.getType() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "EnumValueDescriptor is not for this type.");
          }
          if (desc.getIndex() == -1) {
            return UNRECOGNIZED;
          }
          return VALUES[desc.getIndex()];
        }

        private final int value;

        private Kind(int value) {
          this.value = value;
        }

        // @@protoc_insertion_point(enum_scope:xla.HeapSimulatorTrace.Event.Kind)
      }

      public static final int KIND_FIELD_NUMBER = 1;
      private int kind_;
      /**
       * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
       */
      public int getKindValue() {
        return kind_;
      }
      /**
       * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Event.Kind getKind() {
        xla.Hlo.HeapSimulatorTrace.Event.Kind result = xla.Hlo.HeapSimulatorTrace.Event.Kind.valueOf(kind_);
        return result == null ? xla.Hlo.HeapSimulatorTrace.Event.Kind.UNRECOGNIZED : result;
      }

      public static final int BUFFER_ID_FIELD_NUMBER = 2;
      private long bufferId_;
      /**
       * <pre>
       * The id of the LogicalBuffer that the event applies to.
       * </pre>
       *
       * <code>int64 buffer_id = 2;</code>
       */
      public long getBufferId() {
        return bufferId_;
      }

      public static final int COMPUTATION_NAME_FIELD_NUMBER = 3;
      private volatile java.lang.Object computationName_;
      /**
       * <pre>
       * The HloInstruction that the simulation was processing that caused this
       * event to occur, identified by its computation and instruction name. E.g.
       * buffers defined by instruction A are allocated when processing A.
       * </pre>
       *
       * <code>string computation_name = 3;</code>
       */
      public java.lang.String getComputationName() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          computationName_ = s;
          return s;
        }
      }
      /**
       * <pre>
       * The HloInstruction that the simulation was processing that caused this
       * event to occur, identified by its computation and instruction name. E.g.
       * buffers defined by instruction A are allocated when processing A.
       * </pre>
       *
       * <code>string computation_name = 3;</code>
       */
      public com.google.protobuf.ByteString
          getComputationNameBytes() {
        java.lang.Object ref = computationName_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          computationName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      public static final int INSTRUCTION_NAME_FIELD_NUMBER = 4;
      private volatile java.lang.Object instructionName_;
      /**
       * <code>string instruction_name = 4;</code>
       */
      public java.lang.String getInstructionName() {
        java.lang.Object ref = instructionName_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          instructionName_ = s;
          return s;
        }
      }
      /**
       * <code>string instruction_name = 4;</code>
       */
      public com.google.protobuf.ByteString
          getInstructionNameBytes() {
        java.lang.Object ref = instructionName_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          instructionName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      public static final int SHARE_WITH_CANONICAL_ID_FIELD_NUMBER = 5;
      private long shareWithCanonicalId_;
      /**
       * <pre>
       * The id of the canonical LogicalBuffer that the buffer shares with. Only
       * set for SHARE_WITH events.
       * </pre>
       *
       * <code>int64 share_with_canonical_id = 5;</code>
       */
      public long getShareWithCanonicalId() {
        return shareWithCanonicalId_;
      }

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (kind_ != xla.Hlo.HeapSimulatorTrace.Event.Kind.ALLOC.getNumber()) {
          output.writeEnum(1, kind_);
        }
        if (bufferId_ != 0L) {
          output.writeInt64(2, bufferId_);
        }
        if (!getComputationNameBytes().isEmpty()) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 3, computationName_);
        }
        if (!getInstructionNameBytes().isEmpty()) {
          com.google.protobuf.GeneratedMessageV3.writeString(output, 4, instructionName_);
        }
        if (shareWithCanonicalId_ != 0L) {
          output.writeInt64(5, shareWithCanonicalId_);
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (kind_ != xla.Hlo.HeapSimulatorTrace.Event.Kind.ALLOC.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, kind_);
        }
        if (bufferId_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(2, bufferId_);
        }
        if (!getComputationNameBytes().isEmpty()) {
          size += com.google.protobuf.GeneratedMessageV3.computeStringSize(3, computationName_);
        }
        if (!getInstructionNameBytes().isEmpty()) {
          size += com.google.protobuf.GeneratedMessageV3.computeStringSize(4, instructionName_);
        }
        if (shareWithCanonicalId_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(5, shareWithCanonicalId_);
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.HeapSimulatorTrace.Event)) {
          return super.equals(obj);
        }
        xla.Hlo.HeapSimulatorTrace.Event other = (xla.Hlo.HeapSimulatorTrace.Event) obj;

        boolean result = true;
        result = result && kind_ == other.kind_;
        result = result && (getBufferId()
            == other.getBufferId());
        result = result && getComputationName()
            .equals(other.getComputationName());
        result = result && getInstructionName()
            .equals(other.getInstructionName());
        result = result && (getShareWithCanonicalId()
            == other.getShareWithCanonicalId());
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + KIND_FIELD_NUMBER;
        hash = (53 * hash) + kind_;
        hash = (37 * hash) + BUFFER_ID_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getBufferId());
        hash = (37 * hash) + COMPUTATION_NAME_FIELD_NUMBER;
        hash = (53 * hash) + getComputationName().hashCode();
        hash = (37 * hash) + INSTRUCTION_NAME_FIELD_NUMBER;
        hash = (53 * hash) + getInstructionName().hashCode();
        hash = (37 * hash) + SHARE_WITH_CANONICAL_ID_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getShareWithCanonicalId());
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.HeapSimulatorTrace.Event parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.HeapSimulatorTrace.Event prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * The trace includes a list of events, where each event describes one action
       * performed by the heap simulator.
       * </pre>
       *
       * Protobuf type {@code xla.HeapSimulatorTrace.Event}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.HeapSimulatorTrace.Event)
          xla.Hlo.HeapSimulatorTrace.EventOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_HeapSimulatorTrace_Event_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_HeapSimulatorTrace_Event_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.HeapSimulatorTrace.Event.class, xla.Hlo.HeapSimulatorTrace.Event.Builder.class);
        }

        // Construct using xla.Hlo.HeapSimulatorTrace.Event.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          kind_ = 0;

          bufferId_ = 0L;

          computationName_ = "";

          instructionName_ = "";

          shareWithCanonicalId_ = 0L;

          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_HeapSimulatorTrace_Event_descriptor;
        }

        public xla.Hlo.HeapSimulatorTrace.Event getDefaultInstanceForType() {
          return xla.Hlo.HeapSimulatorTrace.Event.getDefaultInstance();
        }

        public xla.Hlo.HeapSimulatorTrace.Event build() {
          xla.Hlo.HeapSimulatorTrace.Event result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.HeapSimulatorTrace.Event buildPartial() {
          xla.Hlo.HeapSimulatorTrace.Event result = new xla.Hlo.HeapSimulatorTrace.Event(this);
          result.kind_ = kind_;
          result.bufferId_ = bufferId_;
          result.computationName_ = computationName_;
          result.instructionName_ = instructionName_;
          result.shareWithCanonicalId_ = shareWithCanonicalId_;
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.HeapSimulatorTrace.Event) {
            return mergeFrom((xla.Hlo.HeapSimulatorTrace.Event)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.HeapSimulatorTrace.Event other) {
          if (other == xla.Hlo.HeapSimulatorTrace.Event.getDefaultInstance()) return this;
          if (other.kind_ != 0) {
            setKindValue(other.getKindValue());
          }
          if (other.getBufferId() != 0L) {
            setBufferId(other.getBufferId());
          }
          if (!other.getComputationName().isEmpty()) {
            computationName_ = other.computationName_;
            onChanged();
          }
          if (!other.getInstructionName().isEmpty()) {
            instructionName_ = other.instructionName_;
            onChanged();
          }
          if (other.getShareWithCanonicalId() != 0L) {
            setShareWithCanonicalId(other.getShareWithCanonicalId());
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.HeapSimulatorTrace.Event parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.HeapSimulatorTrace.Event) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int kind_ = 0;
        /**
         * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
         */
        public int getKindValue() {
          return kind_;
        }
        /**
         * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
         */
        public Builder setKindValue(int value) {
          kind_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
         */
        public xla.Hlo.HeapSimulatorTrace.Event.Kind getKind() {
          xla.Hlo.HeapSimulatorTrace.Event.Kind result = xla.Hlo.HeapSimulatorTrace.Event.Kind.valueOf(kind_);
          return result == null ? xla.Hlo.HeapSimulatorTrace.Event.Kind.UNRECOGNIZED : result;
        }
        /**
         * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
         */
        public Builder setKind(xla.Hlo.HeapSimulatorTrace.Event.Kind value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          kind_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.xla.HeapSimulatorTrace.Event.Kind kind = 1;</code>
         */
        public Builder clearKind() {
          
          kind_ = 0;
          onChanged();
          return this;
        }

        private long bufferId_ ;
        /**
         * <pre>
         * The id of the LogicalBuffer that the event applies to.
         * </pre>
         *
         * <code>int64 buffer_id = 2;</code>
         */
        public long getBufferId() {
          return bufferId_;
        }
        /**
         * <pre>
         * The id of the LogicalBuffer that the event applies to.
         * </pre>
         *
         * <code>int64 buffer_id = 2;</code>
         */
        public Builder setBufferId(long value) {
          
          bufferId_ = value;
          onChanged();
          return this;
        }
        /**
         * <pre>
         * The id of the LogicalBuffer that the event applies to.
         * </pre>
         *
         * <code>int64 buffer_id = 2;</code>
         */
        public Builder clearBufferId() {
          
          bufferId_ = 0L;
          onChanged();
          return this;
        }

        private java.lang.Object computationName_ = "";
        /**
         * <pre>
         * The HloInstruction that the simulation was processing that caused this
         * event to occur, identified by its computation and instruction name. E.g.
         * buffers defined by instruction A are allocated when processing A.
         * </pre>
         *
         * <code>string computation_name = 3;</code>
         */
        public java.lang.String getComputationName() {
          java.lang.Object ref = computationName_;
          if (!(ref instanceof java.lang.String)) {
            com.google.protobuf.ByteString bs =
                (com.google.protobuf.ByteString) ref;
            java.lang.String s = bs.toStringUtf8();
            computationName_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <pre>
         * The HloInstruction that the simulation was processing that caused this
         * event to occur, identified by its computation and instruction name. E.g.
         * buffers defined by instruction A are allocated when processing A.
         * </pre>
         *
         * <code>string computation_name = 3;</code>
         */
        public com.google.protobuf.ByteString
            getComputationNameBytes() {
          java.lang.Object ref = computationName_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            computationName_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <pre>
         * The HloInstruction that the simulation was processing that caused this
         * event to occur, identified by its computation and instruction name. E.g.
         * buffers defined by instruction A are allocated when processing A.
         * </pre>
         *
         * <code>string computation_name = 3;</code>
         */
        public Builder setComputationName(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  
          computationName_ = value;
          onChanged();
          return this;
        }
        /**
         * <pre>
         * The HloInstruction that the simulation was processing that caused this
         * event to occur, identified by its computation and instruction name. E.g.
         * buffers defined by instruction A are allocated when processing A.
         * </pre>
         *
         * <code>string computation_name = 3;</code>
         */
        public Builder clearComputationName() {
          
          computationName_ = getDefaultInstance().getComputationName();
          onChanged();
          return this;
        }
        /**
         * <pre>
         * The HloInstruction that the simulation was processing that caused this
         * event to occur, identified by its computation and instruction name. E.g.
         * buffers defined by instruction A are allocated when processing A.
         * </pre>
         *
         * <code>string computation_name = 3;</code>
         */
        public Builder setComputationNameBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          
          computationName_ = value;
          onChanged();
          return this;
        }

        private java.lang.Object instructionName_ = "";
        /**
         * <code>string instruction_name = 4;</code>
         */
        public java.lang.String getInstructionName() {
          java.lang.Object ref = instructionName_;
          if (!(ref instanceof java.lang.String)) {
            com.google.protobuf.ByteString bs =
                (com.google.protobuf.ByteString) ref;
            java.lang.String s = bs.toStringUtf8();
            instructionName_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <code>string instruction_name = 4;</code>
         */
        public com.google.protobuf.ByteString
            getInstructionNameBytes() {
          java.lang.Object ref = instructionName_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            instructionName_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <code>string instruction_name = 4;</code>
         */
        public Builder setInstructionName(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  
          instructionName_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>string instruction_name = 4;</code>
         */
        public Builder clearInstructionName() {
          
          instructionName_ = getDefaultInstance().getInstructionName();
          onChanged();
          return this;
        }
        /**
         * <code>string instruction_name = 4;</code>
         */
        public Builder setInstructionNameBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  checkByteStringIsUtf8(value);
          
          instructionName_ = value;
          onChanged();
          return this;
        }

        private long shareWithCanonicalId_ ;
        /**
         * <pre>
         * The id of the canonical LogicalBuffer that the buffer shares with. Only
         * set for SHARE_WITH events.
         * </pre>
         *
         * <code>int64 share_with_canonical_id = 5;</code>
         */
        public long getShareWithCanonicalId() {
          return shareWithCanonicalId_;
        }
        /**
         * <pre>
         * The id of the canonical LogicalBuffer that the buffer shares with. Only
         * set for SHARE_WITH events.
         * </pre>
         *
         * <code>int64 share_with_canonical_id = 5;</code>
         */
        public Builder setShareWithCanonicalId(long value) {
          
          shareWithCanonicalId_ = value;
          onChanged();
          return this;
        }
        /**
         * <pre>
         * The id of the canonical LogicalBuffer that the buffer shares with. Only
         * set for SHARE_WITH events.
         * </pre>
         *
         * <code>int64 share_with_canonical_id = 5;</code>
         */
        public Builder clearShareWithCanonicalId() {
          
          shareWithCanonicalId_ = 0L;
          onChanged();
          return this;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.HeapSimulatorTrace.Event)
      }

      // @@protoc_insertion_point(class_scope:xla.HeapSimulatorTrace.Event)
      private static final xla.Hlo.HeapSimulatorTrace.Event DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.HeapSimulatorTrace.Event();
      }

      public static xla.Hlo.HeapSimulatorTrace.Event getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<Event>
          PARSER = new com.google.protobuf.AbstractParser<Event>() {
        public Event parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new Event(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<Event> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<Event> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.HeapSimulatorTrace.Event getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    private int bitField0_;
    public static final int EVENTS_FIELD_NUMBER = 1;
    private java.util.List<xla.Hlo.HeapSimulatorTrace.Event> events_;
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    public java.util.List<xla.Hlo.HeapSimulatorTrace.Event> getEventsList() {
      return events_;
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    public java.util.List<? extends xla.Hlo.HeapSimulatorTrace.EventOrBuilder> 
        getEventsOrBuilderList() {
      return events_;
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    public int getEventsCount() {
      return events_.size();
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    public xla.Hlo.HeapSimulatorTrace.Event getEvents(int index) {
      return events_.get(index);
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
     */
    public xla.Hlo.HeapSimulatorTrace.EventOrBuilder getEventsOrBuilder(
        int index) {
      return events_.get(index);
    }

    public static final int WHOLE_MODULE_SIMULATION_FIELD_NUMBER = 2;
    private boolean wholeModuleSimulation_;
    /**
     * <code>bool whole_module_simulation = 2;</code>
     */
    public boolean getWholeModuleSimulation() {
      return wholeModuleSimulation_;
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      for (int i = 0; i < events_.size(); i++) {
        output.writeMessage(1, events_.get(i));
      }
      if (wholeModuleSimulation_ != false) {
        output.writeBool(2, wholeModuleSimulation_);
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      for (int i = 0; i < events_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, events_.get(i));
      }
      if (wholeModuleSimulation_ != false) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(2, wholeModuleSimulation_);
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HeapSimulatorTrace)) {
        return super.equals(obj);
      }
      xla.Hlo.HeapSimulatorTrace other = (xla.Hlo.HeapSimulatorTrace) obj;

      boolean result = true;
      result = result && getEventsList()
          .equals(other.getEventsList());
      result = result && (getWholeModuleSimulation()
          == other.getWholeModuleSimulation());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      if (getEventsCount() > 0) {
        hash = (37 * hash) + EVENTS_FIELD_NUMBER;
        hash = (53 * hash) + getEventsList().hashCode();
      }
      hash = (37 * hash) + WHOLE_MODULE_SIMULATION_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
          getWholeModuleSimulation());
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HeapSimulatorTrace parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HeapSimulatorTrace parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HeapSimulatorTrace parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HeapSimulatorTrace prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * A trace of a HeapSimulator run.
     * </pre>
     *
     * Protobuf type {@code xla.HeapSimulatorTrace}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HeapSimulatorTrace)
        xla.Hlo.HeapSimulatorTraceOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HeapSimulatorTrace_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HeapSimulatorTrace_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HeapSimulatorTrace.class, xla.Hlo.HeapSimulatorTrace.Builder.class);
      }

      // Construct using xla.Hlo.HeapSimulatorTrace.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getEventsFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        if (eventsBuilder_ == null) {
          events_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
        } else {
          eventsBuilder_.clear();
        }
        wholeModuleSimulation_ = false;

        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HeapSimulatorTrace_descriptor;
      }

      public xla.Hlo.HeapSimulatorTrace getDefaultInstanceForType() {
        return xla.Hlo.HeapSimulatorTrace.getDefaultInstance();
      }

      public xla.Hlo.HeapSimulatorTrace build() {
        xla.Hlo.HeapSimulatorTrace result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HeapSimulatorTrace buildPartial() {
        xla.Hlo.HeapSimulatorTrace result = new xla.Hlo.HeapSimulatorTrace(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (eventsBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            events_ = java.util.Collections.unmodifiableList(events_);
            bitField0_ = (bitField0_ & ~0x00000001);
          }
          result.events_ = events_;
        } else {
          result.events_ = eventsBuilder_.build();
        }
        result.wholeModuleSimulation_ = wholeModuleSimulation_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HeapSimulatorTrace) {
          return mergeFrom((xla.Hlo.HeapSimulatorTrace)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HeapSimulatorTrace other) {
        if (other == xla.Hlo.HeapSimulatorTrace.getDefaultInstance()) return this;
        if (eventsBuilder_ == null) {
          if (!other.events_.isEmpty()) {
            if (events_.isEmpty()) {
              events_ = other.events_;
              bitField0_ = (bitField0_ & ~0x00000001);
            } else {
              ensureEventsIsMutable();
              events_.addAll(other.events_);
            }
            onChanged();
          }
        } else {
          if (!other.events_.isEmpty()) {
            if (eventsBuilder_.isEmpty()) {
              eventsBuilder_.dispose();
              eventsBuilder_ = null;
              events_ = other.events_;
              bitField0_ = (bitField0_ & ~0x00000001);
              eventsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getEventsFieldBuilder() : null;
            } else {
              eventsBuilder_.addAllMessages(other.events_);
            }
          }
        }
        if (other.getWholeModuleSimulation() != false) {
          setWholeModuleSimulation(other.getWholeModuleSimulation());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HeapSimulatorTrace parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HeapSimulatorTrace) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private java.util.List<xla.Hlo.HeapSimulatorTrace.Event> events_ =
        java.util.Collections.emptyList();
      private void ensureEventsIsMutable() {
        if (!((bitField0_ & 0x00000001) == 0x00000001)) {
          events_ = new java.util.ArrayList<xla.Hlo.HeapSimulatorTrace.Event>(events_);
          bitField0_ |= 0x00000001;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HeapSimulatorTrace.Event, xla.Hlo.HeapSimulatorTrace.Event.Builder, xla.Hlo.HeapSimulatorTrace.EventOrBuilder> eventsBuilder_;

      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public java.util.List<xla.Hlo.HeapSimulatorTrace.Event> getEventsList() {
        if (eventsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(events_);
        } else {
          return eventsBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public int getEventsCount() {
        if (eventsBuilder_ == null) {
          return events_.size();
        } else {
          return eventsBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Event getEvents(int index) {
        if (eventsBuilder_ == null) {
          return events_.get(index);
        } else {
          return eventsBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder setEvents(
          int index, xla.Hlo.HeapSimulatorTrace.Event value) {
        if (eventsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureEventsIsMutable();
          events_.set(index, value);
          onChanged();
        } else {
          eventsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder setEvents(
          int index, xla.Hlo.HeapSimulatorTrace.Event.Builder builderForValue) {
        if (eventsBuilder_ == null) {
          ensureEventsIsMutable();
          events_.set(index, builderForValue.build());
          onChanged();
        } else {
          eventsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder addEvents(xla.Hlo.HeapSimulatorTrace.Event value) {
        if (eventsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureEventsIsMutable();
          events_.add(value);
          onChanged();
        } else {
          eventsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder addEvents(
          int index, xla.Hlo.HeapSimulatorTrace.Event value) {
        if (eventsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureEventsIsMutable();
          events_.add(index, value);
          onChanged();
        } else {
          eventsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder addEvents(
          xla.Hlo.HeapSimulatorTrace.Event.Builder builderForValue) {
        if (eventsBuilder_ == null) {
          ensureEventsIsMutable();
          events_.add(builderForValue.build());
          onChanged();
        } else {
          eventsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder addEvents(
          int index, xla.Hlo.HeapSimulatorTrace.Event.Builder builderForValue) {
        if (eventsBuilder_ == null) {
          ensureEventsIsMutable();
          events_.add(index, builderForValue.build());
          onChanged();
        } else {
          eventsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder addAllEvents(
          java.lang.Iterable<? extends xla.Hlo.HeapSimulatorTrace.Event> values) {
        if (eventsBuilder_ == null) {
          ensureEventsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, events_);
          onChanged();
        } else {
          eventsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder clearEvents() {
        if (eventsBuilder_ == null) {
          events_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
          onChanged();
        } else {
          eventsBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public Builder removeEvents(int index) {
        if (eventsBuilder_ == null) {
          ensureEventsIsMutable();
          events_.remove(index);
          onChanged();
        } else {
          eventsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Event.Builder getEventsBuilder(
          int index) {
        return getEventsFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.EventOrBuilder getEventsOrBuilder(
          int index) {
        if (eventsBuilder_ == null) {
          return events_.get(index);  } else {
          return eventsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public java.util.List<? extends xla.Hlo.HeapSimulatorTrace.EventOrBuilder> 
           getEventsOrBuilderList() {
        if (eventsBuilder_ != null) {
          return eventsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(events_);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Event.Builder addEventsBuilder() {
        return getEventsFieldBuilder().addBuilder(
            xla.Hlo.HeapSimulatorTrace.Event.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Event.Builder addEventsBuilder(
          int index) {
        return getEventsFieldBuilder().addBuilder(
            index, xla.Hlo.HeapSimulatorTrace.Event.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace.Event events = 1;</code>
       */
      public java.util.List<xla.Hlo.HeapSimulatorTrace.Event.Builder> 
           getEventsBuilderList() {
        return getEventsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HeapSimulatorTrace.Event, xla.Hlo.HeapSimulatorTrace.Event.Builder, xla.Hlo.HeapSimulatorTrace.EventOrBuilder> 
          getEventsFieldBuilder() {
        if (eventsBuilder_ == null) {
          eventsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HeapSimulatorTrace.Event, xla.Hlo.HeapSimulatorTrace.Event.Builder, xla.Hlo.HeapSimulatorTrace.EventOrBuilder>(
                  events_,
                  ((bitField0_ & 0x00000001) == 0x00000001),
                  getParentForChildren(),
                  isClean());
          events_ = null;
        }
        return eventsBuilder_;
      }

      private boolean wholeModuleSimulation_ ;
      /**
       * <code>bool whole_module_simulation = 2;</code>
       */
      public boolean getWholeModuleSimulation() {
        return wholeModuleSimulation_;
      }
      /**
       * <code>bool whole_module_simulation = 2;</code>
       */
      public Builder setWholeModuleSimulation(boolean value) {
        
        wholeModuleSimulation_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>bool whole_module_simulation = 2;</code>
       */
      public Builder clearWholeModuleSimulation() {
        
        wholeModuleSimulation_ = false;
        onChanged();
        return this;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HeapSimulatorTrace)
    }

    // @@protoc_insertion_point(class_scope:xla.HeapSimulatorTrace)
    private static final xla.Hlo.HeapSimulatorTrace DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HeapSimulatorTrace();
    }

    public static xla.Hlo.HeapSimulatorTrace getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HeapSimulatorTrace>
        PARSER = new com.google.protobuf.AbstractParser<HeapSimulatorTrace>() {
      public HeapSimulatorTrace parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HeapSimulatorTrace(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HeapSimulatorTrace> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HeapSimulatorTrace> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HeapSimulatorTrace getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface BufferAssignmentProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.BufferAssignmentProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    java.util.List<xla.Hlo.LogicalBufferProto> 
        getLogicalBuffersList();
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    xla.Hlo.LogicalBufferProto getLogicalBuffers(int index);
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    int getLogicalBuffersCount();
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    java.util.List<? extends xla.Hlo.LogicalBufferProtoOrBuilder> 
        getLogicalBuffersOrBuilderList();
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    xla.Hlo.LogicalBufferProtoOrBuilder getLogicalBuffersOrBuilder(
        int index);

    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias> 
        getBufferAliasesList();
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    xla.Hlo.BufferAssignmentProto.BufferAlias getBufferAliases(int index);
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    int getBufferAliasesCount();
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    java.util.List<? extends xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder> 
        getBufferAliasesOrBuilderList();
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder getBufferAliasesOrBuilder(
        int index);

    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    java.util.List<xla.Hlo.BufferAllocationProto> 
        getBufferAllocationsList();
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    xla.Hlo.BufferAllocationProto getBufferAllocations(int index);
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    int getBufferAllocationsCount();
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    java.util.List<? extends xla.Hlo.BufferAllocationProtoOrBuilder> 
        getBufferAllocationsOrBuilderList();
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    xla.Hlo.BufferAllocationProtoOrBuilder getBufferAllocationsOrBuilder(
        int index);

    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    java.util.List<xla.Hlo.HeapSimulatorTrace> 
        getHeapSimulatorTracesList();
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    xla.Hlo.HeapSimulatorTrace getHeapSimulatorTraces(int index);
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    int getHeapSimulatorTracesCount();
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    java.util.List<? extends xla.Hlo.HeapSimulatorTraceOrBuilder> 
        getHeapSimulatorTracesOrBuilderList();
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    xla.Hlo.HeapSimulatorTraceOrBuilder getHeapSimulatorTracesOrBuilder(
        int index);
  }
  /**
   * <pre>
   * Serialization of BufferAssignment.
   * </pre>
   *
   * Protobuf type {@code xla.BufferAssignmentProto}
   */
  public  static final class BufferAssignmentProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.BufferAssignmentProto)
      BufferAssignmentProtoOrBuilder {
    // Use BufferAssignmentProto.newBuilder() to construct.
    private BufferAssignmentProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private BufferAssignmentProto() {
      logicalBuffers_ = java.util.Collections.emptyList();
      bufferAliases_ = java.util.Collections.emptyList();
      bufferAllocations_ = java.util.Collections.emptyList();
      heapSimulatorTraces_ = java.util.Collections.emptyList();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private BufferAssignmentProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              if (!((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
                logicalBuffers_ = new java.util.ArrayList<xla.Hlo.LogicalBufferProto>();
                mutable_bitField0_ |= 0x00000001;
              }
              logicalBuffers_.add(
                  input.readMessage(xla.Hlo.LogicalBufferProto.parser(), extensionRegistry));
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                bufferAliases_ = new java.util.ArrayList<xla.Hlo.BufferAssignmentProto.BufferAlias>();
                mutable_bitField0_ |= 0x00000002;
              }
              bufferAliases_.add(
                  input.readMessage(xla.Hlo.BufferAssignmentProto.BufferAlias.parser(), extensionRegistry));
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                bufferAllocations_ = new java.util.ArrayList<xla.Hlo.BufferAllocationProto>();
                mutable_bitField0_ |= 0x00000004;
              }
              bufferAllocations_.add(
                  input.readMessage(xla.Hlo.BufferAllocationProto.parser(), extensionRegistry));
              break;
            }
            case 34: {
              if (!((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
                heapSimulatorTraces_ = new java.util.ArrayList<xla.Hlo.HeapSimulatorTrace>();
                mutable_bitField0_ |= 0x00000008;
              }
              heapSimulatorTraces_.add(
                  input.readMessage(xla.Hlo.HeapSimulatorTrace.parser(), extensionRegistry));
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000001) == 0x00000001)) {
          logicalBuffers_ = java.util.Collections.unmodifiableList(logicalBuffers_);
        }
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          bufferAliases_ = java.util.Collections.unmodifiableList(bufferAliases_);
        }
        if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
          bufferAllocations_ = java.util.Collections.unmodifiableList(bufferAllocations_);
        }
        if (((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
          heapSimulatorTraces_ = java.util.Collections.unmodifiableList(heapSimulatorTraces_);
        }
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_BufferAssignmentProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_BufferAssignmentProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.BufferAssignmentProto.class, xla.Hlo.BufferAssignmentProto.Builder.class);
    }

    public interface BufferAliasOrBuilder extends
        // @@protoc_insertion_point(interface_extends:xla.BufferAssignmentProto.BufferAlias)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>int64 source_buffer_id = 1;</code>
       */
      long getSourceBufferId();

      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      boolean hasLocation();
      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      xla.Hlo.LogicalBufferProto.Location getLocation();
      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      xla.Hlo.LogicalBufferProto.LocationOrBuilder getLocationOrBuilder();
    }
    /**
     * <pre>
     * Alias represents a source LogicalBuffer, and the buffer location that
     * aliases it.
     * </pre>
     *
     * Protobuf type {@code xla.BufferAssignmentProto.BufferAlias}
     */
    public  static final class BufferAlias extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:xla.BufferAssignmentProto.BufferAlias)
        BufferAliasOrBuilder {
      // Use BufferAlias.newBuilder() to construct.
      private BufferAlias(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private BufferAlias() {
        sourceBufferId_ = 0L;
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
      }
      private BufferAlias(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        int mutable_bitField0_ = 0;
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!input.skipField(tag)) {
                  done = true;
                }
                break;
              }
              case 8: {

                sourceBufferId_ = input.readInt64();
                break;
              }
              case 18: {
                xla.Hlo.LogicalBufferProto.Location.Builder subBuilder = null;
                if (location_ != null) {
                  subBuilder = location_.toBuilder();
                }
                location_ = input.readMessage(xla.Hlo.LogicalBufferProto.Location.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(location_);
                  location_ = subBuilder.buildPartial();
                }

                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_BufferAssignmentProto_BufferAlias_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.BufferAssignmentProto.BufferAlias.class, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder.class);
      }

      public static final int SOURCE_BUFFER_ID_FIELD_NUMBER = 1;
      private long sourceBufferId_;
      /**
       * <code>int64 source_buffer_id = 1;</code>
       */
      public long getSourceBufferId() {
        return sourceBufferId_;
      }

      public static final int LOCATION_FIELD_NUMBER = 2;
      private xla.Hlo.LogicalBufferProto.Location location_;
      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      public boolean hasLocation() {
        return location_ != null;
      }
      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      public xla.Hlo.LogicalBufferProto.Location getLocation() {
        return location_ == null ? xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : location_;
      }
      /**
       * <code>.xla.LogicalBufferProto.Location location = 2;</code>
       */
      public xla.Hlo.LogicalBufferProto.LocationOrBuilder getLocationOrBuilder() {
        return getLocation();
      }

      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (sourceBufferId_ != 0L) {
          output.writeInt64(1, sourceBufferId_);
        }
        if (location_ != null) {
          output.writeMessage(2, getLocation());
        }
      }

      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (sourceBufferId_ != 0L) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(1, sourceBufferId_);
        }
        if (location_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getLocation());
        }
        memoizedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof xla.Hlo.BufferAssignmentProto.BufferAlias)) {
          return super.equals(obj);
        }
        xla.Hlo.BufferAssignmentProto.BufferAlias other = (xla.Hlo.BufferAssignmentProto.BufferAlias) obj;

        boolean result = true;
        result = result && (getSourceBufferId()
            == other.getSourceBufferId());
        result = result && (hasLocation() == other.hasLocation());
        if (hasLocation()) {
          result = result && getLocation()
              .equals(other.getLocation());
        }
        return result;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + SOURCE_BUFFER_ID_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
            getSourceBufferId());
        if (hasLocation()) {
          hash = (37 * hash) + LOCATION_FIELD_NUMBER;
          hash = (53 * hash) + getLocation().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static xla.Hlo.BufferAssignmentProto.BufferAlias parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(xla.Hlo.BufferAssignmentProto.BufferAlias prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * <pre>
       * Alias represents a source LogicalBuffer, and the buffer location that
       * aliases it.
       * </pre>
       *
       * Protobuf type {@code xla.BufferAssignmentProto.BufferAlias}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:xla.BufferAssignmentProto.BufferAlias)
          xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return xla.Hlo.internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor;
        }

        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return xla.Hlo.internal_static_xla_BufferAssignmentProto_BufferAlias_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  xla.Hlo.BufferAssignmentProto.BufferAlias.class, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder.class);
        }

        // Construct using xla.Hlo.BufferAssignmentProto.BufferAlias.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        public Builder clear() {
          super.clear();
          sourceBufferId_ = 0L;

          if (locationBuilder_ == null) {
            location_ = null;
          } else {
            location_ = null;
            locationBuilder_ = null;
          }
          return this;
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return xla.Hlo.internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor;
        }

        public xla.Hlo.BufferAssignmentProto.BufferAlias getDefaultInstanceForType() {
          return xla.Hlo.BufferAssignmentProto.BufferAlias.getDefaultInstance();
        }

        public xla.Hlo.BufferAssignmentProto.BufferAlias build() {
          xla.Hlo.BufferAssignmentProto.BufferAlias result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public xla.Hlo.BufferAssignmentProto.BufferAlias buildPartial() {
          xla.Hlo.BufferAssignmentProto.BufferAlias result = new xla.Hlo.BufferAssignmentProto.BufferAlias(this);
          result.sourceBufferId_ = sourceBufferId_;
          if (locationBuilder_ == null) {
            result.location_ = location_;
          } else {
            result.location_ = locationBuilder_.build();
          }
          onBuilt();
          return result;
        }

        public Builder clone() {
          return (Builder) super.clone();
        }
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.setField(field, value);
        }
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return (Builder) super.clearField(field);
        }
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return (Builder) super.clearOneof(oneof);
        }
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, Object value) {
          return (Builder) super.setRepeatedField(field, index, value);
        }
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            Object value) {
          return (Builder) super.addRepeatedField(field, value);
        }
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof xla.Hlo.BufferAssignmentProto.BufferAlias) {
            return mergeFrom((xla.Hlo.BufferAssignmentProto.BufferAlias)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(xla.Hlo.BufferAssignmentProto.BufferAlias other) {
          if (other == xla.Hlo.BufferAssignmentProto.BufferAlias.getDefaultInstance()) return this;
          if (other.getSourceBufferId() != 0L) {
            setSourceBufferId(other.getSourceBufferId());
          }
          if (other.hasLocation()) {
            mergeLocation(other.getLocation());
          }
          onChanged();
          return this;
        }

        public final boolean isInitialized() {
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          xla.Hlo.BufferAssignmentProto.BufferAlias parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (xla.Hlo.BufferAssignmentProto.BufferAlias) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private long sourceBufferId_ ;
        /**
         * <code>int64 source_buffer_id = 1;</code>
         */
        public long getSourceBufferId() {
          return sourceBufferId_;
        }
        /**
         * <code>int64 source_buffer_id = 1;</code>
         */
        public Builder setSourceBufferId(long value) {
          
          sourceBufferId_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int64 source_buffer_id = 1;</code>
         */
        public Builder clearSourceBufferId() {
          
          sourceBufferId_ = 0L;
          onChanged();
          return this;
        }

        private xla.Hlo.LogicalBufferProto.Location location_ = null;
        private com.google.protobuf.SingleFieldBuilderV3<
            xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder> locationBuilder_;
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public boolean hasLocation() {
          return locationBuilder_ != null || location_ != null;
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public xla.Hlo.LogicalBufferProto.Location getLocation() {
          if (locationBuilder_ == null) {
            return location_ == null ? xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : location_;
          } else {
            return locationBuilder_.getMessage();
          }
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public Builder setLocation(xla.Hlo.LogicalBufferProto.Location value) {
          if (locationBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            location_ = value;
            onChanged();
          } else {
            locationBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public Builder setLocation(
            xla.Hlo.LogicalBufferProto.Location.Builder builderForValue) {
          if (locationBuilder_ == null) {
            location_ = builderForValue.build();
            onChanged();
          } else {
            locationBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public Builder mergeLocation(xla.Hlo.LogicalBufferProto.Location value) {
          if (locationBuilder_ == null) {
            if (location_ != null) {
              location_ =
                xla.Hlo.LogicalBufferProto.Location.newBuilder(location_).mergeFrom(value).buildPartial();
            } else {
              location_ = value;
            }
            onChanged();
          } else {
            locationBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public Builder clearLocation() {
          if (locationBuilder_ == null) {
            location_ = null;
            onChanged();
          } else {
            location_ = null;
            locationBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public xla.Hlo.LogicalBufferProto.Location.Builder getLocationBuilder() {
          
          onChanged();
          return getLocationFieldBuilder().getBuilder();
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        public xla.Hlo.LogicalBufferProto.LocationOrBuilder getLocationOrBuilder() {
          if (locationBuilder_ != null) {
            return locationBuilder_.getMessageOrBuilder();
          } else {
            return location_ == null ?
                xla.Hlo.LogicalBufferProto.Location.getDefaultInstance() : location_;
          }
        }
        /**
         * <code>.xla.LogicalBufferProto.Location location = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder> 
            getLocationFieldBuilder() {
          if (locationBuilder_ == null) {
            locationBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                xla.Hlo.LogicalBufferProto.Location, xla.Hlo.LogicalBufferProto.Location.Builder, xla.Hlo.LogicalBufferProto.LocationOrBuilder>(
                    getLocation(),
                    getParentForChildren(),
                    isClean());
            location_ = null;
          }
          return locationBuilder_;
        }
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }

        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return this;
        }


        // @@protoc_insertion_point(builder_scope:xla.BufferAssignmentProto.BufferAlias)
      }

      // @@protoc_insertion_point(class_scope:xla.BufferAssignmentProto.BufferAlias)
      private static final xla.Hlo.BufferAssignmentProto.BufferAlias DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new xla.Hlo.BufferAssignmentProto.BufferAlias();
      }

      public static xla.Hlo.BufferAssignmentProto.BufferAlias getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<BufferAlias>
          PARSER = new com.google.protobuf.AbstractParser<BufferAlias>() {
        public BufferAlias parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
            return new BufferAlias(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<BufferAlias> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<BufferAlias> getParserForType() {
        return PARSER;
      }

      public xla.Hlo.BufferAssignmentProto.BufferAlias getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public static final int LOGICAL_BUFFERS_FIELD_NUMBER = 1;
    private java.util.List<xla.Hlo.LogicalBufferProto> logicalBuffers_;
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    public java.util.List<xla.Hlo.LogicalBufferProto> getLogicalBuffersList() {
      return logicalBuffers_;
    }
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    public java.util.List<? extends xla.Hlo.LogicalBufferProtoOrBuilder> 
        getLogicalBuffersOrBuilderList() {
      return logicalBuffers_;
    }
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    public int getLogicalBuffersCount() {
      return logicalBuffers_.size();
    }
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    public xla.Hlo.LogicalBufferProto getLogicalBuffers(int index) {
      return logicalBuffers_.get(index);
    }
    /**
     * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
     */
    public xla.Hlo.LogicalBufferProtoOrBuilder getLogicalBuffersOrBuilder(
        int index) {
      return logicalBuffers_.get(index);
    }

    public static final int BUFFER_ALIASES_FIELD_NUMBER = 2;
    private java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias> bufferAliases_;
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    public java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias> getBufferAliasesList() {
      return bufferAliases_;
    }
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    public java.util.List<? extends xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder> 
        getBufferAliasesOrBuilderList() {
      return bufferAliases_;
    }
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    public int getBufferAliasesCount() {
      return bufferAliases_.size();
    }
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    public xla.Hlo.BufferAssignmentProto.BufferAlias getBufferAliases(int index) {
      return bufferAliases_.get(index);
    }
    /**
     * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
     */
    public xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder getBufferAliasesOrBuilder(
        int index) {
      return bufferAliases_.get(index);
    }

    public static final int BUFFER_ALLOCATIONS_FIELD_NUMBER = 3;
    private java.util.List<xla.Hlo.BufferAllocationProto> bufferAllocations_;
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    public java.util.List<xla.Hlo.BufferAllocationProto> getBufferAllocationsList() {
      return bufferAllocations_;
    }
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    public java.util.List<? extends xla.Hlo.BufferAllocationProtoOrBuilder> 
        getBufferAllocationsOrBuilderList() {
      return bufferAllocations_;
    }
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    public int getBufferAllocationsCount() {
      return bufferAllocations_.size();
    }
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    public xla.Hlo.BufferAllocationProto getBufferAllocations(int index) {
      return bufferAllocations_.get(index);
    }
    /**
     * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
     */
    public xla.Hlo.BufferAllocationProtoOrBuilder getBufferAllocationsOrBuilder(
        int index) {
      return bufferAllocations_.get(index);
    }

    public static final int HEAP_SIMULATOR_TRACES_FIELD_NUMBER = 4;
    private java.util.List<xla.Hlo.HeapSimulatorTrace> heapSimulatorTraces_;
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    public java.util.List<xla.Hlo.HeapSimulatorTrace> getHeapSimulatorTracesList() {
      return heapSimulatorTraces_;
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    public java.util.List<? extends xla.Hlo.HeapSimulatorTraceOrBuilder> 
        getHeapSimulatorTracesOrBuilderList() {
      return heapSimulatorTraces_;
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    public int getHeapSimulatorTracesCount() {
      return heapSimulatorTraces_.size();
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    public xla.Hlo.HeapSimulatorTrace getHeapSimulatorTraces(int index) {
      return heapSimulatorTraces_.get(index);
    }
    /**
     * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
     */
    public xla.Hlo.HeapSimulatorTraceOrBuilder getHeapSimulatorTracesOrBuilder(
        int index) {
      return heapSimulatorTraces_.get(index);
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      for (int i = 0; i < logicalBuffers_.size(); i++) {
        output.writeMessage(1, logicalBuffers_.get(i));
      }
      for (int i = 0; i < bufferAliases_.size(); i++) {
        output.writeMessage(2, bufferAliases_.get(i));
      }
      for (int i = 0; i < bufferAllocations_.size(); i++) {
        output.writeMessage(3, bufferAllocations_.get(i));
      }
      for (int i = 0; i < heapSimulatorTraces_.size(); i++) {
        output.writeMessage(4, heapSimulatorTraces_.get(i));
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      for (int i = 0; i < logicalBuffers_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, logicalBuffers_.get(i));
      }
      for (int i = 0; i < bufferAliases_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, bufferAliases_.get(i));
      }
      for (int i = 0; i < bufferAllocations_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, bufferAllocations_.get(i));
      }
      for (int i = 0; i < heapSimulatorTraces_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, heapSimulatorTraces_.get(i));
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.BufferAssignmentProto)) {
        return super.equals(obj);
      }
      xla.Hlo.BufferAssignmentProto other = (xla.Hlo.BufferAssignmentProto) obj;

      boolean result = true;
      result = result && getLogicalBuffersList()
          .equals(other.getLogicalBuffersList());
      result = result && getBufferAliasesList()
          .equals(other.getBufferAliasesList());
      result = result && getBufferAllocationsList()
          .equals(other.getBufferAllocationsList());
      result = result && getHeapSimulatorTracesList()
          .equals(other.getHeapSimulatorTracesList());
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      if (getLogicalBuffersCount() > 0) {
        hash = (37 * hash) + LOGICAL_BUFFERS_FIELD_NUMBER;
        hash = (53 * hash) + getLogicalBuffersList().hashCode();
      }
      if (getBufferAliasesCount() > 0) {
        hash = (37 * hash) + BUFFER_ALIASES_FIELD_NUMBER;
        hash = (53 * hash) + getBufferAliasesList().hashCode();
      }
      if (getBufferAllocationsCount() > 0) {
        hash = (37 * hash) + BUFFER_ALLOCATIONS_FIELD_NUMBER;
        hash = (53 * hash) + getBufferAllocationsList().hashCode();
      }
      if (getHeapSimulatorTracesCount() > 0) {
        hash = (37 * hash) + HEAP_SIMULATOR_TRACES_FIELD_NUMBER;
        hash = (53 * hash) + getHeapSimulatorTracesList().hashCode();
      }
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.BufferAssignmentProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.BufferAssignmentProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAssignmentProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.BufferAssignmentProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.BufferAssignmentProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Serialization of BufferAssignment.
     * </pre>
     *
     * Protobuf type {@code xla.BufferAssignmentProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.BufferAssignmentProto)
        xla.Hlo.BufferAssignmentProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_BufferAssignmentProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_BufferAssignmentProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.BufferAssignmentProto.class, xla.Hlo.BufferAssignmentProto.Builder.class);
      }

      // Construct using xla.Hlo.BufferAssignmentProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getLogicalBuffersFieldBuilder();
          getBufferAliasesFieldBuilder();
          getBufferAllocationsFieldBuilder();
          getHeapSimulatorTracesFieldBuilder();
        }
      }
      public Builder clear() {
        super.clear();
        if (logicalBuffersBuilder_ == null) {
          logicalBuffers_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
        } else {
          logicalBuffersBuilder_.clear();
        }
        if (bufferAliasesBuilder_ == null) {
          bufferAliases_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
        } else {
          bufferAliasesBuilder_.clear();
        }
        if (bufferAllocationsBuilder_ == null) {
          bufferAllocations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
        } else {
          bufferAllocationsBuilder_.clear();
        }
        if (heapSimulatorTracesBuilder_ == null) {
          heapSimulatorTraces_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
        } else {
          heapSimulatorTracesBuilder_.clear();
        }
        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_BufferAssignmentProto_descriptor;
      }

      public xla.Hlo.BufferAssignmentProto getDefaultInstanceForType() {
        return xla.Hlo.BufferAssignmentProto.getDefaultInstance();
      }

      public xla.Hlo.BufferAssignmentProto build() {
        xla.Hlo.BufferAssignmentProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.BufferAssignmentProto buildPartial() {
        xla.Hlo.BufferAssignmentProto result = new xla.Hlo.BufferAssignmentProto(this);
        int from_bitField0_ = bitField0_;
        if (logicalBuffersBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            logicalBuffers_ = java.util.Collections.unmodifiableList(logicalBuffers_);
            bitField0_ = (bitField0_ & ~0x00000001);
          }
          result.logicalBuffers_ = logicalBuffers_;
        } else {
          result.logicalBuffers_ = logicalBuffersBuilder_.build();
        }
        if (bufferAliasesBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            bufferAliases_ = java.util.Collections.unmodifiableList(bufferAliases_);
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.bufferAliases_ = bufferAliases_;
        } else {
          result.bufferAliases_ = bufferAliasesBuilder_.build();
        }
        if (bufferAllocationsBuilder_ == null) {
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            bufferAllocations_ = java.util.Collections.unmodifiableList(bufferAllocations_);
            bitField0_ = (bitField0_ & ~0x00000004);
          }
          result.bufferAllocations_ = bufferAllocations_;
        } else {
          result.bufferAllocations_ = bufferAllocationsBuilder_.build();
        }
        if (heapSimulatorTracesBuilder_ == null) {
          if (((bitField0_ & 0x00000008) == 0x00000008)) {
            heapSimulatorTraces_ = java.util.Collections.unmodifiableList(heapSimulatorTraces_);
            bitField0_ = (bitField0_ & ~0x00000008);
          }
          result.heapSimulatorTraces_ = heapSimulatorTraces_;
        } else {
          result.heapSimulatorTraces_ = heapSimulatorTracesBuilder_.build();
        }
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.BufferAssignmentProto) {
          return mergeFrom((xla.Hlo.BufferAssignmentProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.BufferAssignmentProto other) {
        if (other == xla.Hlo.BufferAssignmentProto.getDefaultInstance()) return this;
        if (logicalBuffersBuilder_ == null) {
          if (!other.logicalBuffers_.isEmpty()) {
            if (logicalBuffers_.isEmpty()) {
              logicalBuffers_ = other.logicalBuffers_;
              bitField0_ = (bitField0_ & ~0x00000001);
            } else {
              ensureLogicalBuffersIsMutable();
              logicalBuffers_.addAll(other.logicalBuffers_);
            }
            onChanged();
          }
        } else {
          if (!other.logicalBuffers_.isEmpty()) {
            if (logicalBuffersBuilder_.isEmpty()) {
              logicalBuffersBuilder_.dispose();
              logicalBuffersBuilder_ = null;
              logicalBuffers_ = other.logicalBuffers_;
              bitField0_ = (bitField0_ & ~0x00000001);
              logicalBuffersBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getLogicalBuffersFieldBuilder() : null;
            } else {
              logicalBuffersBuilder_.addAllMessages(other.logicalBuffers_);
            }
          }
        }
        if (bufferAliasesBuilder_ == null) {
          if (!other.bufferAliases_.isEmpty()) {
            if (bufferAliases_.isEmpty()) {
              bufferAliases_ = other.bufferAliases_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureBufferAliasesIsMutable();
              bufferAliases_.addAll(other.bufferAliases_);
            }
            onChanged();
          }
        } else {
          if (!other.bufferAliases_.isEmpty()) {
            if (bufferAliasesBuilder_.isEmpty()) {
              bufferAliasesBuilder_.dispose();
              bufferAliasesBuilder_ = null;
              bufferAliases_ = other.bufferAliases_;
              bitField0_ = (bitField0_ & ~0x00000002);
              bufferAliasesBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getBufferAliasesFieldBuilder() : null;
            } else {
              bufferAliasesBuilder_.addAllMessages(other.bufferAliases_);
            }
          }
        }
        if (bufferAllocationsBuilder_ == null) {
          if (!other.bufferAllocations_.isEmpty()) {
            if (bufferAllocations_.isEmpty()) {
              bufferAllocations_ = other.bufferAllocations_;
              bitField0_ = (bitField0_ & ~0x00000004);
            } else {
              ensureBufferAllocationsIsMutable();
              bufferAllocations_.addAll(other.bufferAllocations_);
            }
            onChanged();
          }
        } else {
          if (!other.bufferAllocations_.isEmpty()) {
            if (bufferAllocationsBuilder_.isEmpty()) {
              bufferAllocationsBuilder_.dispose();
              bufferAllocationsBuilder_ = null;
              bufferAllocations_ = other.bufferAllocations_;
              bitField0_ = (bitField0_ & ~0x00000004);
              bufferAllocationsBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getBufferAllocationsFieldBuilder() : null;
            } else {
              bufferAllocationsBuilder_.addAllMessages(other.bufferAllocations_);
            }
          }
        }
        if (heapSimulatorTracesBuilder_ == null) {
          if (!other.heapSimulatorTraces_.isEmpty()) {
            if (heapSimulatorTraces_.isEmpty()) {
              heapSimulatorTraces_ = other.heapSimulatorTraces_;
              bitField0_ = (bitField0_ & ~0x00000008);
            } else {
              ensureHeapSimulatorTracesIsMutable();
              heapSimulatorTraces_.addAll(other.heapSimulatorTraces_);
            }
            onChanged();
          }
        } else {
          if (!other.heapSimulatorTraces_.isEmpty()) {
            if (heapSimulatorTracesBuilder_.isEmpty()) {
              heapSimulatorTracesBuilder_.dispose();
              heapSimulatorTracesBuilder_ = null;
              heapSimulatorTraces_ = other.heapSimulatorTraces_;
              bitField0_ = (bitField0_ & ~0x00000008);
              heapSimulatorTracesBuilder_ = 
                com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                   getHeapSimulatorTracesFieldBuilder() : null;
            } else {
              heapSimulatorTracesBuilder_.addAllMessages(other.heapSimulatorTraces_);
            }
          }
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.BufferAssignmentProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.BufferAssignmentProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      private java.util.List<xla.Hlo.LogicalBufferProto> logicalBuffers_ =
        java.util.Collections.emptyList();
      private void ensureLogicalBuffersIsMutable() {
        if (!((bitField0_ & 0x00000001) == 0x00000001)) {
          logicalBuffers_ = new java.util.ArrayList<xla.Hlo.LogicalBufferProto>(logicalBuffers_);
          bitField0_ |= 0x00000001;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.LogicalBufferProto, xla.Hlo.LogicalBufferProto.Builder, xla.Hlo.LogicalBufferProtoOrBuilder> logicalBuffersBuilder_;

      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public java.util.List<xla.Hlo.LogicalBufferProto> getLogicalBuffersList() {
        if (logicalBuffersBuilder_ == null) {
          return java.util.Collections.unmodifiableList(logicalBuffers_);
        } else {
          return logicalBuffersBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public int getLogicalBuffersCount() {
        if (logicalBuffersBuilder_ == null) {
          return logicalBuffers_.size();
        } else {
          return logicalBuffersBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public xla.Hlo.LogicalBufferProto getLogicalBuffers(int index) {
        if (logicalBuffersBuilder_ == null) {
          return logicalBuffers_.get(index);
        } else {
          return logicalBuffersBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder setLogicalBuffers(
          int index, xla.Hlo.LogicalBufferProto value) {
        if (logicalBuffersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.set(index, value);
          onChanged();
        } else {
          logicalBuffersBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder setLogicalBuffers(
          int index, xla.Hlo.LogicalBufferProto.Builder builderForValue) {
        if (logicalBuffersBuilder_ == null) {
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.set(index, builderForValue.build());
          onChanged();
        } else {
          logicalBuffersBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder addLogicalBuffers(xla.Hlo.LogicalBufferProto value) {
        if (logicalBuffersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.add(value);
          onChanged();
        } else {
          logicalBuffersBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder addLogicalBuffers(
          int index, xla.Hlo.LogicalBufferProto value) {
        if (logicalBuffersBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.add(index, value);
          onChanged();
        } else {
          logicalBuffersBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder addLogicalBuffers(
          xla.Hlo.LogicalBufferProto.Builder builderForValue) {
        if (logicalBuffersBuilder_ == null) {
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.add(builderForValue.build());
          onChanged();
        } else {
          logicalBuffersBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder addLogicalBuffers(
          int index, xla.Hlo.LogicalBufferProto.Builder builderForValue) {
        if (logicalBuffersBuilder_ == null) {
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.add(index, builderForValue.build());
          onChanged();
        } else {
          logicalBuffersBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder addAllLogicalBuffers(
          java.lang.Iterable<? extends xla.Hlo.LogicalBufferProto> values) {
        if (logicalBuffersBuilder_ == null) {
          ensureLogicalBuffersIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, logicalBuffers_);
          onChanged();
        } else {
          logicalBuffersBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder clearLogicalBuffers() {
        if (logicalBuffersBuilder_ == null) {
          logicalBuffers_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000001);
          onChanged();
        } else {
          logicalBuffersBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public Builder removeLogicalBuffers(int index) {
        if (logicalBuffersBuilder_ == null) {
          ensureLogicalBuffersIsMutable();
          logicalBuffers_.remove(index);
          onChanged();
        } else {
          logicalBuffersBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public xla.Hlo.LogicalBufferProto.Builder getLogicalBuffersBuilder(
          int index) {
        return getLogicalBuffersFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public xla.Hlo.LogicalBufferProtoOrBuilder getLogicalBuffersOrBuilder(
          int index) {
        if (logicalBuffersBuilder_ == null) {
          return logicalBuffers_.get(index);  } else {
          return logicalBuffersBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public java.util.List<? extends xla.Hlo.LogicalBufferProtoOrBuilder> 
           getLogicalBuffersOrBuilderList() {
        if (logicalBuffersBuilder_ != null) {
          return logicalBuffersBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(logicalBuffers_);
        }
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public xla.Hlo.LogicalBufferProto.Builder addLogicalBuffersBuilder() {
        return getLogicalBuffersFieldBuilder().addBuilder(
            xla.Hlo.LogicalBufferProto.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public xla.Hlo.LogicalBufferProto.Builder addLogicalBuffersBuilder(
          int index) {
        return getLogicalBuffersFieldBuilder().addBuilder(
            index, xla.Hlo.LogicalBufferProto.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.LogicalBufferProto logical_buffers = 1;</code>
       */
      public java.util.List<xla.Hlo.LogicalBufferProto.Builder> 
           getLogicalBuffersBuilderList() {
        return getLogicalBuffersFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.LogicalBufferProto, xla.Hlo.LogicalBufferProto.Builder, xla.Hlo.LogicalBufferProtoOrBuilder> 
          getLogicalBuffersFieldBuilder() {
        if (logicalBuffersBuilder_ == null) {
          logicalBuffersBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.LogicalBufferProto, xla.Hlo.LogicalBufferProto.Builder, xla.Hlo.LogicalBufferProtoOrBuilder>(
                  logicalBuffers_,
                  ((bitField0_ & 0x00000001) == 0x00000001),
                  getParentForChildren(),
                  isClean());
          logicalBuffers_ = null;
        }
        return logicalBuffersBuilder_;
      }

      private java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias> bufferAliases_ =
        java.util.Collections.emptyList();
      private void ensureBufferAliasesIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          bufferAliases_ = new java.util.ArrayList<xla.Hlo.BufferAssignmentProto.BufferAlias>(bufferAliases_);
          bitField0_ |= 0x00000002;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAssignmentProto.BufferAlias, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder, xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder> bufferAliasesBuilder_;

      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias> getBufferAliasesList() {
        if (bufferAliasesBuilder_ == null) {
          return java.util.Collections.unmodifiableList(bufferAliases_);
        } else {
          return bufferAliasesBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public int getBufferAliasesCount() {
        if (bufferAliasesBuilder_ == null) {
          return bufferAliases_.size();
        } else {
          return bufferAliasesBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public xla.Hlo.BufferAssignmentProto.BufferAlias getBufferAliases(int index) {
        if (bufferAliasesBuilder_ == null) {
          return bufferAliases_.get(index);
        } else {
          return bufferAliasesBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder setBufferAliases(
          int index, xla.Hlo.BufferAssignmentProto.BufferAlias value) {
        if (bufferAliasesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAliasesIsMutable();
          bufferAliases_.set(index, value);
          onChanged();
        } else {
          bufferAliasesBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder setBufferAliases(
          int index, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder builderForValue) {
        if (bufferAliasesBuilder_ == null) {
          ensureBufferAliasesIsMutable();
          bufferAliases_.set(index, builderForValue.build());
          onChanged();
        } else {
          bufferAliasesBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder addBufferAliases(xla.Hlo.BufferAssignmentProto.BufferAlias value) {
        if (bufferAliasesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAliasesIsMutable();
          bufferAliases_.add(value);
          onChanged();
        } else {
          bufferAliasesBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder addBufferAliases(
          int index, xla.Hlo.BufferAssignmentProto.BufferAlias value) {
        if (bufferAliasesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAliasesIsMutable();
          bufferAliases_.add(index, value);
          onChanged();
        } else {
          bufferAliasesBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder addBufferAliases(
          xla.Hlo.BufferAssignmentProto.BufferAlias.Builder builderForValue) {
        if (bufferAliasesBuilder_ == null) {
          ensureBufferAliasesIsMutable();
          bufferAliases_.add(builderForValue.build());
          onChanged();
        } else {
          bufferAliasesBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder addBufferAliases(
          int index, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder builderForValue) {
        if (bufferAliasesBuilder_ == null) {
          ensureBufferAliasesIsMutable();
          bufferAliases_.add(index, builderForValue.build());
          onChanged();
        } else {
          bufferAliasesBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder addAllBufferAliases(
          java.lang.Iterable<? extends xla.Hlo.BufferAssignmentProto.BufferAlias> values) {
        if (bufferAliasesBuilder_ == null) {
          ensureBufferAliasesIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, bufferAliases_);
          onChanged();
        } else {
          bufferAliasesBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder clearBufferAliases() {
        if (bufferAliasesBuilder_ == null) {
          bufferAliases_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
        } else {
          bufferAliasesBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public Builder removeBufferAliases(int index) {
        if (bufferAliasesBuilder_ == null) {
          ensureBufferAliasesIsMutable();
          bufferAliases_.remove(index);
          onChanged();
        } else {
          bufferAliasesBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public xla.Hlo.BufferAssignmentProto.BufferAlias.Builder getBufferAliasesBuilder(
          int index) {
        return getBufferAliasesFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder getBufferAliasesOrBuilder(
          int index) {
        if (bufferAliasesBuilder_ == null) {
          return bufferAliases_.get(index);  } else {
          return bufferAliasesBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public java.util.List<? extends xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder> 
           getBufferAliasesOrBuilderList() {
        if (bufferAliasesBuilder_ != null) {
          return bufferAliasesBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(bufferAliases_);
        }
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public xla.Hlo.BufferAssignmentProto.BufferAlias.Builder addBufferAliasesBuilder() {
        return getBufferAliasesFieldBuilder().addBuilder(
            xla.Hlo.BufferAssignmentProto.BufferAlias.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public xla.Hlo.BufferAssignmentProto.BufferAlias.Builder addBufferAliasesBuilder(
          int index) {
        return getBufferAliasesFieldBuilder().addBuilder(
            index, xla.Hlo.BufferAssignmentProto.BufferAlias.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;</code>
       */
      public java.util.List<xla.Hlo.BufferAssignmentProto.BufferAlias.Builder> 
           getBufferAliasesBuilderList() {
        return getBufferAliasesFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAssignmentProto.BufferAlias, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder, xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder> 
          getBufferAliasesFieldBuilder() {
        if (bufferAliasesBuilder_ == null) {
          bufferAliasesBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.BufferAssignmentProto.BufferAlias, xla.Hlo.BufferAssignmentProto.BufferAlias.Builder, xla.Hlo.BufferAssignmentProto.BufferAliasOrBuilder>(
                  bufferAliases_,
                  ((bitField0_ & 0x00000002) == 0x00000002),
                  getParentForChildren(),
                  isClean());
          bufferAliases_ = null;
        }
        return bufferAliasesBuilder_;
      }

      private java.util.List<xla.Hlo.BufferAllocationProto> bufferAllocations_ =
        java.util.Collections.emptyList();
      private void ensureBufferAllocationsIsMutable() {
        if (!((bitField0_ & 0x00000004) == 0x00000004)) {
          bufferAllocations_ = new java.util.ArrayList<xla.Hlo.BufferAllocationProto>(bufferAllocations_);
          bitField0_ |= 0x00000004;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAllocationProto, xla.Hlo.BufferAllocationProto.Builder, xla.Hlo.BufferAllocationProtoOrBuilder> bufferAllocationsBuilder_;

      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public java.util.List<xla.Hlo.BufferAllocationProto> getBufferAllocationsList() {
        if (bufferAllocationsBuilder_ == null) {
          return java.util.Collections.unmodifiableList(bufferAllocations_);
        } else {
          return bufferAllocationsBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public int getBufferAllocationsCount() {
        if (bufferAllocationsBuilder_ == null) {
          return bufferAllocations_.size();
        } else {
          return bufferAllocationsBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public xla.Hlo.BufferAllocationProto getBufferAllocations(int index) {
        if (bufferAllocationsBuilder_ == null) {
          return bufferAllocations_.get(index);
        } else {
          return bufferAllocationsBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder setBufferAllocations(
          int index, xla.Hlo.BufferAllocationProto value) {
        if (bufferAllocationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.set(index, value);
          onChanged();
        } else {
          bufferAllocationsBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder setBufferAllocations(
          int index, xla.Hlo.BufferAllocationProto.Builder builderForValue) {
        if (bufferAllocationsBuilder_ == null) {
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.set(index, builderForValue.build());
          onChanged();
        } else {
          bufferAllocationsBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder addBufferAllocations(xla.Hlo.BufferAllocationProto value) {
        if (bufferAllocationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.add(value);
          onChanged();
        } else {
          bufferAllocationsBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder addBufferAllocations(
          int index, xla.Hlo.BufferAllocationProto value) {
        if (bufferAllocationsBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.add(index, value);
          onChanged();
        } else {
          bufferAllocationsBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder addBufferAllocations(
          xla.Hlo.BufferAllocationProto.Builder builderForValue) {
        if (bufferAllocationsBuilder_ == null) {
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.add(builderForValue.build());
          onChanged();
        } else {
          bufferAllocationsBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder addBufferAllocations(
          int index, xla.Hlo.BufferAllocationProto.Builder builderForValue) {
        if (bufferAllocationsBuilder_ == null) {
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.add(index, builderForValue.build());
          onChanged();
        } else {
          bufferAllocationsBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder addAllBufferAllocations(
          java.lang.Iterable<? extends xla.Hlo.BufferAllocationProto> values) {
        if (bufferAllocationsBuilder_ == null) {
          ensureBufferAllocationsIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, bufferAllocations_);
          onChanged();
        } else {
          bufferAllocationsBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder clearBufferAllocations() {
        if (bufferAllocationsBuilder_ == null) {
          bufferAllocations_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          onChanged();
        } else {
          bufferAllocationsBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public Builder removeBufferAllocations(int index) {
        if (bufferAllocationsBuilder_ == null) {
          ensureBufferAllocationsIsMutable();
          bufferAllocations_.remove(index);
          onChanged();
        } else {
          bufferAllocationsBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public xla.Hlo.BufferAllocationProto.Builder getBufferAllocationsBuilder(
          int index) {
        return getBufferAllocationsFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public xla.Hlo.BufferAllocationProtoOrBuilder getBufferAllocationsOrBuilder(
          int index) {
        if (bufferAllocationsBuilder_ == null) {
          return bufferAllocations_.get(index);  } else {
          return bufferAllocationsBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public java.util.List<? extends xla.Hlo.BufferAllocationProtoOrBuilder> 
           getBufferAllocationsOrBuilderList() {
        if (bufferAllocationsBuilder_ != null) {
          return bufferAllocationsBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(bufferAllocations_);
        }
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public xla.Hlo.BufferAllocationProto.Builder addBufferAllocationsBuilder() {
        return getBufferAllocationsFieldBuilder().addBuilder(
            xla.Hlo.BufferAllocationProto.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public xla.Hlo.BufferAllocationProto.Builder addBufferAllocationsBuilder(
          int index) {
        return getBufferAllocationsFieldBuilder().addBuilder(
            index, xla.Hlo.BufferAllocationProto.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.BufferAllocationProto buffer_allocations = 3;</code>
       */
      public java.util.List<xla.Hlo.BufferAllocationProto.Builder> 
           getBufferAllocationsBuilderList() {
        return getBufferAllocationsFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.BufferAllocationProto, xla.Hlo.BufferAllocationProto.Builder, xla.Hlo.BufferAllocationProtoOrBuilder> 
          getBufferAllocationsFieldBuilder() {
        if (bufferAllocationsBuilder_ == null) {
          bufferAllocationsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.BufferAllocationProto, xla.Hlo.BufferAllocationProto.Builder, xla.Hlo.BufferAllocationProtoOrBuilder>(
                  bufferAllocations_,
                  ((bitField0_ & 0x00000004) == 0x00000004),
                  getParentForChildren(),
                  isClean());
          bufferAllocations_ = null;
        }
        return bufferAllocationsBuilder_;
      }

      private java.util.List<xla.Hlo.HeapSimulatorTrace> heapSimulatorTraces_ =
        java.util.Collections.emptyList();
      private void ensureHeapSimulatorTracesIsMutable() {
        if (!((bitField0_ & 0x00000008) == 0x00000008)) {
          heapSimulatorTraces_ = new java.util.ArrayList<xla.Hlo.HeapSimulatorTrace>(heapSimulatorTraces_);
          bitField0_ |= 0x00000008;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HeapSimulatorTrace, xla.Hlo.HeapSimulatorTrace.Builder, xla.Hlo.HeapSimulatorTraceOrBuilder> heapSimulatorTracesBuilder_;

      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public java.util.List<xla.Hlo.HeapSimulatorTrace> getHeapSimulatorTracesList() {
        if (heapSimulatorTracesBuilder_ == null) {
          return java.util.Collections.unmodifiableList(heapSimulatorTraces_);
        } else {
          return heapSimulatorTracesBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public int getHeapSimulatorTracesCount() {
        if (heapSimulatorTracesBuilder_ == null) {
          return heapSimulatorTraces_.size();
        } else {
          return heapSimulatorTracesBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public xla.Hlo.HeapSimulatorTrace getHeapSimulatorTraces(int index) {
        if (heapSimulatorTracesBuilder_ == null) {
          return heapSimulatorTraces_.get(index);
        } else {
          return heapSimulatorTracesBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder setHeapSimulatorTraces(
          int index, xla.Hlo.HeapSimulatorTrace value) {
        if (heapSimulatorTracesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.set(index, value);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder setHeapSimulatorTraces(
          int index, xla.Hlo.HeapSimulatorTrace.Builder builderForValue) {
        if (heapSimulatorTracesBuilder_ == null) {
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.set(index, builderForValue.build());
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder addHeapSimulatorTraces(xla.Hlo.HeapSimulatorTrace value) {
        if (heapSimulatorTracesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.add(value);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder addHeapSimulatorTraces(
          int index, xla.Hlo.HeapSimulatorTrace value) {
        if (heapSimulatorTracesBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.add(index, value);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder addHeapSimulatorTraces(
          xla.Hlo.HeapSimulatorTrace.Builder builderForValue) {
        if (heapSimulatorTracesBuilder_ == null) {
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.add(builderForValue.build());
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder addHeapSimulatorTraces(
          int index, xla.Hlo.HeapSimulatorTrace.Builder builderForValue) {
        if (heapSimulatorTracesBuilder_ == null) {
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.add(index, builderForValue.build());
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder addAllHeapSimulatorTraces(
          java.lang.Iterable<? extends xla.Hlo.HeapSimulatorTrace> values) {
        if (heapSimulatorTracesBuilder_ == null) {
          ensureHeapSimulatorTracesIsMutable();
          com.google.protobuf.AbstractMessageLite.Builder.addAll(
              values, heapSimulatorTraces_);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder clearHeapSimulatorTraces() {
        if (heapSimulatorTracesBuilder_ == null) {
          heapSimulatorTraces_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public Builder removeHeapSimulatorTraces(int index) {
        if (heapSimulatorTracesBuilder_ == null) {
          ensureHeapSimulatorTracesIsMutable();
          heapSimulatorTraces_.remove(index);
          onChanged();
        } else {
          heapSimulatorTracesBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Builder getHeapSimulatorTracesBuilder(
          int index) {
        return getHeapSimulatorTracesFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public xla.Hlo.HeapSimulatorTraceOrBuilder getHeapSimulatorTracesOrBuilder(
          int index) {
        if (heapSimulatorTracesBuilder_ == null) {
          return heapSimulatorTraces_.get(index);  } else {
          return heapSimulatorTracesBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public java.util.List<? extends xla.Hlo.HeapSimulatorTraceOrBuilder> 
           getHeapSimulatorTracesOrBuilderList() {
        if (heapSimulatorTracesBuilder_ != null) {
          return heapSimulatorTracesBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(heapSimulatorTraces_);
        }
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Builder addHeapSimulatorTracesBuilder() {
        return getHeapSimulatorTracesFieldBuilder().addBuilder(
            xla.Hlo.HeapSimulatorTrace.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public xla.Hlo.HeapSimulatorTrace.Builder addHeapSimulatorTracesBuilder(
          int index) {
        return getHeapSimulatorTracesFieldBuilder().addBuilder(
            index, xla.Hlo.HeapSimulatorTrace.getDefaultInstance());
      }
      /**
       * <code>repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;</code>
       */
      public java.util.List<xla.Hlo.HeapSimulatorTrace.Builder> 
           getHeapSimulatorTracesBuilderList() {
        return getHeapSimulatorTracesFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilderV3<
          xla.Hlo.HeapSimulatorTrace, xla.Hlo.HeapSimulatorTrace.Builder, xla.Hlo.HeapSimulatorTraceOrBuilder> 
          getHeapSimulatorTracesFieldBuilder() {
        if (heapSimulatorTracesBuilder_ == null) {
          heapSimulatorTracesBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
              xla.Hlo.HeapSimulatorTrace, xla.Hlo.HeapSimulatorTrace.Builder, xla.Hlo.HeapSimulatorTraceOrBuilder>(
                  heapSimulatorTraces_,
                  ((bitField0_ & 0x00000008) == 0x00000008),
                  getParentForChildren(),
                  isClean());
          heapSimulatorTraces_ = null;
        }
        return heapSimulatorTracesBuilder_;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.BufferAssignmentProto)
    }

    // @@protoc_insertion_point(class_scope:xla.BufferAssignmentProto)
    private static final xla.Hlo.BufferAssignmentProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.BufferAssignmentProto();
    }

    public static xla.Hlo.BufferAssignmentProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<BufferAssignmentProto>
        PARSER = new com.google.protobuf.AbstractParser<BufferAssignmentProto>() {
      public BufferAssignmentProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new BufferAssignmentProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<BufferAssignmentProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<BufferAssignmentProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.BufferAssignmentProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface HloProtoOrBuilder extends
      // @@protoc_insertion_point(interface_extends:xla.HloProto)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    boolean hasHloModule();
    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    xla.Hlo.HloModuleProto getHloModule();
    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    xla.Hlo.HloModuleProtoOrBuilder getHloModuleOrBuilder();

    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    boolean hasHloOrdering();
    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    xla.Hlo.HloOrderingProto getHloOrdering();
    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    xla.Hlo.HloOrderingProtoOrBuilder getHloOrderingOrBuilder();

    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    boolean hasBufferAssignment();
    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    xla.Hlo.BufferAssignmentProto getBufferAssignment();
    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    xla.Hlo.BufferAssignmentProtoOrBuilder getBufferAssignmentOrBuilder();
  }
  /**
   * <pre>
   * Grouping message that contains all of the information above.
   * </pre>
   *
   * Protobuf type {@code xla.HloProto}
   */
  public  static final class HloProto extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:xla.HloProto)
      HloProtoOrBuilder {
    // Use HloProto.newBuilder() to construct.
    private HloProto(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private HloProto() {
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return com.google.protobuf.UnknownFieldSet.getDefaultInstance();
    }
    private HloProto(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      int mutable_bitField0_ = 0;
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!input.skipField(tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              xla.Hlo.HloModuleProto.Builder subBuilder = null;
              if (hloModule_ != null) {
                subBuilder = hloModule_.toBuilder();
              }
              hloModule_ = input.readMessage(xla.Hlo.HloModuleProto.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(hloModule_);
                hloModule_ = subBuilder.buildPartial();
              }

              break;
            }
            case 18: {
              xla.Hlo.HloOrderingProto.Builder subBuilder = null;
              if (hloOrdering_ != null) {
                subBuilder = hloOrdering_.toBuilder();
              }
              hloOrdering_ = input.readMessage(xla.Hlo.HloOrderingProto.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(hloOrdering_);
                hloOrdering_ = subBuilder.buildPartial();
              }

              break;
            }
            case 26: {
              xla.Hlo.BufferAssignmentProto.Builder subBuilder = null;
              if (bufferAssignment_ != null) {
                subBuilder = bufferAssignment_.toBuilder();
              }
              bufferAssignment_ = input.readMessage(xla.Hlo.BufferAssignmentProto.parser(), extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(bufferAssignment_);
                bufferAssignment_ = subBuilder.buildPartial();
              }

              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return xla.Hlo.internal_static_xla_HloProto_descriptor;
    }

    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return xla.Hlo.internal_static_xla_HloProto_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              xla.Hlo.HloProto.class, xla.Hlo.HloProto.Builder.class);
    }

    public static final int HLO_MODULE_FIELD_NUMBER = 1;
    private xla.Hlo.HloModuleProto hloModule_;
    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    public boolean hasHloModule() {
      return hloModule_ != null;
    }
    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    public xla.Hlo.HloModuleProto getHloModule() {
      return hloModule_ == null ? xla.Hlo.HloModuleProto.getDefaultInstance() : hloModule_;
    }
    /**
     * <code>.xla.HloModuleProto hlo_module = 1;</code>
     */
    public xla.Hlo.HloModuleProtoOrBuilder getHloModuleOrBuilder() {
      return getHloModule();
    }

    public static final int HLO_ORDERING_FIELD_NUMBER = 2;
    private xla.Hlo.HloOrderingProto hloOrdering_;
    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    public boolean hasHloOrdering() {
      return hloOrdering_ != null;
    }
    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    public xla.Hlo.HloOrderingProto getHloOrdering() {
      return hloOrdering_ == null ? xla.Hlo.HloOrderingProto.getDefaultInstance() : hloOrdering_;
    }
    /**
     * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
     */
    public xla.Hlo.HloOrderingProtoOrBuilder getHloOrderingOrBuilder() {
      return getHloOrdering();
    }

    public static final int BUFFER_ASSIGNMENT_FIELD_NUMBER = 3;
    private xla.Hlo.BufferAssignmentProto bufferAssignment_;
    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    public boolean hasBufferAssignment() {
      return bufferAssignment_ != null;
    }
    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    public xla.Hlo.BufferAssignmentProto getBufferAssignment() {
      return bufferAssignment_ == null ? xla.Hlo.BufferAssignmentProto.getDefaultInstance() : bufferAssignment_;
    }
    /**
     * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
     */
    public xla.Hlo.BufferAssignmentProtoOrBuilder getBufferAssignmentOrBuilder() {
      return getBufferAssignment();
    }

    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (hloModule_ != null) {
        output.writeMessage(1, getHloModule());
      }
      if (hloOrdering_ != null) {
        output.writeMessage(2, getHloOrdering());
      }
      if (bufferAssignment_ != null) {
        output.writeMessage(3, getBufferAssignment());
      }
    }

    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (hloModule_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, getHloModule());
      }
      if (hloOrdering_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, getHloOrdering());
      }
      if (bufferAssignment_ != null) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, getBufferAssignment());
      }
      memoizedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof xla.Hlo.HloProto)) {
        return super.equals(obj);
      }
      xla.Hlo.HloProto other = (xla.Hlo.HloProto) obj;

      boolean result = true;
      result = result && (hasHloModule() == other.hasHloModule());
      if (hasHloModule()) {
        result = result && getHloModule()
            .equals(other.getHloModule());
      }
      result = result && (hasHloOrdering() == other.hasHloOrdering());
      if (hasHloOrdering()) {
        result = result && getHloOrdering()
            .equals(other.getHloOrdering());
      }
      result = result && (hasBufferAssignment() == other.hasBufferAssignment());
      if (hasBufferAssignment()) {
        result = result && getBufferAssignment()
            .equals(other.getBufferAssignment());
      }
      return result;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      if (hasHloModule()) {
        hash = (37 * hash) + HLO_MODULE_FIELD_NUMBER;
        hash = (53 * hash) + getHloModule().hashCode();
      }
      if (hasHloOrdering()) {
        hash = (37 * hash) + HLO_ORDERING_FIELD_NUMBER;
        hash = (53 * hash) + getHloOrdering().hashCode();
      }
      if (hasBufferAssignment()) {
        hash = (37 * hash) + BUFFER_ASSIGNMENT_FIELD_NUMBER;
        hash = (53 * hash) + getBufferAssignment().hashCode();
      }
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static xla.Hlo.HloProto parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloProto parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloProto parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static xla.Hlo.HloProto parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static xla.Hlo.HloProto parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloProto parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloProto parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloProto parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static xla.Hlo.HloProto parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static xla.Hlo.HloProto parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(xla.Hlo.HloProto prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * <pre>
     * Grouping message that contains all of the information above.
     * </pre>
     *
     * Protobuf type {@code xla.HloProto}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:xla.HloProto)
        xla.Hlo.HloProtoOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return xla.Hlo.internal_static_xla_HloProto_descriptor;
      }

      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return xla.Hlo.internal_static_xla_HloProto_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                xla.Hlo.HloProto.class, xla.Hlo.HloProto.Builder.class);
      }

      // Construct using xla.Hlo.HloProto.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
        }
      }
      public Builder clear() {
        super.clear();
        if (hloModuleBuilder_ == null) {
          hloModule_ = null;
        } else {
          hloModule_ = null;
          hloModuleBuilder_ = null;
        }
        if (hloOrderingBuilder_ == null) {
          hloOrdering_ = null;
        } else {
          hloOrdering_ = null;
          hloOrderingBuilder_ = null;
        }
        if (bufferAssignmentBuilder_ == null) {
          bufferAssignment_ = null;
        } else {
          bufferAssignment_ = null;
          bufferAssignmentBuilder_ = null;
        }
        return this;
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return xla.Hlo.internal_static_xla_HloProto_descriptor;
      }

      public xla.Hlo.HloProto getDefaultInstanceForType() {
        return xla.Hlo.HloProto.getDefaultInstance();
      }

      public xla.Hlo.HloProto build() {
        xla.Hlo.HloProto result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public xla.Hlo.HloProto buildPartial() {
        xla.Hlo.HloProto result = new xla.Hlo.HloProto(this);
        if (hloModuleBuilder_ == null) {
          result.hloModule_ = hloModule_;
        } else {
          result.hloModule_ = hloModuleBuilder_.build();
        }
        if (hloOrderingBuilder_ == null) {
          result.hloOrdering_ = hloOrdering_;
        } else {
          result.hloOrdering_ = hloOrderingBuilder_.build();
        }
        if (bufferAssignmentBuilder_ == null) {
          result.bufferAssignment_ = bufferAssignment_;
        } else {
          result.bufferAssignment_ = bufferAssignmentBuilder_.build();
        }
        onBuilt();
        return result;
      }

      public Builder clone() {
        return (Builder) super.clone();
      }
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.setField(field, value);
      }
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return (Builder) super.clearField(field);
      }
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return (Builder) super.clearOneof(oneof);
      }
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, Object value) {
        return (Builder) super.setRepeatedField(field, index, value);
      }
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          Object value) {
        return (Builder) super.addRepeatedField(field, value);
      }
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof xla.Hlo.HloProto) {
          return mergeFrom((xla.Hlo.HloProto)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(xla.Hlo.HloProto other) {
        if (other == xla.Hlo.HloProto.getDefaultInstance()) return this;
        if (other.hasHloModule()) {
          mergeHloModule(other.getHloModule());
        }
        if (other.hasHloOrdering()) {
          mergeHloOrdering(other.getHloOrdering());
        }
        if (other.hasBufferAssignment()) {
          mergeBufferAssignment(other.getBufferAssignment());
        }
        onChanged();
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        xla.Hlo.HloProto parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (xla.Hlo.HloProto) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }

      private xla.Hlo.HloModuleProto hloModule_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.HloModuleProto, xla.Hlo.HloModuleProto.Builder, xla.Hlo.HloModuleProtoOrBuilder> hloModuleBuilder_;
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public boolean hasHloModule() {
        return hloModuleBuilder_ != null || hloModule_ != null;
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public xla.Hlo.HloModuleProto getHloModule() {
        if (hloModuleBuilder_ == null) {
          return hloModule_ == null ? xla.Hlo.HloModuleProto.getDefaultInstance() : hloModule_;
        } else {
          return hloModuleBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public Builder setHloModule(xla.Hlo.HloModuleProto value) {
        if (hloModuleBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          hloModule_ = value;
          onChanged();
        } else {
          hloModuleBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public Builder setHloModule(
          xla.Hlo.HloModuleProto.Builder builderForValue) {
        if (hloModuleBuilder_ == null) {
          hloModule_ = builderForValue.build();
          onChanged();
        } else {
          hloModuleBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public Builder mergeHloModule(xla.Hlo.HloModuleProto value) {
        if (hloModuleBuilder_ == null) {
          if (hloModule_ != null) {
            hloModule_ =
              xla.Hlo.HloModuleProto.newBuilder(hloModule_).mergeFrom(value).buildPartial();
          } else {
            hloModule_ = value;
          }
          onChanged();
        } else {
          hloModuleBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public Builder clearHloModule() {
        if (hloModuleBuilder_ == null) {
          hloModule_ = null;
          onChanged();
        } else {
          hloModule_ = null;
          hloModuleBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public xla.Hlo.HloModuleProto.Builder getHloModuleBuilder() {
        
        onChanged();
        return getHloModuleFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      public xla.Hlo.HloModuleProtoOrBuilder getHloModuleOrBuilder() {
        if (hloModuleBuilder_ != null) {
          return hloModuleBuilder_.getMessageOrBuilder();
        } else {
          return hloModule_ == null ?
              xla.Hlo.HloModuleProto.getDefaultInstance() : hloModule_;
        }
      }
      /**
       * <code>.xla.HloModuleProto hlo_module = 1;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.HloModuleProto, xla.Hlo.HloModuleProto.Builder, xla.Hlo.HloModuleProtoOrBuilder> 
          getHloModuleFieldBuilder() {
        if (hloModuleBuilder_ == null) {
          hloModuleBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.Hlo.HloModuleProto, xla.Hlo.HloModuleProto.Builder, xla.Hlo.HloModuleProtoOrBuilder>(
                  getHloModule(),
                  getParentForChildren(),
                  isClean());
          hloModule_ = null;
        }
        return hloModuleBuilder_;
      }

      private xla.Hlo.HloOrderingProto hloOrdering_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.HloOrderingProto, xla.Hlo.HloOrderingProto.Builder, xla.Hlo.HloOrderingProtoOrBuilder> hloOrderingBuilder_;
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public boolean hasHloOrdering() {
        return hloOrderingBuilder_ != null || hloOrdering_ != null;
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public xla.Hlo.HloOrderingProto getHloOrdering() {
        if (hloOrderingBuilder_ == null) {
          return hloOrdering_ == null ? xla.Hlo.HloOrderingProto.getDefaultInstance() : hloOrdering_;
        } else {
          return hloOrderingBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public Builder setHloOrdering(xla.Hlo.HloOrderingProto value) {
        if (hloOrderingBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          hloOrdering_ = value;
          onChanged();
        } else {
          hloOrderingBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public Builder setHloOrdering(
          xla.Hlo.HloOrderingProto.Builder builderForValue) {
        if (hloOrderingBuilder_ == null) {
          hloOrdering_ = builderForValue.build();
          onChanged();
        } else {
          hloOrderingBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public Builder mergeHloOrdering(xla.Hlo.HloOrderingProto value) {
        if (hloOrderingBuilder_ == null) {
          if (hloOrdering_ != null) {
            hloOrdering_ =
              xla.Hlo.HloOrderingProto.newBuilder(hloOrdering_).mergeFrom(value).buildPartial();
          } else {
            hloOrdering_ = value;
          }
          onChanged();
        } else {
          hloOrderingBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public Builder clearHloOrdering() {
        if (hloOrderingBuilder_ == null) {
          hloOrdering_ = null;
          onChanged();
        } else {
          hloOrdering_ = null;
          hloOrderingBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public xla.Hlo.HloOrderingProto.Builder getHloOrderingBuilder() {
        
        onChanged();
        return getHloOrderingFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      public xla.Hlo.HloOrderingProtoOrBuilder getHloOrderingOrBuilder() {
        if (hloOrderingBuilder_ != null) {
          return hloOrderingBuilder_.getMessageOrBuilder();
        } else {
          return hloOrdering_ == null ?
              xla.Hlo.HloOrderingProto.getDefaultInstance() : hloOrdering_;
        }
      }
      /**
       * <code>.xla.HloOrderingProto hlo_ordering = 2;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.HloOrderingProto, xla.Hlo.HloOrderingProto.Builder, xla.Hlo.HloOrderingProtoOrBuilder> 
          getHloOrderingFieldBuilder() {
        if (hloOrderingBuilder_ == null) {
          hloOrderingBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.Hlo.HloOrderingProto, xla.Hlo.HloOrderingProto.Builder, xla.Hlo.HloOrderingProtoOrBuilder>(
                  getHloOrdering(),
                  getParentForChildren(),
                  isClean());
          hloOrdering_ = null;
        }
        return hloOrderingBuilder_;
      }

      private xla.Hlo.BufferAssignmentProto bufferAssignment_ = null;
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.BufferAssignmentProto, xla.Hlo.BufferAssignmentProto.Builder, xla.Hlo.BufferAssignmentProtoOrBuilder> bufferAssignmentBuilder_;
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public boolean hasBufferAssignment() {
        return bufferAssignmentBuilder_ != null || bufferAssignment_ != null;
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public xla.Hlo.BufferAssignmentProto getBufferAssignment() {
        if (bufferAssignmentBuilder_ == null) {
          return bufferAssignment_ == null ? xla.Hlo.BufferAssignmentProto.getDefaultInstance() : bufferAssignment_;
        } else {
          return bufferAssignmentBuilder_.getMessage();
        }
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public Builder setBufferAssignment(xla.Hlo.BufferAssignmentProto value) {
        if (bufferAssignmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          bufferAssignment_ = value;
          onChanged();
        } else {
          bufferAssignmentBuilder_.setMessage(value);
        }

        return this;
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public Builder setBufferAssignment(
          xla.Hlo.BufferAssignmentProto.Builder builderForValue) {
        if (bufferAssignmentBuilder_ == null) {
          bufferAssignment_ = builderForValue.build();
          onChanged();
        } else {
          bufferAssignmentBuilder_.setMessage(builderForValue.build());
        }

        return this;
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public Builder mergeBufferAssignment(xla.Hlo.BufferAssignmentProto value) {
        if (bufferAssignmentBuilder_ == null) {
          if (bufferAssignment_ != null) {
            bufferAssignment_ =
              xla.Hlo.BufferAssignmentProto.newBuilder(bufferAssignment_).mergeFrom(value).buildPartial();
          } else {
            bufferAssignment_ = value;
          }
          onChanged();
        } else {
          bufferAssignmentBuilder_.mergeFrom(value);
        }

        return this;
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public Builder clearBufferAssignment() {
        if (bufferAssignmentBuilder_ == null) {
          bufferAssignment_ = null;
          onChanged();
        } else {
          bufferAssignment_ = null;
          bufferAssignmentBuilder_ = null;
        }

        return this;
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public xla.Hlo.BufferAssignmentProto.Builder getBufferAssignmentBuilder() {
        
        onChanged();
        return getBufferAssignmentFieldBuilder().getBuilder();
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      public xla.Hlo.BufferAssignmentProtoOrBuilder getBufferAssignmentOrBuilder() {
        if (bufferAssignmentBuilder_ != null) {
          return bufferAssignmentBuilder_.getMessageOrBuilder();
        } else {
          return bufferAssignment_ == null ?
              xla.Hlo.BufferAssignmentProto.getDefaultInstance() : bufferAssignment_;
        }
      }
      /**
       * <code>.xla.BufferAssignmentProto buffer_assignment = 3;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          xla.Hlo.BufferAssignmentProto, xla.Hlo.BufferAssignmentProto.Builder, xla.Hlo.BufferAssignmentProtoOrBuilder> 
          getBufferAssignmentFieldBuilder() {
        if (bufferAssignmentBuilder_ == null) {
          bufferAssignmentBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              xla.Hlo.BufferAssignmentProto, xla.Hlo.BufferAssignmentProto.Builder, xla.Hlo.BufferAssignmentProtoOrBuilder>(
                  getBufferAssignment(),
                  getParentForChildren(),
                  isClean());
          bufferAssignment_ = null;
        }
        return bufferAssignmentBuilder_;
      }
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }

      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return this;
      }


      // @@protoc_insertion_point(builder_scope:xla.HloProto)
    }

    // @@protoc_insertion_point(class_scope:xla.HloProto)
    private static final xla.Hlo.HloProto DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new xla.Hlo.HloProto();
    }

    public static xla.Hlo.HloProto getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<HloProto>
        PARSER = new com.google.protobuf.AbstractParser<HloProto>() {
      public HloProto parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
          return new HloProto(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<HloProto> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<HloProto> getParserForType() {
      return PARSER;
    }

    public xla.Hlo.HloProto getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloInstructionProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloInstructionProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloInstructionProto_SliceDimensions_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloInstructionProto_SliceDimensions_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloComputationProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloComputationProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloModuleProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloModuleProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloOrderingProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloOrderingProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloOrderingProto_SequentialComputation_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloOrderingProto_SequentialComputation_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_LogicalBufferProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_LogicalBufferProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_LogicalBufferProto_Location_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_LogicalBufferProto_Location_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_BufferAllocationProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_BufferAllocationProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_BufferAllocationProto_Assigned_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_BufferAllocationProto_Assigned_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HeapSimulatorTrace_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HeapSimulatorTrace_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HeapSimulatorTrace_Event_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HeapSimulatorTrace_Event_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_BufferAssignmentProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_BufferAssignmentProto_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_BufferAssignmentProto_BufferAlias_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_xla_HloProto_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_xla_HloProto_fieldAccessorTable;

  public static com.google.protobuf.Descriptors.FileDescriptor
      getDescriptor() {
    return descriptor;
  }
  private static  com.google.protobuf.Descriptors.FileDescriptor
      descriptor;
  static {
    java.lang.String[] descriptorData = {
      "\n)tensorflow/compiler/xla/service/hlo.pr" +
      "oto\022\003xla\032&tensorflow/compiler/xla/xla_da" +
      "ta.proto\"\211\n\n\023HloInstructionProto\022\014\n\004name" +
      "\030\001 \001(\t\022\016\n\006opcode\030\002 \001(\t\022\031\n\005shape\030\003 \001(\0132\n." +
      "xla.Shape\022!\n\010metadata\030\007 \001(\0132\017.xla.OpMeta" +
      "data\022\"\n\007literal\030\010 \001(\0132\021.xla.LiteralProto" +
      "\022\030\n\020parameter_number\030\t \001(\003\022\023\n\013fusion_kin" +
      "d\030\013 \001(\t\022\023\n\013tuple_index\030\r \001(\003\022\022\n\ndimensio" +
      "ns\030\016 \003(\003\022\033\n\006window\030\017 \001(\0132\013.xla.Window\022G\n" +
      "\035convolution_dimension_numbers\030\020 \001(\0132 .x",
      "la.ConvolutionDimensionNumbers\022B\n\020slice_" +
      "dimensions\030\021 \003(\0132(.xla.HloInstructionPro" +
      "to.SliceDimensions\022\025\n\rexponent_bits\030\022 \001(" +
      "\005\022\025\n\rmantissa_bits\030\023 \001(\005\022\033\n\023dynamic_slic" +
      "e_sizes\030\024 \003(\003\022*\n\016padding_config\030\025 \001(\0132\022." +
      "xla.PaddingConfig\022\026\n\016outfeed_config\030\026 \001(" +
      "\014\022-\n\014distribution\030\027 \001(\0162\027.xla.RandomDist" +
      "ribution\022\017\n\007epsilon\030\030 \001(\002\022\025\n\rfeature_ind" +
      "ex\030\031 \001(\003\022\022\n\nchannel_id\030\032 \001(\003\022\025\n\rinfeed_c" +
      "onfig\030\033 \001(\014\022\032\n\022custom_call_target\030\034 \001(\t\022",
      "!\n\routfeed_shape\030\035 \001(\0132\n.xla.Shape\0227\n\025do" +
      "t_dimension_numbers\030\036 \001(\0132\030.xla.DotDimen" +
      "sionNumbers\022\036\n\010fft_type\030\037 \001(\0162\014.xla.FftT" +
      "ype\022\022\n\nfft_length\030  \003(\003\022=\n\030gather_dimens" +
      "ion_numbers\030! \001(\0132\033.xla.GatherDimensionN" +
      "umbers\022\034\n\024gather_window_bounds\030\" \003(\003\022\n\n\002" +
      "id\030# \001(\003\022\023\n\013operand_ids\030$ \003(\003\022\037\n\027control" +
      "_predecessor_ids\030% \003(\003\022\036\n\026called_computa" +
      "tion_ids\030& \003(\003\022!\n\010sharding\030( \001(\0132\017.xla.O" +
      "pSharding\032?\n\017SliceDimensions\022\r\n\005start\030\001 ",
      "\001(\003\022\r\n\005limit\030\002 \001(\003\022\016\n\006stride\030\003 \001(\003J\004\010\n\020\013" +
      "J\004\010\014\020\rJ\004\010\004\020\005J\004\010\005\020\006J\004\010\006\020\007R\016parameter_name" +
      "R\036fused_instructions_computationR\roperan" +
      "d_namesR\031control_predecessor_namesR\030call" +
      "ed_computation_names\"\253\001\n\023HloComputationP" +
      "roto\022\014\n\004name\030\001 \001(\t\022.\n\014instructions\030\002 \003(\013" +
      "2\030.xla.HloInstructionProto\022(\n\rprogram_sh" +
      "ape\030\004 \001(\0132\021.xla.ProgramShape\022\n\n\002id\030\005 \001(\003" +
      "\022\017\n\007root_id\030\006 \001(\003J\004\010\003\020\004R\troot_name\"\302\001\n\016H" +
      "loModuleProto\022\014\n\004name\030\001 \001(\t\022\036\n\026entry_com",
      "putation_name\030\002 \001(\t\022\034\n\024entry_computation" +
      "_id\030\006 \001(\003\022.\n\014computations\030\003 \003(\0132\030.xla.Hl" +
      "oComputationProto\022(\n\rprogram_shape\030\004 \001(\013" +
      "2\021.xla.ProgramShape\022\n\n\002id\030\005 \001(\003\"\256\001\n\020HloO" +
      "rderingProto\022L\n\027sequential_computations\030" +
      "\001 \003(\0132+.xla.HloOrderingProto.SequentialC" +
      "omputation\032L\n\025SequentialComputation\022\030\n\020c" +
      "omputation_name\030\001 \001(\t\022\031\n\021instruction_nam" +
      "es\030\002 \003(\t\"\310\001\n\022LogicalBufferProto\022\n\n\002id\030\001 " +
      "\001(\003\022\014\n\004size\030\002 \001(\003\0224\n\ndefined_at\030\003 \001(\0132 .",
      "xla.LogicalBufferProto.Location\022\r\n\005color" +
      "\030\004 \001(\003\032S\n\010Location\022\030\n\020computation_name\030\001" +
      " \001(\t\022\030\n\020instruction_name\030\002 \001(\t\022\023\n\013shape_" +
      "index\030\003 \003(\003\"\346\002\n\025BufferAllocationProto\022\r\n" +
      "\005index\030\001 \001(\003\022\014\n\004size\030\002 \001(\003\022\027\n\017is_thread_" +
      "local\030\003 \001(\010\022\023\n\013is_reusable\030\004 \001(\010\022&\n\036is_e" +
      "ntry_computation_parameter\030\005 \001(\010\022\030\n\020para" +
      "meter_number\030\006 \001(\003\022\035\n\025parameter_shape_in" +
      "dex\030\n \003(\003\022\026\n\016maybe_live_out\030\007 \001(\010\022\r\n\005col" +
      "or\030\010 \001(\003\0225\n\010assigned\030\t \003(\0132#.xla.BufferA",
      "llocationProto.Assigned\032C\n\010Assigned\022\031\n\021l" +
      "ogical_buffer_id\030\001 \001(\003\022\016\n\006offset\030\002 \001(\003\022\014" +
      "\n\004size\030\003 \001(\003\"\265\002\n\022HeapSimulatorTrace\022-\n\006e" +
      "vents\030\001 \003(\0132\035.xla.HeapSimulatorTrace.Eve" +
      "nt\022\037\n\027whole_module_simulation\030\002 \001(\010\032\316\001\n\005" +
      "Event\0220\n\004kind\030\001 \001(\0162\".xla.HeapSimulatorT" +
      "race.Event.Kind\022\021\n\tbuffer_id\030\002 \001(\003\022\030\n\020co" +
      "mputation_name\030\003 \001(\t\022\030\n\020instruction_name" +
      "\030\004 \001(\t\022\037\n\027share_with_canonical_id\030\005 \001(\003\"" +
      "+\n\004Kind\022\t\n\005ALLOC\020\000\022\010\n\004FREE\020\001\022\016\n\nSHARE_WI",
      "TH\020\002\"\326\002\n\025BufferAssignmentProto\0220\n\017logica" +
      "l_buffers\030\001 \003(\0132\027.xla.LogicalBufferProto" +
      "\022>\n\016buffer_aliases\030\002 \003(\0132&.xla.BufferAss" +
      "ignmentProto.BufferAlias\0226\n\022buffer_alloc" +
      "ations\030\003 \003(\0132\032.xla.BufferAllocationProto" +
      "\0226\n\025heap_simulator_traces\030\004 \003(\0132\027.xla.He" +
      "apSimulatorTrace\032[\n\013BufferAlias\022\030\n\020sourc" +
      "e_buffer_id\030\001 \001(\003\0222\n\010location\030\002 \001(\0132 .xl" +
      "a.LogicalBufferProto.Location\"\227\001\n\010HloPro" +
      "to\022\'\n\nhlo_module\030\001 \001(\0132\023.xla.HloModulePr",
      "oto\022+\n\014hlo_ordering\030\002 \001(\0132\025.xla.HloOrder" +
      "ingProto\0225\n\021buffer_assignment\030\003 \001(\0132\032.xl" +
      "a.BufferAssignmentProtoB\003\370\001\001b\006proto3"
    };
    com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner assigner =
        new com.google.protobuf.Descriptors.FileDescriptor.    InternalDescriptorAssigner() {
          public com.google.protobuf.ExtensionRegistry assignDescriptors(
              com.google.protobuf.Descriptors.FileDescriptor root) {
            descriptor = root;
            return null;
          }
        };
    com.google.protobuf.Descriptors.FileDescriptor
      .internalBuildGeneratedFileFrom(descriptorData,
        new com.google.protobuf.Descriptors.FileDescriptor[] {
          xla.XlaData.getDescriptor(),
        }, assigner);
    internal_static_xla_HloInstructionProto_descriptor =
      getDescriptor().getMessageTypes().get(0);
    internal_static_xla_HloInstructionProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloInstructionProto_descriptor,
        new java.lang.String[] { "Name", "Opcode", "Shape", "Metadata", "Literal", "ParameterNumber", "FusionKind", "TupleIndex", "Dimensions", "Window", "ConvolutionDimensionNumbers", "SliceDimensions", "ExponentBits", "MantissaBits", "DynamicSliceSizes", "PaddingConfig", "OutfeedConfig", "Distribution", "Epsilon", "FeatureIndex", "ChannelId", "InfeedConfig", "CustomCallTarget", "OutfeedShape", "DotDimensionNumbers", "FftType", "FftLength", "GatherDimensionNumbers", "GatherWindowBounds", "Id", "OperandIds", "ControlPredecessorIds", "CalledComputationIds", "Sharding", });
    internal_static_xla_HloInstructionProto_SliceDimensions_descriptor =
      internal_static_xla_HloInstructionProto_descriptor.getNestedTypes().get(0);
    internal_static_xla_HloInstructionProto_SliceDimensions_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloInstructionProto_SliceDimensions_descriptor,
        new java.lang.String[] { "Start", "Limit", "Stride", });
    internal_static_xla_HloComputationProto_descriptor =
      getDescriptor().getMessageTypes().get(1);
    internal_static_xla_HloComputationProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloComputationProto_descriptor,
        new java.lang.String[] { "Name", "Instructions", "ProgramShape", "Id", "RootId", });
    internal_static_xla_HloModuleProto_descriptor =
      getDescriptor().getMessageTypes().get(2);
    internal_static_xla_HloModuleProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloModuleProto_descriptor,
        new java.lang.String[] { "Name", "EntryComputationName", "EntryComputationId", "Computations", "ProgramShape", "Id", });
    internal_static_xla_HloOrderingProto_descriptor =
      getDescriptor().getMessageTypes().get(3);
    internal_static_xla_HloOrderingProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloOrderingProto_descriptor,
        new java.lang.String[] { "SequentialComputations", });
    internal_static_xla_HloOrderingProto_SequentialComputation_descriptor =
      internal_static_xla_HloOrderingProto_descriptor.getNestedTypes().get(0);
    internal_static_xla_HloOrderingProto_SequentialComputation_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloOrderingProto_SequentialComputation_descriptor,
        new java.lang.String[] { "ComputationName", "InstructionNames", });
    internal_static_xla_LogicalBufferProto_descriptor =
      getDescriptor().getMessageTypes().get(4);
    internal_static_xla_LogicalBufferProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_LogicalBufferProto_descriptor,
        new java.lang.String[] { "Id", "Size", "DefinedAt", "Color", });
    internal_static_xla_LogicalBufferProto_Location_descriptor =
      internal_static_xla_LogicalBufferProto_descriptor.getNestedTypes().get(0);
    internal_static_xla_LogicalBufferProto_Location_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_LogicalBufferProto_Location_descriptor,
        new java.lang.String[] { "ComputationName", "InstructionName", "ShapeIndex", });
    internal_static_xla_BufferAllocationProto_descriptor =
      getDescriptor().getMessageTypes().get(5);
    internal_static_xla_BufferAllocationProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_BufferAllocationProto_descriptor,
        new java.lang.String[] { "Index", "Size", "IsThreadLocal", "IsReusable", "IsEntryComputationParameter", "ParameterNumber", "ParameterShapeIndex", "MaybeLiveOut", "Color", "Assigned", });
    internal_static_xla_BufferAllocationProto_Assigned_descriptor =
      internal_static_xla_BufferAllocationProto_descriptor.getNestedTypes().get(0);
    internal_static_xla_BufferAllocationProto_Assigned_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_BufferAllocationProto_Assigned_descriptor,
        new java.lang.String[] { "LogicalBufferId", "Offset", "Size", });
    internal_static_xla_HeapSimulatorTrace_descriptor =
      getDescriptor().getMessageTypes().get(6);
    internal_static_xla_HeapSimulatorTrace_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HeapSimulatorTrace_descriptor,
        new java.lang.String[] { "Events", "WholeModuleSimulation", });
    internal_static_xla_HeapSimulatorTrace_Event_descriptor =
      internal_static_xla_HeapSimulatorTrace_descriptor.getNestedTypes().get(0);
    internal_static_xla_HeapSimulatorTrace_Event_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HeapSimulatorTrace_Event_descriptor,
        new java.lang.String[] { "Kind", "BufferId", "ComputationName", "InstructionName", "ShareWithCanonicalId", });
    internal_static_xla_BufferAssignmentProto_descriptor =
      getDescriptor().getMessageTypes().get(7);
    internal_static_xla_BufferAssignmentProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_BufferAssignmentProto_descriptor,
        new java.lang.String[] { "LogicalBuffers", "BufferAliases", "BufferAllocations", "HeapSimulatorTraces", });
    internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor =
      internal_static_xla_BufferAssignmentProto_descriptor.getNestedTypes().get(0);
    internal_static_xla_BufferAssignmentProto_BufferAlias_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_BufferAssignmentProto_BufferAlias_descriptor,
        new java.lang.String[] { "SourceBufferId", "Location", });
    internal_static_xla_HloProto_descriptor =
      getDescriptor().getMessageTypes().get(8);
    internal_static_xla_HloProto_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_xla_HloProto_descriptor,
        new java.lang.String[] { "HloModule", "HloOrdering", "BufferAssignment", });
    xla.XlaData.getDescriptor();
  }

  // @@protoc_insertion_point(outer_class_scope)
}
